"use strict";(self.webpackChunktask_management_system_sr=self.webpackChunktask_management_system_sr||[]).push([[179],{429:()=>{function Ce(t){return"function"==typeof t}function Su(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Td=Su(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function So(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class bn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ce(r))try{r()}catch(s){e=s instanceof Td?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{rA(s)}catch(o){e=e??[],o instanceof Td?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Td(e)}}add(e){var n;if(e&&e!==this)if(this.closed)rA(e);else{if(e instanceof bn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&So(n,e)}remove(e){const{_finalizers:n}=this;n&&So(n,e),e instanceof bn&&e._removeParent(this)}}bn.EMPTY=(()=>{const t=new bn;return t.closed=!0,t})();const tA=bn.EMPTY;function nA(t){return t instanceof bn||t&&"closed"in t&&Ce(t.remove)&&Ce(t.add)&&Ce(t.unsubscribe)}function rA(t){Ce(t)?t():t.unsubscribe()}const _s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Sd={setTimeout(t,e,...n){const{delegate:r}=Sd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Sd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function iA(t){Sd.setTimeout(()=>{const{onUnhandledError:e}=_s;if(!e)throw t;e(t)})}function Em(){}const KG=Im("C",void 0,void 0);function Im(t,e,n){return{kind:t,value:e,error:n}}let vs=null;function Ad(t){if(_s.useDeprecatedSynchronousErrorHandling){const e=!vs;if(e&&(vs={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=vs;if(vs=null,n)throw r}}else t()}class Dm extends bn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,nA(e)&&e.add(this)):this.destination=t4}static create(e,n,r){return new Au(e,n,r)}next(e){this.isStopped?bm(function YG(t){return Im("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?bm(function QG(t){return Im("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?bm(KG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const JG=Function.prototype.bind;function Cm(t,e){return JG.call(t,e)}class ZG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Md(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Md(r)}else Md(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Md(n)}}}class Au extends Dm{constructor(e,n,r){let i;if(super(),Ce(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&_s.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Cm(e.next,s),error:e.error&&Cm(e.error,s),complete:e.complete&&Cm(e.complete,s)}):i=e}this.destination=new ZG(i)}}function Md(t){_s.useDeprecatedSynchronousErrorHandling?function XG(t){_s.useDeprecatedSynchronousErrorHandling&&vs&&(vs.errorThrown=!0,vs.error=t)}(t):iA(t)}function bm(t,e){const{onStoppedNotification:n}=_s;n&&Sd.setTimeout(()=>n(t,e))}const t4={closed:!0,next:Em,error:function e4(t){throw t},complete:Em},Tm="function"==typeof Symbol&&Symbol.observable||"@@observable";function Wr(t){return t}function sA(t){return 0===t.length?Wr:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Me=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function i4(t){return t&&t instanceof Dm||function r4(t){return t&&Ce(t.next)&&Ce(t.error)&&Ce(t.complete)}(t)&&nA(t)}(n)?n:new Au(n,r,i);return Ad(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=oA(r))((i,s)=>{const o=new Au({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Tm](){return this}pipe(...n){return sA(n)(this)}toPromise(n){return new(n=oA(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function oA(t){var e;return null!==(e=t??_s.Promise)&&void 0!==e?e:Promise}const s4=Su(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let gr=(()=>{class t extends Me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new aA(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new s4}next(n){Ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?tA:(this.currentObservers=null,s.push(n),new bn(()=>{this.currentObservers=null,So(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Me;return n.source=this,n}}return t.create=(e,n)=>new aA(e,n),t})();class aA extends gr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:tA}}class Jt extends gr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function uA(t){return Ce(t?.lift)}function dt(t){return e=>{if(uA(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Xe(t,e,n,r,i){return new o4(t,e,n,r,i)}class o4 extends Dm{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function fe(t,e){return dt((n,r)=>{let i=0;n.subscribe(Xe(r,s=>{r.next(t.call(e,s,i++))}))})}function Mm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Mi(t){return this instanceof Mi?(this.v=t,this):new Mi(t)}function hA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Rm(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const fA=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function pA(t){return Ce(t?.then)}function gA(t){return Ce(t[Tm])}function mA(t){return Symbol.asyncIterator&&Ce(t?.[Symbol.asyncIterator])}function yA(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const _A=function S4(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function vA(t){return Ce(t?.[_A])}function wA(t){return function dA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Mi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Mi(n.read());if(i)return yield Mi(void 0);yield yield Mi(r)}}finally{n.releaseLock()}})}function EA(t){return Ce(t?.getReader)}function Tn(t){if(t instanceof Me)return t;if(null!=t){if(gA(t))return function A4(t){return new Me(e=>{const n=t[Tm]();if(Ce(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(fA(t))return function M4(t){return new Me(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(pA(t))return function x4(t){return new Me(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,iA)})}(t);if(mA(t))return IA(t);if(vA(t))return function R4(t){return new Me(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(EA(t))return function k4(t){return IA(wA(t))}(t)}throw yA(t)}function IA(t){return new Me(e=>{(function N4(t,e){var n,r,i,s;return function cA(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=hA(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Kr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function At(t,e,n=1/0){return Ce(e)?At((r,i)=>fe((s,o)=>e(r,s,i,o))(Tn(t(r,i))),n):("number"==typeof e&&(n=e),dt((r,i)=>function P4(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let y=!1;Tn(n(g,l++)).subscribe(Xe(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const w=u.shift();o?Kr(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(Xe(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Ao(t=1/0){return At(Wr,t)}const mr=new Me(t=>t.complete());function km(t){return t[t.length-1]}function Nm(t){return Ce(km(t))?t.pop():void 0}function Mu(t){return function F4(t){return t&&Ce(t.schedule)}(km(t))?t.pop():void 0}function xu(t,e=0){return dt((n,r)=>{n.subscribe(Xe(r,i=>Kr(r,t,()=>r.next(i),e),()=>Kr(r,t,()=>r.complete(),e),i=>Kr(r,t,()=>r.error(i),e)))})}function xd(t,e=0){return dt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function DA(t,e){if(!t)throw new Error("Iterable cannot be null");return new Me(n=>{Kr(n,e,()=>{const r=t[Symbol.asyncIterator]();Kr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function _t(t,e){return e?function H4(t,e){if(null!=t){if(gA(t))return function V4(t,e){return Tn(t).pipe(xd(e),xu(e))}(t,e);if(fA(t))return function B4(t,e){return new Me(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(pA(t))return function U4(t,e){return Tn(t).pipe(xd(e),xu(e))}(t,e);if(mA(t))return DA(t,e);if(vA(t))return function $4(t,e){return new Me(n=>{let r;return Kr(n,e,()=>{r=t[_A](),Kr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ce(r?.return)&&r.return()})}(t,e);if(EA(t))return function j4(t,e){return DA(wA(t),e)}(t,e)}throw yA(t)}(t,e):Tn(t)}function z(...t){return _t(t,Mu(t))}function CA(t={}){const{connector:e=(()=>new gr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return dt((g,y)=>{c++,!d&&!l&&h();const w=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Pm(p,i))}),w.subscribe(y),!o&&c>0&&(o=new Au({next:_=>w.next(_),error:_=>{d=!0,h(),a=Pm(f,n,_),w.error(_)},complete:()=>{l=!0,h(),a=Pm(f,r),w.complete()}}),Tn(g).subscribe(o))})(s)}}function Pm(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Au({next:()=>{r.unsubscribe(),t()}});return Tn(e(...n)).subscribe(r)}function yr(t,e){return dt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Xe(r,u=>{i?.unsubscribe();let c=0;const l=s++;Tn(t(u,l)).subscribe(i=Xe(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function bA(t,e=Wr){return t=t??z4,dt((n,r)=>{let i,s=!0;n.subscribe(Xe(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function z4(t,e){return t===e}function ve(t){for(let e in t)if(t[e]===ve)return e;throw Error("Could not find renamed property on target object.")}function Rd(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ht(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ht).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Om(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const q4=ve({__forward_ref__:ve});function xe(t){return t.__forward_ref__=xe,t.toString=function(){return ht(this())},t}function q(t){return Fm(t)?t():t}function Fm(t){return"function"==typeof t&&t.hasOwnProperty(q4)&&t.__forward_ref__===xe}function Lm(t){return t&&!!t.\u0275providers}const TA="https://g.co/ng/security#xss";class S extends Error{constructor(e,n){super(function kd(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Q(t){return"string"==typeof t?t:null==t?"":String(t)}function Nd(t,e){throw new S(-201,!1)}function Un(t,e){null==t&&function pe(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Lt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Pd(t){return SA(t,Od)||SA(t,MA)}function SA(t,e){return t.hasOwnProperty(e)?t[e]:null}function AA(t){return t&&(t.hasOwnProperty(Vm)||t.hasOwnProperty(ez))?t[Vm]:null}const Od=ve({\u0275prov:ve}),Vm=ve({\u0275inj:ve}),MA=ve({ngInjectableDef:ve}),ez=ve({ngInjectorDef:ve});var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{});let Um;function xA(){return Um}function dn(t){const e=Um;return Um=t,e}function RA(t,e,n){const r=Pd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&re.Optional?null:void 0!==e?e:void Nd(ht(t))}const Te=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ru={},Bm="__NG_DI_FLAG__",Fd="ngTempTokenPath",nz=/\n/gm,kA="__source";let Mo;function xi(t){const e=Mo;return Mo=t,e}function sz(t,e=re.Default){if(void 0===Mo)throw new S(-203,!1);return null===Mo?RA(t,void 0,e):Mo.get(t,e&re.Optional?null:void 0,e)}function N(t,e=re.Default){return(xA()||sz)(q(t),e)}function M(t,e=re.Default){return N(t,Ld(e))}function Ld(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function $m(t){const e=[];for(let n=0;n<t.length;n++){const r=q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=re.Default;for(let o=0;o<r.length;o++){const a=r[o],u=oz(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(N(i,s))}else e.push(N(r))}return e}function ku(t,e){return t[Bm]=e,t.prototype[Bm]=e,t}function oz(t){return t[Bm]}function Qr(t){return{toString:t}.toString()}var Vd=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Vd||{}),Yn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Yn||{});const _r={},de=[],Ud=ve({\u0275cmp:ve}),jm=ve({\u0275dir:ve}),Hm=ve({\u0275pipe:ve}),PA=ve({\u0275mod:ve}),Yr=ve({\u0275fac:ve}),Nu=ve({__NG_ELEMENT_ID__:ve}),OA=ve({__NG_ENV_ID__:ve});function FA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Gm(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];VA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function LA(t){return 3===t||4===t||6===t}function VA(t){return 64===t.charCodeAt(0)}function Pu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||UA(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function UA(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const BA="ng-template";function cz(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==FA(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function $A(t){return 4===t.type&&t.value!==BA}function lz(t,e,n){return e===(4!==t.type||n?t.value:BA)}function dz(t,e,n){let r=4;const i=t.attrs||[],s=function pz(t){for(let e=0;e<t.length;e++)if(LA(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!lz(t,u,n)||""===u&&1===e.length){if(Xn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!cz(t.attrs,c,n)){if(Xn(r))return!1;o=!0}continue}const d=hz(8&r?"class":u,i,$A(t),n);if(-1===d){if(Xn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==FA(f,c,0)||2&r&&c!==h){if(Xn(r))return!1;o=!0}}}}else{if(!o&&!Xn(r)&&!Xn(u))return!1;if(o&&Xn(u))continue;o=!1,r=u|1&r}}return Xn(r)||o}function Xn(t){return 0==(1&t)}function hz(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function gz(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function jA(t,e,n=!1){for(let r=0;r<e.length;r++)if(dz(t,e[r],n))return!0;return!1}function HA(t,e){return t?":not("+e.trim()+")":e}function yz(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Xn(o)&&(e+=HA(s,i),i=""),r=o,s=s||!Xn(r);n++}return""!==i&&(e+=HA(s,i)),e}function Es(t){return Qr(()=>{const e=zA(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Vd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Yn.Emulated,styles:t.styles||de,_:null,schemas:t.schemas||null,tView:null,id:""};qA(n);const r=t.dependencies;return n.directiveDefs=Bd(r,!1),n.pipeDefs=Bd(r,!0),n.id=function bz(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function Ez(t){return ge(t)||Vt(t)}function Iz(t){return null!==t}function Zt(t){return Qr(()=>({type:t.type,bootstrap:t.bootstrap||de,declarations:t.declarations||de,imports:t.imports||de,exports:t.exports||de,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function GA(t,e){if(null==t)return _r;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function H(t){return Qr(()=>{const e=zA(t);return qA(e),e})}function ge(t){return t[Ud]||null}function Vt(t){return t[jm]||null}function fn(t){return t[Hm]||null}function An(t,e){const n=t[PA]||null;if(!n&&!0===e)throw new Error(`Type ${ht(t)} does not have '\u0275mod' property.`);return n}function zA(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||_r,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||de,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:GA(t.inputs,e),outputs:GA(t.outputs)}}function qA(t){t.features?.forEach(e=>e(t))}function Bd(t,e){if(!t)return null;const n=e?fn:Ez;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Iz)}const ft=0,O=1,J=2,$e=3,Jn=4,Ou=5,Ut=6,Ro=7,Je=8,ko=9,Is=10,Z=11,Fu=12,WA=13,No=14,Ze=15,Lu=16,Po=17,vr=18,Vu=19,KA=20,Ri=21,Xr=22,$d=23,jd=24,ie=25,zm=1,QA=2,wr=7,Oo=9,Bt=11;function Mn(t){return Array.isArray(t)&&"object"==typeof t[zm]}function pn(t){return Array.isArray(t)&&!0===t[zm]}function qm(t){return 0!=(4&t.flags)}function Ds(t){return t.componentOffset>-1}function Gd(t){return 1==(1&t.flags)}function Zn(t){return!!t.template}function Wm(t){return 0!=(512&t[J])}function Cs(t,e){return t.hasOwnProperty(Yr)?t[Yr]:null}const JA=Symbol("SIGNAL");function Km(t,e,n={}){return e[JA]=t,Object.assign(e,n)}function ZA(t,e){return(null===t||"object"!=typeof t)&&Object.is(t,e)}let Rz=Te.WeakRef??class xz{constructor(e){this.ref=e}deref(){return this.ref}},Nz=0,Er=null,zd=!1;function vt(t){const e=Er;return Er=t,e}class qd{constructor(){this.id=Nz++,this.ref=function kz(t){return new Rz(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=zd;zd=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{zd=e}}producerAccessed(){if(zd)throw new Error("");if(null===Er)return;let e=Er.producers.get(this.id);void 0===e?(e={consumerNode:Er.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Er.trackingVersion},Er.producers.set(this.id,e),this.consumers.set(Er.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Er.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Er?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}function eM(t,e){const n=new Pz(t,e?.equal??ZA);return Km(n,n.signal.bind(n))}const Qm=Symbol("UNSET"),Ym=Symbol("COMPUTING"),Wd=Symbol("ERRORED");class Pz extends qd{constructor(e,n){super(),this.computation=e,this.equal=n,this.value=Qm,this.error=null,this.stale=!0,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){this.stale||(this.stale=!0,this.producerMayHaveChanged())}onProducerUpdateValueVersion(){if(this.stale){if(this.value!==Qm&&this.value!==Ym&&!this.consumerPollProducersForChange())return void(this.stale=!1);this.recomputeValue()}}recomputeValue(){if(this.value===Ym)throw new Error("Detected cycle in computations.");const e=this.value;this.value=Ym,this.trackingVersion++;const n=vt(this);let r;try{r=this.computation()}catch(i){r=Wd,this.error=i}finally{vt(n)}this.stale=!1,e!==Qm&&e!==Wd&&r!==Wd&&this.equal(e,r)?this.value=e:(this.value=r,this.valueVersion++)}signal(){if(this.onProducerUpdateValueVersion(),this.producerAccessed(),this.value===Wd)throw this.error;return this.value}}let tM=function Oz(){throw new Error};function Xm(){tM()}class Lz extends qd{constructor(e,n){super(),this.value=e,this.equal=n,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){}onProducerUpdateValueVersion(){}set(e){this.producerUpdatesAllowed||Xm(),this.equal(this.value,e)||(this.value=e,this.valueVersion++,this.producerMayHaveChanged())}update(e){this.producerUpdatesAllowed||Xm(),this.set(e(this.value))}mutate(e){this.producerUpdatesAllowed||Xm(),e(this.value),this.valueVersion++,this.producerMayHaveChanged()}asReadonly(){return void 0===this.readonlySignal&&(this.readonlySignal=Km(this,()=>this.signal())),this.readonlySignal}signal(){return this.producerAccessed(),this.value}}const iM=()=>{};class Vz extends qd{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=iM,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=vt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=iM,this.watch(this.registerOnCleanup)}finally{vt(e)}}cleanup(){this.cleanupFn()}}class Uz{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Bn(){return sM}function sM(t){return t.type.prototype.ngOnChanges&&(t.setInput=$z),Bz}function Bz(){const t=aM(this),e=t?.current;if(e){const n=t.previous;if(n===_r)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function $z(t,e,n,r){const i=this.declaredInputs[n],s=aM(t)||function jz(t,e){return t[oM]=e}(t,{previous:_r,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new Uz(u&&u.currentValue,e,a===_r),t[r]=e}Bn.ngInherit=!0;const oM="__ngSimpleChanges__";function aM(t){return t[oM]||null}const Ir=function(t,e,n){};function Pe(t){for(;Array.isArray(t);)t=t[ft];return t}function Qd(t,e){return Pe(e[t])}function gn(t,e){return Pe(e[t.index])}function lM(t,e){return t.data[e]}function xn(t,e){const n=e[t];return Mn(n)?n:n[ft]}function ki(t,e){return null==e?null:t[e]}function dM(t){t[Po]=0}function Qz(t){1024&t[J]||(t[J]|=1024,fM(t,1))}function hM(t){1024&t[J]&&(t[J]&=-1025,fM(t,-1))}function fM(t,e){let n=t[$e];if(null===n)return;n[Ou]+=e;let r=n;for(n=n[$e];null!==n&&(1===e&&1===r[Ou]||-1===e&&0===r[Ou]);)n[Ou]+=e,r=n,n=n[$e]}function pM(t,e){if(256==(256&t[J]))throw new S(911,!1);null===t[Ri]&&(t[Ri]=[]),t[Ri].push(e)}const j={lFrame:CM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function mM(){return j.bindingsEnabled}function I(){return j.lFrame.lView}function ae(){return j.lFrame.tView}function Ni(t){return j.lFrame.contextLView=t,t[Je]}function Pi(t){return j.lFrame.contextLView=null,t}function Mt(){let t=yM();for(;null!==t&&64===t.type;)t=t.parent;return t}function yM(){return j.lFrame.currentTNode}function Dr(t,e){const n=j.lFrame;n.currentTNode=t,n.isParent=e}function Zm(){return j.lFrame.isParent}function ey(){j.lFrame.isParent=!1}function Vo(){return j.lFrame.bindingIndex++}function aq(t,e){const n=j.lFrame;n.bindingIndex=n.bindingRootIndex=t,ty(e)}function ty(t){j.lFrame.currentDirectiveIndex=t}function EM(){return j.lFrame.currentQueryIndex}function ry(t){j.lFrame.currentQueryIndex=t}function cq(t){const e=t[O];return 2===e.type?e.declTNode:1===e.type?t[Ut]:null}function IM(t,e,n){if(n&re.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&re.Host||(i=cq(s),null===i||(s=s[No],10&i.type))););if(null===i)return!1;e=i,t=s}const r=j.lFrame=DM();return r.currentTNode=e,r.lView=t,!0}function iy(t){const e=DM(),n=t[O];j.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function DM(){const t=j.lFrame,e=null===t?null:t.child;return null===e?CM(t):e}function CM(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function bM(){const t=j.lFrame;return j.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const TM=bM;function sy(){const t=bM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function tn(){return j.lFrame.selectedIndex}function bs(t){j.lFrame.selectedIndex=t}function je(){const t=j.lFrame;return lM(t.tView,t.selectedIndex)}let AM=!0;function Yd(){return AM}function Oi(t){AM=t}function Xd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Jd(t,e,n){MM(t,e,3,n)}function Zd(t,e,n,r){(3&t[J])===n&&MM(t,e,n,r)}function oy(t,e){let n=t[J];(3&n)===e&&(n&=8191,n+=1,t[J]=n)}function MM(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Po]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Po]+=65536),(a<s||-1==s)&&(yq(t,n,e,u),t[Po]=(4294901760&t[Po])+u+2),u++}function xM(t,e){Ir(4,t,e);const n=vt(null);try{e.call(t)}finally{vt(n),Ir(5,t,e)}}function yq(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[J]>>13<t[Po]>>16&&(3&t[J])===e&&(t[J]+=8192,xM(a,s)):xM(a,s)}const Uo=-1;class $u{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function RM(t){return t!==Uo}function eh(t){return 32767&t}function th(t,e){let n=function Eq(t){return t>>16}(t),r=e;for(;n>0;)r=r[No],n--;return r}let uy=!0;function nh(t){const e=uy;return uy=t,e}const kM=255,NM=5;let Iq=0;const Cr={};function rh(t,e){const n=PM(t,e);if(-1!==n)return n;const r=e[O];r.firstCreatePass&&(t.injectorIndex=e.length,cy(r.data,t),cy(e,null),cy(r.blueprint,null));const i=ly(t,e),s=t.injectorIndex;if(RM(i)){const o=eh(i),a=th(i,e),u=a[O].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function cy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function PM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ly(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=$M(i),null===r)return Uo;if(n++,i=i[No],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Uo}function dy(t,e,n){!function Dq(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Nu)&&(r=n[Nu]),null==r&&(r=n[Nu]=Iq++);const i=r&kM;e.data[t+(i>>NM)]|=1<<i}(t,e,n)}function OM(t,e,n){if(n&re.Optional||void 0!==t)return t;Nd()}function FM(t,e,n,r){if(n&re.Optional&&void 0===r&&(r=null),!(n&(re.Self|re.Host))){const i=t[ko],s=dn(void 0);try{return i?i.get(e,r,n&re.Optional):RA(e,r,n&re.Optional)}finally{dn(s)}}return OM(r,0,n)}function LM(t,e,n,r=re.Default,i){if(null!==t){if(2048&e[J]&&!(r&re.Self)){const o=function Aq(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[J]&&!(512&o[J]);){const a=VM(s,o,n,r|re.Self,Cr);if(a!==Cr)return a;let u=s.parent;if(!u){const c=o[KA];if(c){const l=c.get(n,Cr,r);if(l!==Cr)return l}u=$M(o),o=o[No]}s=u}return i}(t,e,n,r,Cr);if(o!==Cr)return o}const s=VM(t,e,n,r,Cr);if(s!==Cr)return s}return FM(e,n,r,i)}function VM(t,e,n,r,i){const s=function Tq(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Nu)?t[Nu]:void 0;return"number"==typeof e?e>=0?e&kM:Sq:e}(n);if("function"==typeof s){if(!IM(e,t,r))return r&re.Host?OM(i,0,r):FM(e,n,r,i);try{const o=s(r);if(null!=o||r&re.Optional)return o;Nd()}finally{TM()}}else if("number"==typeof s){let o=null,a=PM(t,e),u=Uo,c=r&re.Host?e[Ze][Ut]:null;for((-1===a||r&re.SkipSelf)&&(u=-1===a?ly(t,e):e[a+8],u!==Uo&&BM(r,!1)?(o=e[O],a=eh(u),e=th(u,e)):a=-1);-1!==a;){const l=e[O];if(UM(s,a,l.data)){const d=bq(a,e,n,o,r,c);if(d!==Cr)return d}u=e[a+8],u!==Uo&&BM(r,e[O].data[a+8]===c)&&UM(s,a,e)?(o=l,a=eh(u),e=th(u,e)):a=-1}}return i}function bq(t,e,n,r,i,s){const o=e[O],a=o.data[t+8],l=ih(a,o,n,null==r?Ds(a)&&uy:r!=o&&0!=(3&a.type),i&re.Host&&s===a);return null!==l?Ts(e,o,l,a):Cr}function ih(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Zn(f)&&f.type===n)return u}return null}function Ts(t,e,n,r){let i=t[n];const s=e.data;if(function _q(t){return t instanceof $u}(i)){const o=i;o.resolving&&function W4(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function _e(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Q(t)}(s[n]));const a=nh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?dn(o.injectImpl):null;IM(t,r,re.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function mq(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=sM(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&dn(u),nh(a),o.resolving=!1,TM()}}return i}function UM(t,e,n){return!!(n[e+(t>>NM)]&1<<t)}function BM(t,e){return!(t&re.Self||t&re.Host&&e)}class Bo{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return LM(this._tNode,this._lView,e,Ld(r),n)}}function Sq(){return new Bo(Mt(),I())}function wt(t){return Qr(()=>{const e=t.prototype.constructor,n=e[Yr]||hy(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Yr]||hy(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function hy(t){return Fm(t)?()=>{const e=hy(q(t));return e&&e()}:Cs(t)}function $M(t){const e=t[O],n=e.type;return 2===n?e.declTNode:1===n?t[Ut]:null}const jo="__parameters__";function Go(t,e,n){return Qr(()=>{const r=function fy(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(jo)?u[jo]:Object.defineProperty(u,jo,{value:[]})[jo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Hu(t,e){t.forEach(n=>Array.isArray(n)?Hu(n,e):e(n))}function HM(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function oh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Rn(t,e,n){let r=qo(t,e);return r>=0?t[1|r]=n:(r=~r,function Oq(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function py(t,e){const n=qo(t,e);if(n>=0)return t[1|n]}function qo(t,e){return function GM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const my=ku(Go("Inject",t=>({token:t})),-1),mn=ku(Go("Optional"),8),uh=ku(Go("SkipSelf"),4);function fh(t){return 128==(128&t.flags)}var Fi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Fi||{});const t3=/^>|^->|<!--|-->|--!>|<!-$/g,n3=/(<|>)/,r3="\u200b$1\u200b";const wy=new Map;let i3=0;const Iy="__ngContext__";function $t(t,e){Mn(e)?(t[Iy]=e[Vu],function o3(t){wy.set(t[Vu],t)}(e)):t[Iy]=e}let Dy;function Cy(t,e){return Dy(t,e)}function Wu(t){const e=t[$e];return pn(e)?e[$e]:e}function lx(t){return hx(t[Fu])}function dx(t){return hx(t[Jn])}function hx(t){for(;null!==t&&!pn(t);)t=t[Jn];return t}function Qo(t,e,n,r,i){if(null!=r){let s,o=!1;pn(r)?s=r:Mn(r)&&(o=!0,r=r[ft]);const a=Pe(r);0===t&&null!==n?null==i?yx(e,n,a):Ss(e,n,a,i||null,!0):1===t&&null!==n?Ss(e,n,a,i||null,!0):2===t?function vh(t,e,n){const r=yh(t,e);r&&function b3(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function A3(t,e,n,r,i){const s=n[wr];s!==Pe(n)&&Qo(e,t,r,s,i);for(let a=Bt;a<n.length;a++){const u=n[a];Qu(u[O],u,t,e,r,s)}}(e,t,s,n,i)}}function by(t,e){return t.createComment(function nx(t){return t.replace(t3,e=>e.replace(n3,r3))}(e))}function mh(t,e,n){return t.createElement(e,n)}function px(t,e){const n=t[Oo],r=n.indexOf(e);hM(e),n.splice(r,1)}function Ty(t,e){if(t.length<=Bt)return;const n=Bt+e,r=t[n];if(r){const i=r[Lu];null!==i&&i!==t&&px(i,r),e>0&&(t[n-1][Jn]=r[Jn]);const s=oh(t,Bt+e);!function y3(t,e){Qu(t,e,e[Z],2,null,null),e[ft]=null,e[Ut]=null}(r[O],r);const o=s[vr];null!==o&&o.detachView(s[O]),r[$e]=null,r[Jn]=null,r[J]&=-129}return r}function gx(t,e){if(!(256&e[J])){const n=e[Z];e[$d]?.destroy(),e[jd]?.destroy(),n.destroyNode&&Qu(t,e,n,3,null,null),function w3(t){let e=t[Fu];if(!e)return Sy(t[O],t);for(;e;){let n=null;if(Mn(e))n=e[Fu];else{const r=e[Bt];r&&(n=r)}if(!n){for(;e&&!e[Jn]&&e!==t;)Mn(e)&&Sy(e[O],e),e=e[$e];null===e&&(e=t),Mn(e)&&Sy(e[O],e),n=e&&e[Jn]}e=n}}(e)}}function Sy(t,e){if(!(256&e[J])){e[J]&=-129,e[J]|=256,function C3(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof $u)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Ir(4,a,u);try{u.call(a)}finally{Ir(5,a,u)}}else{Ir(4,i,s);try{s.call(i)}finally{Ir(5,i,s)}}}}}(t,e),function D3(t,e){const n=t.cleanup,r=e[Ro];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Ro]=null);const i=e[Ri];if(null!==i){e[Ri]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[O].type&&e[Z].destroy();const n=e[Lu];if(null!==n&&pn(e[$e])){n!==e[$e]&&px(n,e);const r=e[vr];null!==r&&r.detachView(t)}!function a3(t){wy.delete(t[Vu])}(e)}}function Ay(t,e,n){return function mx(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[ft];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Yn.None||s===Yn.Emulated)return null}return gn(r,n)}}(t,e.parent,n)}function Ss(t,e,n,r,i){t.insertBefore(e,n,r,i)}function yx(t,e,n){t.appendChild(e,n)}function _x(t,e,n,r,i){null!==r?Ss(t,e,n,r,i):yx(t,e,n)}function yh(t,e){return t.parentNode(e)}let My,Ny,Eh,Ex=function wx(t,e,n){return 40&t.type?gn(t,n):null};function _h(t,e,n,r){const i=Ay(t,r,e),s=e[Z],a=function vx(t,e,n){return Ex(t,e,n)}(r.parent||e[Ut],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)_x(s,i,n[u],a,!1);else _x(s,i,n,a,!1);void 0!==My&&My(s,r,e,n,i)}function Ku(t,e){if(null!==e){const n=e.type;if(3&n)return gn(e,t);if(4&n)return xy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Ku(t,r);{const i=t[e.index];return pn(i)?xy(-1,i):Pe(i)}}if(32&n)return Cy(e,t)()||Pe(t[e.index]);{const r=Dx(t,e);return null!==r?Array.isArray(r)?r[0]:Ku(Wu(t[Ze]),r):Ku(t,e.next)}}return null}function Dx(t,e){return null!==e?t[Ze][Ut].projection[e.projection]:null}function xy(t,e){const n=Bt+t+1;if(n<e.length){const r=e[n],i=r[O].firstChild;if(null!==i)return Ku(r,i)}return e[wr]}function Ry(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&$t(Pe(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Ry(t,e,n.child,r,i,s,!1),Qo(e,t,i,a,s);else if(32&u){const c=Cy(n,r);let l;for(;l=c();)Qo(e,t,i,l,s);Qo(e,t,i,a,s)}else 16&u?bx(t,e,r,n,i,s):Qo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Qu(t,e,n,r,i,s){Ry(n,r,t.firstChild,e,i,s,!1)}function bx(t,e,n,r,i,s){const o=n[Ze],u=o[Ut].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Qo(e,t,i,u[c],s);else{let c=u;const l=o[$e];fh(r)&&(c.flags|=128),Ry(t,e,c,l,i,s,!0)}}function Tx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Sx(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Gm(t,e,r),null!==i&&Tx(t,e,i),null!==s&&function x3(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function xx(t){return function Py(){if(void 0===Eh&&(Eh=null,Te.trustedTypes))try{Eh=Te.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Eh}()?.createScriptURL(t)||t}class Rx{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${TA})`}}function Li(t){return t instanceof Rx?t.changingThisBreaksApplicationSecurity:t}function Xu(t,e){const n=function B3(t){return t instanceof Rx&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${TA})`)}return n===e}const G3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Xo=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Xo||{});function Vx(t){const e=Zu();return e?e.sanitize(Xo.URL,t)||"":Xu(t,"URL")?Li(t):function Oy(t){return(t=String(t)).match(G3)?t:"unsafe:"+t}(Q(t))}function Ux(t){const e=Zu();if(e)return xx(e.sanitize(Xo.RESOURCE_URL,t)||"");if(Xu(t,"ResourceURL"))return xx(Li(t));throw new S(904,!1)}function Zu(){const t=I();return t&&t[Is].sanitizer}class A{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const As=new A("ENVIRONMENT_INITIALIZER"),$x=new A("INJECTOR",-1),jx=new A("INJECTOR_DEF_TYPES");class Hx{get(e,n=Ru){if(n===Ru){const r=new Error(`NullInjectorError: No provider for ${ht(e)}!`);throw r.name="NullInjectorError",r}return n}}function r6(...t){return{\u0275providers:zx(0,t),\u0275fromNgModule:!0}}function zx(t,...e){const n=[],r=new Set;let i;return Hu(e,s=>{const o=s;Uy(o,n,[],r)&&(i||=[],i.push(o))}),void 0!==i&&qx(i,n),n}function qx(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];By(i,s=>{e.push(s)})}}function Uy(t,e,n,r){if(!(t=q(t)))return!1;let i=null,s=AA(t);const o=!s&&ge(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=AA(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Uy(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Hu(s.imports,l=>{Uy(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&qx(c,e)}if(!a){const c=Cs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:de},{provide:jx,useValue:i,multi:!0},{provide:As,useValue:()=>N(i),multi:!0})}const u=s.providers;null==u||a||By(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function By(t,e){for(let n of t)Lm(n)&&(n=n.\u0275providers),Array.isArray(n)?By(n,e):e(n)}const i6=ve({provide:String,useValue:ve});function $y(t){return null!==t&&"object"==typeof t&&i6 in t}function Ms(t){return"function"==typeof t}const jy=new A("Set Injector scope."),Dh={},o6={};let Hy;function Ch(){return void 0===Hy&&(Hy=new Hx),Hy}class ti{}class Gy extends ti{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qy(e,o=>this.processProvider(o)),this.records.set($x,Jo(void 0,this)),i.has("environment")&&this.records.set(ti,Jo(void 0,this));const s=this.records.get(jy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(jx.multi,de,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=xi(this),r=dn(void 0);try{return e()}finally{xi(n),dn(r)}}get(e,n=Ru,r=re.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(OA))return e[OA](this);r=Ld(r);const i=xi(this),s=dn(void 0);try{if(!(r&re.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function d6(t){return"function"==typeof t||"object"==typeof t&&t instanceof A}(e)&&Pd(e);a=u&&this.injectableDefInScope(u)?Jo(zy(e),Dh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&re.Self?Ch():this.parent).get(e,n=r&re.Optional&&n===Ru?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Fd]=o[Fd]||[]).unshift(ht(e)),i)throw o;return function az(t,e,n,r){const i=t[Fd];throw e[kA]&&i.unshift(e[kA]),t.message=function uz(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ht(e);if(Array.isArray(e))i=e.map(ht).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ht(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(nz,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Fd]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{dn(s),xi(i)}}resolveInjectorInitializers(){const e=xi(this),n=dn(void 0);try{const r=this.get(As.multi,de,re.Self);for(const i of r)i()}finally{xi(e),dn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ht(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=Ms(e=q(e))?e:q(e&&e.provide);const r=function u6(t){return $y(t)?Jo(void 0,t.useValue):Jo(Qx(t),Dh)}(e);if(Ms(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Jo(void 0,Dh,!0),i.factory=()=>$m(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Dh&&(n.value=o6,n.value=n.factory()),"object"==typeof n.value&&n.value&&function l6(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=q(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function zy(t){const e=Pd(t),n=null!==e?e.factory:Cs(t);if(null!==n)return n;if(t instanceof A)throw new S(204,!1);if(t instanceof Function)return function a6(t){const e=t.length;if(e>0)throw function Gu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new S(204,!1);const n=function Z4(t){return t&&(t[Od]||t[MA])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function Qx(t,e,n){let r;if(Ms(t)){const i=q(t);return Cs(i)||zy(i)}if($y(t))r=()=>q(t.useValue);else if(function Kx(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...$m(t.deps||[]));else if(function Wx(t){return!(!t||!t.useExisting)}(t))r=()=>N(q(t.useExisting));else{const i=q(t&&(t.useClass||t.provide));if(!function c6(t){return!!t.deps}(t))return Cs(i)||zy(i);r=()=>new i(...$m(t.deps))}return r}function Jo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function qy(t,e){for(const n of t)Array.isArray(n)?qy(n,e):n&&Lm(n)?qy(n.\u0275providers,e):e(n)}const bh=new A("AppId",{providedIn:"root",factory:()=>h6}),h6="ng",Yx=new A("Platform Initializer"),Vi=new A("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Xx=new A("CSP nonce",{providedIn:"root",factory:()=>function Yu(){if(void 0!==Ny)return Ny;if(typeof document<"u")return document;throw new S(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Zx=(t,e)=>null;function eR(t,e){return Zx(t,e)}class E6{}class rR{}class D6{resolveComponentFactory(e){throw function I6(t){const e=Error(`No component factory found for ${ht(t)}.`);return e.ngComponent=t,e}(e)}}let xh=(()=>{class t{}return t.NULL=new D6,t})();function C6(){return ea(Mt(),I())}function ea(t,e){return new kn(gn(t,e))}let kn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=C6,t})();function b6(t){return t instanceof kn?t.nativeElement:t}class sR{}let ni=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function T6(){const t=I(),n=xn(Mt().index,t);return(Mn(n)?n:t)[Z]}(),t})(),S6=(()=>{class t{}return t.\u0275prov=$({token:t,providedIn:"root",factory:()=>null}),t})();class ta{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const oR=new ta("16.1.6"),r_={};function nc(t){for(;t;){t[J]|=64;const e=Wu(t);if(Wm(t)&&!e)return t;t=e}return null}function i_(t){return t.ngOriginalError}class xs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&i_(e);for(;n&&i_(n);)n=i_(n);return n||null}}const cR=new A("",{providedIn:"root",factory:()=>!1});function ri(t){return t instanceof Function?t():t}class pR extends qd{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){nc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=vt(this);this.trackingVersion++;try{e(n,r)}finally{vt(i)}}destroy(){this.trackingVersion++}}let kh=null;function gR(){return kh??=new pR,kh}function mR(t,e){return t[e]??gR()}function yR(t,e){const n=gR();n.hasReadASignal&&(t[e]=kh,n.lView=t,kh=new pR)}const ee={};function _n(t){_R(ae(),I(),tn()+t,!1)}function _R(t,e,n,r){if(!r)if(3==(3&e[J])){const s=t.preOrderCheckHooks;null!==s&&Jd(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Zd(e,s,0,n)}bs(n)}function DR(t,e=null,n=null,r){const i=CR(t,e,n,r);return i.resolveInjectorInitializers(),i}function CR(t,e=null,n=null,r,i=new Set){const s=[n||de,r6(t)];return r=r||("object"==typeof t?void 0:ht(t)),new Gy(s,e||Ch(),r||null,i)}let jn=(()=>{class t{static create(n,r){if(Array.isArray(n))return DR({name:""},r,n,"");{const i=n.name??"";return DR({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Ru,t.NULL=new Hx,t.\u0275prov=$({token:t,providedIn:"any",factory:()=>N($x)}),t.__NG_ELEMENT_ID__=-1,t})();function C(t,e=re.Default){const n=I();return null===n?N(t,e):LM(Mt(),n,q(t),e)}function Nh(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[ft]=i,d[J]=140|r,(null!==c||t&&2048&t[J])&&(d[J]|=2048),dM(d),d[$e]=d[No]=t,d[Je]=n,d[Is]=o||t&&t[Is],d[Z]=a||t&&t[Z],d[ko]=u||t&&t[ko]||null,d[Ut]=s,d[Vu]=function s3(){return i3++}(),d[Xr]=l,d[KA]=c,d[Ze]=2==e.type?t[Ze]:d,d}function ra(t,e,n,r,i){let s=t.data[e];if(null===s)s=function s_(t,e,n,r,i){const s=yM(),o=Zm(),u=t.data[e]=function W6(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Lo(){return null!==j.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function oq(){return j.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Bu(){const t=j.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Dr(s,!0),s}function rc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function TR(t,e,n,r,i){const s=mR(e,$d),o=tn(),a=2&r;try{if(bs(-1),a&&e.length>ie&&_R(t,e,ie,!1),Ir(a?2:0,i),a)s.runInContext(n,r,i);else{const c=vt(null);try{n(r,i)}finally{vt(c)}}}finally{a&&null===e[$d]&&yR(e,$d),bs(o),Ir(a?3:1,i)}}function o_(t,e,n){if(qm(e)){const r=vt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{vt(r)}}}function a_(t,e,n){mM()&&(function e5(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ds(n)&&function a5(t,e,n){const r=gn(e,t),i=SR(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Ph(t,Nh(t,i,null,o,r,e,null,t[Is].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||rh(n,e),$t(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Ts(e,t,a,n);$t(c,e),null!==o&&u5(0,a-i,c,u,0,o),Zn(u)&&(xn(n.index,e)[Je]=Ts(e,t,a,n))}}(t,e,n,gn(n,e)),64==(64&n.flags)&&kR(t,e,n))}function u_(t,e,n=gn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function SR(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=c_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function c_(t,e,n,r,i,s,o,a,u,c,l){const d=ie+r,h=d+i,f=function $6(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ee);return n}(d,h),p="function"==typeof c?c():c;return f[O]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let AR=t=>null;function MR(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?xR(n,e,i,s):r.hasOwnProperty(i)&&xR(n,e,r[i],s)}return n}function xR(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function l_(t,e,n,r){if(mM()){const i=null===r?null:{"":-1},s=function n5(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(jA(e,o.selectors,!1))if(r||(r=[]),Zn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),d_(t,e,a.length)}else r.unshift(o),d_(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&RR(t,e,n,o,i,a),i&&function r5(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Pu(n.mergedAttrs,n.attrs)}function RR(t,e,n,r,i,s){for(let c=0;c<r.length;c++)dy(rh(n,e),t,r[c].type);!function s5(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=rc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Pu(n.mergedAttrs,l.hostAttrs),o5(t,n,e,u,l),i5(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function K6(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=MR(d.inputs,l,u,h?h.inputs:null),c=MR(d.outputs,l,c,p);const g=null===u||null===o||$A(e)?null:c5(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function kR(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function uq(){return j.lFrame.currentDirectiveIndex}();try{bs(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];ty(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&t5(u,c)}}finally{bs(-1),ty(o)}}function t5(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function d_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function i5(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Zn(e)&&(n[""]=t)}}function o5(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Cs(i.type)),o=new $u(s,Zn(i),C);t.blueprint[r]=o,n[r]=o,function J6(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function Z6(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,rc(t,n,i.hostVars,ee),i)}function br(t,e,n,r,i,s){const o=gn(t,e);!function h_(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Q(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[Z],o,s,t.value,n,r,i)}function u5(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)NR(r,n,o[a++],o[a++],o[a++])}function NR(t,e,n,r,i){const s=vt(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{vt(s)}}function c5(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function PR(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function OR(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];ry(n[r]),o.contentQueries(2,e[s],s)}}}function Ph(t,e){return t[Fu]?t[WA][Jn]=e:t[Fu]=e,t[WA]=e,e}function f_(t,e,n){ry(0);const r=vt(null);try{e(t,n)}finally{vt(r)}}function FR(t){return t[Ro]||(t[Ro]=[])}function LR(t){return t.cleanup||(t.cleanup=[])}function UR(t,e){const n=t[ko],r=n?n.get(xs,null):null;r&&r.handleError(e)}function p_(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];NR(t.data[o],e[o],r,a,i)}}function l5(t,e){const n=xn(e,t),r=n[O];!function d5(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[ft];null!==i&&null===n[Xr]&&(n[Xr]=eR(i,n[ko])),g_(r,n,n[Je])}function g_(t,e,n){iy(e);try{const r=t.viewQuery;null!==r&&f_(1,r,n);const i=t.template;null!==i&&TR(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&OR(t,e),t.staticViewQueries&&f_(2,t.viewQuery,n);const s=t.components;null!==s&&function h5(t,e){for(let n=0;n<e.length;n++)l5(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,sy()}}let Oh=(()=>{class t{}return t.__NG_ELEMENT_ID__=p5,t.__NG_ENV_ID__=e=>e,t})();class f5 extends Oh{constructor(e){super(),this._lView=e}onDestroy(e){return pM(this._lView,e),()=>function Yz(t,e){if(null===t[Ri])return;const n=t[Ri].indexOf(e);-1!==n&&t[Ri].splice(n,1)}(this._lView,e)}}function p5(){return new f5(I())}let BR=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new Vz(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t}),t})();function Fh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Om(i,a):2==s&&(r=Om(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ic(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Pe(s)),pn(s)){for(let a=Bt;a<s.length;a++){const u=s[a],c=u[O].firstChild;null!==c&&ic(u[O],u,c,r)}s[wr]!==s[ft]&&r.push(s[wr])}const o=n.type;if(8&o)ic(t,e,n.child,r);else if(32&o){const a=Cy(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Dx(e,n);if(Array.isArray(a))r.push(...a);else{const u=Wu(e[Ze]);ic(u[O],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Lh(t,e,n,r=!0){const i=e[Is].rendererFactory;i.begin&&i.begin();try{$R(t,e,t.template,n)}catch(o){throw r&&UR(e,o),o}finally{i.end&&i.end(),e[Is].effectManager?.flush()}}function $R(t,e,n,r){const i=e[J];if(256!=(256&i)){e[Is].effectManager?.flush(),iy(e);try{dM(e),function vM(t){return j.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&TR(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Jd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Zd(e,c,0,null),oy(e,0)}if(function y5(t){for(let e=lx(t);null!==e;e=dx(e)){if(!e[QA])continue;const n=e[Oo];for(let r=0;r<n.length;r++){Qz(n[r])}}}(e),jR(e,2),null!==t.contentQueries&&OR(t,e),o){const c=t.contentCheckHooks;null!==c&&Jd(e,c)}else{const c=t.contentHooks;null!==c&&Zd(e,c,1),oy(e,1)}!function B6(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=mR(e,jd);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)bs(~s);else{const o=s,a=n[++i],u=n[++i];aq(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[jd]&&yR(e,jd),bs(-1)}}(t,e);const a=t.components;null!==a&&GR(e,a,0);const u=t.viewQuery;if(null!==u&&f_(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Jd(e,c)}else{const c=t.viewHooks;null!==c&&Zd(e,c,2),oy(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[J]&=-73,hM(e)}finally{sy()}}}function jR(t,e){for(let n=lx(t);null!==n;n=dx(n))for(let r=Bt;r<n.length;r++)HR(n[r],e)}function _5(t,e,n){HR(xn(e,t),n)}function HR(t,e){if(!function Wz(t){return 128==(128&t[J])}(t))return;const n=t[O];if(80&t[J]&&0===e||1024&t[J]||2===e)$R(n,t,n.template,t[Je]);else if(t[Ou]>0){jR(t,1);const i=t[O].components;null!==i&&GR(t,i,1)}}function GR(t,e,n){for(let r=0;r<e.length;r++)_5(t,e[r],n)}class sc{get rootNodes(){const e=this._lView,n=e[O];return ic(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Je]}set context(e){this._lView[Je]=e}get destroyed(){return 256==(256&this._lView[J])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[$e];if(pn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Ty(e,r),oh(n,r))}this._attachedToViewContainer=!1}gx(this._lView[O],this._lView)}onDestroy(e){pM(this._lView,e)}markForCheck(){nc(this._cdRefInjectingView||this._lView)}detach(){this._lView[J]&=-129}reattach(){this._lView[J]|=128}detectChanges(){Lh(this._lView[O],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function v3(t,e){Qu(t,e,e[Z],2,null,null)}(this._lView[O],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class v5 extends sc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Lh(e[O],e,e[Je],!1)}checkNoChanges(){}get context(){return null}}class zR extends xh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ge(e);return new oc(n,this.ngModule)}}function qR(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class E5{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ld(r);const i=this.injector.get(e,r_,r);return i!==r_||n===r_?i:this.parentInjector.get(e,n,r)}}class oc extends rR{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=qR(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return qR(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function _z(t){return t.map(yz).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof ti?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new E5(e,s):e,a=o.get(sR,null);if(null===a)throw new S(407,!1);const l={rendererFactory:a,sanitizer:o.get(S6,null),effectManager:o.get(BR,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function j6(t,e,n,r){const s=r.get(cR,!1)||n===Yn.ShadowDom,o=t.selectRootElement(e,s);return function H6(t){AR(t)}(o),o}(d,r,this.componentDef.encapsulation,o):mh(d,h,function w5(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528,w=c_(0,null,null,1,0,null,null,null,null,null,null),_=Nh(null,w,null,y,null,null,l,d,o,null,null);let b,F;iy(_);try{const V=this.componentDef;let K,Ye=null;V.findHostDirectiveDefs?(K=[],Ye=new Map,V.findHostDirectiveDefs(V,K,Ye),K.push(V)):K=[V];const pr=function D5(t,e){const n=t[O],r=ie;return t[r]=e,ra(n,r,2,"#host",null)}(_,f),ys=function C5(t,e,n,r,i,s,o){const a=i[O];!function b5(t,e,n,r){for(const i of t)e.mergedAttrs=Pu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Fh(e,e.mergedAttrs,!0),null!==n&&Sx(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=eR(e,i[ko]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Nh(i,SR(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&d_(a,t,r.length-1),Ph(i,d),i[t.index]=d}(pr,f,V,K,_,l,d);F=lM(w,ie),f&&function S5(t,e,n,r){if(r)Gm(t,n,["ng-version",oR.full]);else{const{attrs:i,classes:s}=function vz(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Xn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Gm(t,n,i),s&&s.length>0&&Tx(t,n,s.join(" "))}}(d,V,f,r),void 0!==n&&function A5(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(F,this.ngContentSelectors,n),b=function T5(t,e,n,r,i,s){const o=Mt(),a=i[O],u=gn(o,i);RR(a,i,o,n,null,r);for(let l=0;l<n.length;l++)$t(Ts(i,a,o.directiveStart+l,o),i);kR(a,i,o),u&&$t(u,i);const c=Ts(i,a,o.directiveStart+o.componentOffset,o);if(t[Je]=i[Je]=c,null!==s)for(const l of s)l(c,e);return o_(a,o,t),c}(ys,V,K,Ye,_,[M5]),g_(w,_,null)}finally{sy()}return new I5(this.componentType,b,ea(F,_),_,F)}}class I5 extends E6{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new v5(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;p_(s[O],s,i,e,n),this.previousInputValues.set(e,n),nc(xn(this._tNode.index,s))}}get injector(){return new Bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function M5(){const t=Mt();Xd(I()[O],t)}function we(t){let e=function WR(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Zn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Vh(t.inputs),o.inputTransforms=Vh(t.inputTransforms),o.declaredInputs=Vh(t.declaredInputs),o.outputs=Vh(t.outputs);const a=i.hostBindings;a&&N5(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&R5(t,u),c&&k5(t,c),Rd(t.inputs,i.inputs),Rd(t.declaredInputs,i.declaredInputs),Rd(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Rd(o.inputTransforms,i.inputTransforms)),Zn(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===we&&(n=!1)}}e=Object.getPrototypeOf(e)}!function x5(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pu(i.hostAttrs,n=Pu(n,i.hostAttrs))}}(r)}function Vh(t){return t===_r?{}:t===de?[]:t}function R5(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function k5(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function N5(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function XR(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Uh(t){return!!m_(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function m_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function jt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Sr(t,e,n,r){const i=I();return jt(i,Vo(),e)&&(ae(),br(je(),i,t,e,n,r)),Sr}function dc(t,e,n,r,i,s,o,a){const u=I(),c=ae(),l=t+ie,d=c.firstCreatePass?function i9(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ra(e,t,4,o||null,ki(c,a));l_(e,n,l,ki(c,u)),Xd(e,l);const d=l.tView=c_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Dr(d,!1);const h=lk(c,u,d,t);Yd()&&_h(c,u,h,d),$t(h,u),Ph(u,u[l]=PR(h,u,h,d)),Gd(d)&&a_(c,u,d),null!=o&&u_(u,d,a)}let lk=function dk(t,e,n,r){return Oi(!0),e[Z].createComment("")};function vn(t,e,n){const r=I();return jt(r,Vo(),e)&&function Nn(t,e,n,r,i,s,o,a){const u=gn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(p_(t,n,l,r,i),Ds(e)&&function Y6(t,e){const n=xn(e,t);16&n[J]||(n[J]|=64)}(n,e.index)):3&e.type&&(r=function Q6(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(ae(),je(),r,t,e,r[Z],n,!1),vn}function I_(t,e,n,r,i){const o=i?"class":"style";p_(t,n,e.inputs[o],o,r)}function Y(t,e,n,r){const i=I(),s=ae(),o=ie+t,a=i[Z],u=s.firstCreatePass?function u9(t,e,n,r,i,s){const o=e.consts,u=ra(e,t,2,r,ki(o,i));return l_(e,n,u,ki(o,s)),null!==u.attrs&&Fh(u,u.attrs,!1),null!==u.mergedAttrs&&Fh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=fk(s,i,u,a,e,t);i[o]=c;const l=Gd(u);return Dr(u,!0),Sx(a,c,u),32!=(32&u.flags)&&Yd()&&_h(s,i,c,u),0===function Xz(){return j.lFrame.elementDepthCount}()&&$t(c,i),function Jz(){j.lFrame.elementDepthCount++}(),l&&(a_(s,i,u),o_(s,u,i)),null!==r&&u_(i,u),Y}function G(){let t=Mt();Zm()?ey():(t=t.parent,Dr(t,!1));const e=t;(function eq(t){return j.skipHydrationRootTNode===t})(e)&&function iq(){j.skipHydrationRootTNode=null}(),function Zz(){j.lFrame.elementDepthCount--}();const n=ae();return n.firstCreatePass&&(Xd(n,t),qm(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function vq(t){return 0!=(8&t.flags)}(e)&&I_(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function wq(t){return 0!=(16&t.flags)}(e)&&I_(n,e,I(),e.stylesWithoutHost,!1),G}function er(t,e,n,r){return Y(t,e,n,r),G(),er}let fk=(t,e,n,r,i,s)=>(Oi(!0),mh(r,i,function SM(){return j.lFrame.currentNamespace}()));function Gh(t,e,n){const r=I(),i=ae(),s=t+ie,o=i.firstCreatePass?function d9(t,e,n,r,i){const s=e.consts,o=ki(s,r),a=ra(e,t,8,"ng-container",o);return null!==o&&Fh(a,o,!0),l_(e,n,a,ki(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Dr(o,!0);const a=gk(i,r,o,t);return r[s]=a,Yd()&&_h(i,r,a,o),$t(a,r),Gd(o)&&(a_(i,r,o),o_(i,o,r)),null!=n&&u_(r,o),Gh}function zh(){let t=Mt();const e=ae();return Zm()?ey():(t=t.parent,Dr(t,!1)),e.firstCreatePass&&(Xd(e,t),qm(t)&&e.queries.elementEnd(t)),zh}let gk=(t,e,n,r)=>(Oi(!0),by(e[Z],""));function qh(){return I()}function hc(t){return!!t&&"function"==typeof t.then}function mk(t){return!!t&&"function"==typeof t.subscribe}function he(t,e,n,r){const i=I(),s=ae(),o=Mt();return function _k(t,e,n,r,i,s,o){const a=Gd(r),c=t.firstCreatePass&&LR(t),l=e[Je],d=FR(e);let h=!0;if(3&r.type||o){const g=gn(r,e),y=o?o(g):g,w=d.length,_=o?F=>o(Pe(F[r.index])):r.index;let b=null;if(!o&&a&&(b=function p9(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Ro],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,h=!1;else{s=wk(r,e,l,s,!1);const F=n.listen(y,i,s);d.push(s,F),c&&c.push(i,_,w,w+1)}}else s=wk(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const V=e[p[y]][p[y+1]].subscribe(s),K=d.length;d.push(s,V),c&&c.push(i,r.index,K,-(K+1))}}}(s,i,i[Z],o,t,e,r),he}function vk(t,e,n,r){try{return Ir(6,e,n),!1!==n(r)}catch(i){return UR(t,i),!1}finally{Ir(7,e,n)}}function wk(t,e,n,r,i){return function s(o){if(o===Function)return r;nc(t.componentOffset>-1?xn(t.index,e):e);let u=vk(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=vk(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function si(t=1){return function lq(t){return(j.lFrame.contextLView=function dq(t,e){for(;t>0;)e=e[No],t--;return e}(t,j.lFrame.contextLView))[Je]}(t)}function Wh(t,e){return t<<17|e<<2}function Ui(t){return t>>17&32767}function C_(t){return 2|t}function ks(t){return(131068&t)>>2}function b_(t,e){return-131069&t|e<<2}function T_(t){return 1|t}function xk(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Ui(s):ks(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];D9(t[a],e)&&(u=!0,t[a+1]=r?T_(l):C_(l)),a=r?Ui(l):ks(l)}u&&(t[n+1]=r?C_(s):T_(s))}function D9(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&qo(t,e)>=0}function Kh(t,e){return function tr(t,e,n,r){const i=I(),s=ae(),o=function Zr(t){const e=j.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function Uk(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[tn()],o=function Vk(t,e){return e>=t.expandoStartIndex}(t,n);(function Hk(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function k9(t,e,n,r){const i=function ny(t){const e=j.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=fc(n=S_(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=S_(i,t,e,n,r),null===s){let u=function N9(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ks(r))return t[Ui(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=S_(null,t,e,u[1],r),u=fc(u,e.attrs,r),function P9(t,e,n,r){t[Ui(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function O9(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=fc(r,t[s].hostAttrs,n);return fc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function E9(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ui(o),u=ks(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||qo(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Ui(t[a+1]);t[r+1]=Wh(h,a),0!==h&&(t[h+1]=b_(t[h+1],r)),t[a+1]=function v9(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Wh(a,0),0!==a&&(t[a+1]=b_(t[a+1],r)),a=r;else t[r+1]=Wh(u,0),0===a?a=r:t[u+1]=b_(t[u+1],r),u=r;c&&(t[r+1]=C_(t[r+1])),xk(t,l,r,!0),xk(t,l,r,!1),function I9(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&qo(s,e)>=0&&(n[r+1]=T_(n[r+1]))}(e,l,t,r,s),o=Wh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==ee&&jt(i,o,e)&&function $k(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function w9(t){return 1==(1&t)}(c)?jk(u,e,n,i,ks(c),o):void 0;Qh(l)||(Qh(s)||function _9(t){return 2==(2&t)}(c)&&(s=jk(u,null,n,i,a,o)),function M3(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Fi.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Fi.Important),t.setStyle(n,r,i,s))}}(r,o,Qd(tn(),n),i,s))}(s,s.data[tn()],i,i[Z],t,i[o+1]=function U9(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ht(Li(t)))),t}(e,n),r,o)}(t,e,null,!0),Kh}function S_(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=fc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function fc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Rn(t,o,!!n||e[++s]))}return void 0===t?null:t}function jk(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===ee&&(h=d?de:void 0);let f=d?py(h,r):l===r?h:void 0;if(c&&!Qh(f)&&(f=py(u,r)),Qh(f)&&(a=f,o))return a;const p=t[i+1];i=o?Ui(p):ks(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=py(u,r))}return a}function Qh(t){return void 0!==t}function be(t,e=""){const n=I(),r=ae(),i=t+ie,s=r.firstCreatePass?ra(r,i,1,e,null):r.data[i],o=Gk(r,n,s,e,t);n[i]=o,Yd()&&_h(r,n,o,s),Dr(s,!1)}let Gk=(t,e,n,r,i)=>(Oi(!0),function gh(t,e){return t.createText(e)}(e[Z],r));function A_(t){return pc("",t,""),A_}function pc(t,e,n){const r=I(),i=function sa(t,e,n,r){return jt(t,Vo(),n)?e+Q(n)+r:ee}(r,t,e,n);return i!==ee&&function ii(t,e,n){const r=Qd(e,t);!function fx(t,e,n){t.setValue(e,n)}(t[Z],r,n)}(r,tn(),i),pc}const ga="en-US";let hN=ga;function R_(t,e,n,r,i){if(t=q(t),Array.isArray(t))for(let s=0;s<t.length;s++)R_(t[s],e,n,r,i);else{const s=ae(),o=I();let a=Ms(t)?t:q(t.provide),u=Qx(t);const c=Mt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Ms(t)||!t.multi){const f=new $u(u,i,C),p=N_(a,e,i?l:l+h,d);-1===p?(dy(rh(c,o),s,a),k_(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=N_(a,e,l+h,d),p=N_(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){dy(rh(c,o),s,a);const w=function s7(t,e,n,r,i){const s=new $u(t,n,C);return s.multi=[],s.index=e,s.componentProviders=0,LN(s,i,r&&!n),s}(i?i7:r7,n.length,i,r,u);!i&&y&&(n[p].providerFactory=w),k_(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(w),o.push(w)}else k_(s,t,f>-1?f:p,LN(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function k_(t,e,n,r){const i=Ms(e),s=function s6(t){return!!t.useClass}(e);if(i||s){const u=(s?q(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function LN(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function N_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function r7(t,e,n,r){return P_(this.multi,[])}function i7(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ts(n,n[O],this.providerFactory.index,r);s=a.slice(0,o),P_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],P_(i,s);return s}function P_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ue(t,e=[]){return n=>{n.providersResolver=(r,i)=>function n7(t,e,n){const r=ae();if(r.firstCreatePass){const i=Zn(t);R_(n,r.data,r.blueprint,i,!0),R_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ma{}class VN{}class O_ extends ma{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zR(this);const i=An(e);this._bootstrapComponents=ri(i.bootstrap),this._r3Injector=CR(e,n,[{provide:ma,useValue:this},{provide:xh,useValue:this.componentFactoryResolver},...r],ht(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class F_ extends VN{constructor(e){super(),this.moduleType=e}create(e){return new O_(this.moduleType,e,[])}}class UN extends ma{constructor(e){super(),this.componentFactoryResolver=new zR(this),this.instance=null;const n=new Gy([...e.providers,{provide:ma,useValue:this},{provide:xh,useValue:this.componentFactoryResolver}],e.parent||Ch(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function L_(t,e,n=null){return new UN({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let u7=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=zx(0,n.type),i=r.length>0?L_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(N(ti))}),t})();function BN(t){t.getStandaloneInjector=e=>e.get(u7).getOrCreateStandaloneInjector(t)}function WN(t,e,n){const r=function en(){const t=j.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=I();return i[r]===ee?function Tr(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function ac(t,e){return t[e]}(i,r)}function U_(t){return e=>{setTimeout(t,void 0,e)}}const ze=class N7 extends gr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=U_(s),i&&(i=U_(i)),o&&(o=U_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof bn&&e.add(a),a}};function P7(){return this._results[Symbol.iterator]()}class B_{get changes(){return this._changes||(this._changes=new ze)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=B_.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=P7)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function $n(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Nq(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let oi=(()=>{class t{}return t.__NG_ELEMENT_ID__=L7,t})();const O7=oi,F7=class extends O7{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const o=this._declarationTContainer.tView,a=Nh(this._declarationLView,o,e,4096&this._declarationLView[J]?4096:16,null,o.declTNode,null,null,null,n||null,r||null);a[Lu]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[vr];return null!==c&&(a[vr]=c.createEmbeddedView(o)),g_(o,a,e),new sc(a)}};function L7(){return ef(Mt(),I())}function ef(t,e){return 4&t.type?new F7(e,t,ea(t,e)):null}let rr=(()=>{class t{}return t.__NG_ELEMENT_ID__=G7,t})();function G7(){return i1(Mt(),I())}const z7=rr,n1=class extends z7{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ea(this._hostTNode,this._hostLView)}get injector(){return new Bo(this._hostTNode,this._hostLView)}get parentInjector(){const e=ly(this._hostTNode,this._hostLView);if(RM(e)){const n=th(e,this._hostLView),r=eh(e);return new Bo(n[O].data[r+8],n)}return new Bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=r1(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Bt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function ju(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new oc(ge(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(o?c:this.parentInjector).get(ti,null);y&&(s=y)}ge(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,s=i[O];if(function Kz(t){return pn(t[$e])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[$e],l=new n1(c,c[Ut],c[$e]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;if(function E3(t,e,n,r){const i=Bt+r,s=n.length;r>0&&(n[i-1][Jn]=e),r<s-Bt?(e[Jn]=n[i],HM(n,Bt+r,e)):(n.push(e),e[Jn]=null),e[$e]=n;const o=e[Lu];null!==o&&n!==o&&function I3(t,e){const n=t[Oo];e[Ze]!==e[$e][$e][Ze]&&(t[QA]=!0),null===n?t[Oo]=[e]:n.push(e)}(o,e);const a=e[vr];null!==a&&a.insertView(t),e[J]|=128}(s,i,a,o),!r){const u=xy(o,a),c=i[Z],l=yh(c,a[wr]);null!==l&&function _3(t,e,n,r,i,s){r[ft]=i,r[Ut]=e,Qu(t,r,n,1,i,s)}(s,a[Ut],c,i,l,u)}return e.attachToViewContainerRef(),HM(j_(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=r1(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Ty(this._lContainer,n);r&&(oh(j_(this._lContainer),n),gx(r[O],r))}detach(e){const n=this._adjustIndex(e,-1),r=Ty(this._lContainer,n);return r&&null!=oh(j_(this._lContainer),n)?new sc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function r1(t){return t[8]}function j_(t){return t[8]||(t[8]=[])}function i1(t,e){let n;const r=e[t.index];return pn(r)?n=r:(n=PR(r,e,null,t),e[t.index]=n,Ph(e,n)),s1(n,e,t,r),new n1(n,t,e)}let s1=function o1(t,e,n,r){if(t[wr])return;let i;i=8&n.type?Pe(r):function q7(t,e){const n=t[Z],r=n.createComment(""),i=gn(e,t);return Ss(n,yh(n,i),r,function T3(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[wr]=i};class H_{constructor(e){this.queryList=e,this.matches=null}clone(){return new H_(this.queryList)}setDirty(){this.queryList.setDirty()}}class G_{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new G_(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==p1(e,n).matches&&this.queries[n].setDirty()}}class a1{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class z_{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new z_(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class q_{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new q_(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,Q7(n,s)),this.matchTNodeWithReadOption(e,n,ih(n,e,s,!1,!1))}else r===oi?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ih(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===kn||i===rr||i===oi&&4&n.type)this.addMatch(n.index,-2);else{const s=ih(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function Q7(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function X7(t,e,n,r){return-1===n?function Y7(t,e){return 11&t.type?ea(t,e):4&t.type?ef(t,e):null}(e,t):-2===n?function J7(t,e,n){return n===kn?ea(e,t):n===oi?ef(e,t):n===rr?i1(e,t):void 0}(t,e,r):Ts(t,t[O],n,e)}function u1(t,e,n,r){const i=e[vr].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:X7(e,s[c],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function W_(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=u1(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=Bt;d<l.length;d++){const h=l[d];h[Lu]===h[$e]&&W_(h[O],h,c,r)}if(null!==l[Oo]){const d=l[Oo];for(let h=0;h<d.length;h++){const f=d[h];W_(f[O],f,c,r)}}}}}return r}function c1(t){const e=I(),n=ae(),r=EM();ry(r+1);const i=p1(n,r);if(t.dirty&&function qz(t){return 4==(4&t[J])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?W_(n,e,r,[]):u1(n,e,i,r);t.reset(s,b6),t.notifyOnChanges()}return!0}return!1}function l1(t,e,n,r){const i=ae();if(i.firstCreatePass){const s=Mt();(function f1(t,e,n){null===t.queries&&(t.queries=new z_),t.queries.track(new q_(e,n))})(i,new a1(e,n,r),s.index),function t8(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function h1(t,e,n){const r=new B_(4==(4&n));(function q6(t,e,n,r){const i=FR(e);i.push(n),t.firstCreatePass&&LR(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[vr]&&(e[vr]=new G_),e[vr].queries.push(new H_(r))}(i,I(),n)}function p1(t,e){return t.queries.getByIndex(e)}const Z_=new A("Application Initializer");let ev=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=M(Z_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(hc(s))n.push(s);else if(mk(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),R1=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const ai=new A("LocaleId",{providedIn:"root",factory:()=>M(ai,re.Optional|re.SkipSelf)||function D8(){return typeof $localize<"u"&&$localize.locale||ga}()});let k1=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Jt(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class T8{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let N1=(()=>{class t{compileModuleSync(n){return new F_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=ri(An(n).declarations).reduce((o,a)=>{const u=ge(a);return u&&o.push(new oc(u)),o},[]);return new T8(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function F1(...t){}class Se{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ze(!1),this.onMicrotaskEmpty=new ze(!1),this.onStable=new ze(!1),this.onError=new ze(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function M8(){const t="function"==typeof Te.requestAnimationFrame;let e=Te[t?"requestAnimationFrame":"setTimeout"],n=Te[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function k8(t){const e=()=>{!function R8(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Te,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,nv(t),t.isCheckStableRunning=!0,tv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),nv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return L1(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),V1(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return L1(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),V1(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,nv(t),tv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Se.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Se.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,x8,F1,F1);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const x8={};function tv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function L1(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function V1(t){t._nesting--,tv(t)}class N8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ze,this.onMicrotaskEmpty=new ze,this.onStable=new ze,this.onError=new ze}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const U1=new A("",{providedIn:"root",factory:B1});function B1(){const t=M(Se);let e=!0;return function G4(...t){const e=Mu(t),n=function L4(t,e){return"number"==typeof km(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Tn(r[0]):Ao(n)(_t(r,e)):mr}(new Me(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Me(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Se.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(CA()))}const $1=new A(""),nf=new A("");let sv,rv=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,sv||(function P8(t){sv=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(N(Se),N(iv),N(nf))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),iv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return sv?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Bi=null;const j1=new A("AllowMultipleToken"),ov=new A("PlatformDestroyListeners"),av=new A("appBootstrapListener");class G1{constructor(e,n){this.name=e,this.token=n}}function q1(t,e,n=[]){const r=`Platform: ${e}`,i=new A(r);return(s=[])=>{let o=uv();if(!o||o.injector.get(j1,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function L8(t){if(Bi&&!Bi.get(j1,!1))throw new S(400,!1);(function H1(){!function Fz(t){tM=t}(()=>{throw new S(600,!1)})})(),Bi=t;const e=t.get(K1);(function z1(t){t.get(Yx,null)?.forEach(n=>n())})(t)}(function W1(t=[],e){return jn.create({name:e,providers:[{provide:jy,useValue:"platform"},{provide:ov,useValue:new Set([()=>Bi=null])},...t]})}(a,r))}return function U8(t){const e=uv();if(!e)throw new S(401,!1);return e}()}}function uv(){return Bi?.get(K1)??null}let K1=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function B8(t="zone.js",e){return"noop"===t?new N8:"zone.js"===t?new Se(e):t}(r?.ngZone,function Q1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function a7(t,e,n){return new O_(t,e,n)}(n.moduleType,this.injector,function eP(t){return[{provide:Se,useFactory:t},{provide:As,multi:!0,useFactory:()=>{const e=M(j8,{optional:!0});return()=>e.initialize()}},{provide:Z1,useFactory:$8},{provide:U1,useFactory:B1}]}(()=>i)),o=s.injector.get(xs,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{rf(this._modules,s),a.unsubscribe()})}),function Y1(t,e,n){try{const r=n();return hc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(ev);return a.runInitializers(),a.donePromise.then(()=>(function fN(t){Un(t,"Expected localeId to be defined"),"string"==typeof t&&(hN=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(ai,ga)||ga),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=X1({},r);return function O8(t,e,n){const r=new F_(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(va);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new S(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(ov,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(N(jn))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function X1(t,e){return Array.isArray(e)?e.reduce(X1,t):{...t,...e}}let va=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=M(Z1),this.zoneIsStable=M(U1),this.componentTypes=[],this.components=[],this.isStable=M(k1).hasPendingTasks.pipe(yr(n=>n?z(!1):this.zoneIsStable),bA(),CA()),this._injector=M(ti)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof rR;if(!this._injector.get(ev).done)throw!i&&function xo(t){const e=ge(t)||Vt(t)||fn(t);return null!==e&&e.standalone}(n),new S(405,!1);let o;o=i?n:this._injector.get(xh).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function F8(t){return t.isBoundToModule}(o)?void 0:this._injector.get(ma),c=o.create(jn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get($1,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),rf(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;rf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(av,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>rf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function rf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Z1=new A("",{providedIn:"root",factory:()=>M(xs).handleError.bind(void 0)});function $8(){const t=M(Se),e=M(xs);return n=>t.runOutsideAngular(()=>e.handleError(n))}let j8=(()=>{class t{constructor(){this.zone=M(Se),this.applicationRef=M(va)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let sf=(()=>{class t{}return t.__NG_ELEMENT_ID__=z8,t})();function z8(t){return function q8(t,e,n){if(Ds(t)&&!n){const r=xn(t.index,e);return new sc(r,r)}return 47&t.type?new sc(e[Ze],e):null}(Mt(),I(),16==(16&t))}class iP{constructor(){}supports(e){return Uh(e)}create(e){return new J8(e)}}const X8=(t,e)=>e;class J8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||X8}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<oP(r,i,s)?n:r,a=oP(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Uh(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function B5(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Z8(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new sP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Z8{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eK{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class sP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new eK,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class aP{constructor(){}supports(e){return e instanceof Map||m_(e)}create(){return new tK}}class tK{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||m_(e)))throw new S(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new nK(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class nK{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function uP(){return new cf([new iP])}let cf=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||uP()),deps:[[t,new uh,new mn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new S(901,!1)}}return t.\u0275prov=$({token:t,providedIn:"root",factory:uP}),t})();function cP(){return new Dc([new aP])}let Dc=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||cP()),deps:[[t,new uh,new mn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new S(901,!1)}}return t.\u0275prov=$({token:t,providedIn:"root",factory:cP}),t})();const sK=q1(null,"core",[]);let oK=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(N(va))},t.\u0275mod=Zt({type:t}),t.\u0275inj=Lt({}),t})();function wa(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let gv=null;function $i(){return gv}class _K{}const Gn=new A("DocumentToken");let mv=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return M(wK)},providedIn:"platform"}),t})();const vK=new A("Location Initialized");let wK=(()=>{class t extends mv{constructor(){super(),this._doc=M(Gn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $i().getBaseHref(this._doc)}onPopState(n){const r=$i().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=$i().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function yv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function mP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ui(t){return t&&"?"!==t[0]?"?"+t:t}let Os=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return M(_P)},providedIn:"root"}),t})();const yP=new A("appBaseHref");let _P=(()=>{class t extends Os{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(Gn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return yv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ui(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+ui(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+ui(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(N(mv),N(yP,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),EK=(()=>{class t extends Os{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=yv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+ui(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+ui(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(N(mv),N(yP,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),_v=(()=>{class t{constructor(n){this._subject=new ze,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function CK(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(mP(vP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ui(r))}normalize(n){return t.stripTrailingSlash(function DK(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,vP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ui(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ui(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=ui,t.joinWithSlash=yv,t.stripTrailingSlash=mP,t.\u0275fac=function(n){return new(n||t)(N(Os))},t.\u0275prov=$({token:t,factory:function(){return function IK(){return new _v(N(Os))}()},providedIn:"root"}),t})();function vP(t){return t.replace(/\/index.html$/,"")}const Av=/\s+/,AP=[];let Mv=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=AP,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Av):AP}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Av):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Av).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(C(cf),C(Dc),C(kn),C(ni))},t.\u0275dir=H({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class lQ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xP=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new lQ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),RP(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{RP(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(C(rr),C(oi),C(cf))},t.\u0275dir=H({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function RP(t,e){t.context.$implicit=e.item}let kP=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new dQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){NP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){NP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(C(rr),C(oi))},t.\u0275dir=H({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class dQ{constructor(){this.$implicit=null,this.ngIf=null}}function NP(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ht(e)}'.`)}let FQ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Lt({}),t})();function LP(t){return"server"===t}let BQ=(()=>{class t{}return t.\u0275prov=$({token:t,providedIn:"root",factory:()=>new $Q(N(Gn),window)}),t})();class $Q{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function jQ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=VP(this.window.history)||VP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function VP(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class hY extends _K{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Fv extends hY{static makeCurrent(){!function yK(t){gv||(gv=t)}(new Fv)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function fY(){return Sc=Sc||document.querySelector("base"),Sc?Sc.getAttribute("href"):null}();return null==n?null:function pY(t){Df=Df||document.createElement("a"),Df.setAttribute("href",t);const e=Df.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Sc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function uQ(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Df,Sc=null,mY=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const Lv=new A("EventManagerPlugins");let HP=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)(N(Lv),N(Se))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();class GP{constructor(e){this._doc=e}}const Vv="ng-app-id";let zP=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=LP(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Vv}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Vv),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Vv,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(N(Gn),N(bh),N(Xx,8),N(Vi))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const Uv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bv=/%COMP%/g,wY=new A("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function WP(t,e){return e.map(n=>n.replace(Bv,t))}let KP=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=LP(a),this.defaultRenderer=new $v(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Yn.ShadowDom&&(r={...r,encapsulation:Yn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof YP?i.applyToHost(n):i instanceof jv&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Yn.Emulated:s=new YP(u,c,r,this.appId,l,o,a,d);break;case Yn.ShadowDom:return new CY(u,c,n,r,o,a,this.nonce,d);default:s=new jv(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)(N(HP),N(zP),N(bh),N(wY),N(Gn),N(Vi),N(Se),N(Xx))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();class $v{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Uv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(QP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(QP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Uv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Uv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Fi.DashCase|Fi.Important)?e.style.setProperty(n,r,i&Fi.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Fi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=$i().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function QP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class CY extends $v{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=WP(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class jv extends $v{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?WP(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class YP extends jv{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function EY(t){return"_ngcontent-%COMP%".replace(Bv,t)}(c),this.hostAttr=function IY(t){return"_nghost-%COMP%".replace(Bv,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let bY=(()=>{class t extends GP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(N(Gn))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const XP=["alt","control","meta","shift"],TY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},SY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let AY=(()=>{class t extends GP{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$i().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),XP.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=TY[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),XP.forEach(o=>{o!==i&&(0,SY[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(N(Gn))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const ZP=[{provide:Vi,useValue:"browser"},{provide:Yx,useValue:function MY(){Fv.makeCurrent()},multi:!0},{provide:Gn,useFactory:function RY(){return function P3(t){Ny=t}(document),document},deps:[]}],kY=q1(sK,"browser",ZP),NY=new A(""),eO=[{provide:nf,useClass:class gY{addToWindow(e){Te.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new S(5103,!1);return s},Te.getAllAngularTestabilities=()=>e.getAllTestabilities(),Te.getAllAngularRootElements=()=>e.getAllRootElements(),Te.frameworkStabilizers||(Te.frameworkStabilizers=[]),Te.frameworkStabilizers.push(r=>{const i=Te.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?$i().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:$1,useClass:rv,deps:[Se,iv,nf]},{provide:rv,useClass:rv,deps:[Se,iv,nf]}],tO=[{provide:jy,useValue:"root"},{provide:xs,useFactory:function xY(){return new xs},deps:[]},{provide:Lv,useClass:bY,multi:!0,deps:[Gn,Se,Vi]},{provide:Lv,useClass:AY,multi:!0,deps:[Gn]},KP,zP,HP,{provide:sR,useExisting:KP},{provide:class HQ{},useClass:mY,deps:[]},[]];let PY=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:bh,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)(N(NY,12))},t.\u0275mod=Zt({type:t}),t.\u0275inj=Lt({providers:[...tO,...eO],imports:[FQ,oK]}),t})(),nO=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(N(Gn))},t.\u0275prov=$({token:t,factory:function(n){let r=null;return r=n?new n:function FY(){return new nO(N(Gn))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:jY}=Array,{getPrototypeOf:HY,prototype:GY,keys:zY}=Object;function oO(t){if(1===t.length){const e=t[0];if(jY(e))return{args:e,keys:null};if(function qY(t){return t&&"object"==typeof t&&HY(t)===GY}(e)){const n=zY(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:WY}=Array;function aO(t){return fe(e=>function KY(t,e){return WY(e)?t(...e):t(e)}(t,e))}function uO(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Cf(...t){const e=Mu(t),n=Nm(t),{args:r,keys:i}=oO(t);if(0===r.length)return _t([],e);const s=new Me(function QY(t,e,n=Wr){return r=>{cO(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)cO(e,()=>{const c=_t(t[u],e);let l=!1;c.subscribe(Xe(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>uO(i,o):Wr));return n?s.pipe(aO(n)):s}function cO(t,e,n){t?Kr(n,t,e):e()}const bf=Su(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Gv(...t){return function YY(){return Ao(1)}()(_t(t,Mu(t)))}function lO(t){return new Me(e=>{Tn(t()).subscribe(e)})}function Ac(t,e){const n=Ce(t)?t:()=>t,r=i=>i.error(n());return new Me(e?i=>e.schedule(r,0,i):r)}function zv(){return dt((t,e)=>{let n=null;t._refCount++;const r=Xe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class dO extends Me{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,uA(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new bn;const n=this.getSubject();e.add(this.source.subscribe(Xe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=bn.EMPTY)}return e}refCount(){return zv()(this)}}function Ia(t){return t<=0?()=>mr:dt((e,n)=>{let r=0;e.subscribe(Xe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Hi(t,e){return dt((n,r)=>{let i=0;n.subscribe(Xe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Tf(t){return dt((e,n)=>{let r=!1;e.subscribe(Xe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function hO(t=JY){return dt((e,n)=>{let r=!1;e.subscribe(Xe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function JY(){return new bf}function Fs(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Hi((i,s)=>t(i,s,r)):Wr,Ia(1),n?Tf(e):hO(()=>new bf))}function Mc(t,e){return Ce(e)?At(t,e,1):At(t,1)}function Ht(t,e,n){const r=Ce(t)||e||n?{next:t,error:e,complete:n}:t;return r?dt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Xe(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Wr}function Ls(t){return dt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Xe(n,void 0,void 0,o=>{s=Tn(t(o,Ls(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function fO(t,e){return dt(function ZY(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(Xe(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}function qv(t){return t<=0?()=>mr:dt((e,n)=>{let r=[];e.subscribe(Xe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Wv(t){return dt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const te="primary",xc=Symbol("RouteTitle");class nX{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Da(t){return new nX(t)}function rX(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function xr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!pO(t[i],e[i]))return!1;return!0}function pO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function gO(t){return t.length>0?t[t.length-1]:null}function Gi(t){return function $Y(t){return!!t&&(t instanceof Me||Ce(t.lift)&&Ce(t.subscribe))}(t)?t:hc(t)?_t(Promise.resolve(t)):z(t)}const sX={exact:function _O(t,e,n){if(!Vs(t.segments,e.segments)||!Sf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!_O(t.children[r],e.children[r],n))return!1;return!0},subset:vO},mO={exact:function oX(t,e){return xr(t,e)},subset:function aX(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>pO(t[n],e[n]))},ignored:()=>!0};function yO(t,e,n){return sX[n.paths](t.root,e.root,n.matrixParams)&&mO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function vO(t,e,n){return wO(t,e,e.segments,n)}function wO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Vs(i,n)||e.hasChildren()||!Sf(i,n,r))}if(t.segments.length===n.length){if(!Vs(t.segments,n)||!Sf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!vO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Vs(t.segments,i)&&Sf(t.segments,i,r)&&t.children[te])&&wO(t.children[te],e,s,r)}}function Sf(t,e,n){return e.every((r,i)=>mO[n](t[i].parameters,r.parameters))}class Ca{constructor(e=new Ee([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Da(this.queryParams)),this._queryParamMap}toString(){return lX.serialize(this)}}class Ee{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Af(this)}}class Rc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Da(this.parameters)),this._parameterMap}toString(){return DO(this)}}function Vs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let kc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return new Kv},providedIn:"root"}),t})();class Kv{parse(e){const n=new EX(e);return new Ca(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Nc(e.root,!0)}`,r=function fX(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Mf(n)}=${Mf(i)}`).join("&"):`${Mf(n)}=${Mf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function dX(t){return encodeURI(t)}(e.fragment)}`:""}`}}const lX=new Kv;function Af(t){return t.segments.map(e=>DO(e)).join("/")}function Nc(t,e){if(!t.hasChildren())return Af(t);if(e){const n=t.children[te]?Nc(t.children[te],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==te&&r.push(`${i}:${Nc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function cX(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===te&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==te&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===te?[Nc(t.children[te],!1)]:[`${i}:${Nc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[te]?`${Af(t)}/${n[0]}`:`${Af(t)}/(${n.join("//")})`}}function EO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mf(t){return EO(t).replace(/%3B/gi,";")}function Qv(t){return EO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xf(t){return decodeURIComponent(t)}function IO(t){return xf(t.replace(/\+/g,"%20"))}function DO(t){return`${Qv(t.path)}${function hX(t){return Object.keys(t).map(e=>`;${Qv(e)}=${Qv(t[e])}`).join("")}(t.parameters)}`}const pX=/^[^\/()?;#]+/;function Yv(t){const e=t.match(pX);return e?e[0]:""}const gX=/^[^\/()?;=#]+/,yX=/^[^=?&#]+/,vX=/^[^&#]+/;class EX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[te]=new Ee(e,n)),r}parseSegment(){const e=Yv(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new Rc(xf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function mX(t){const e=t.match(gX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Yv(this.remaining);i&&(r=i,this.capture(r))}e[xf(n)]=xf(r)}parseQueryParam(e){const n=function _X(t){const e=t.match(yX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function wX(t){const e=t.match(vX);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=IO(n),s=IO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Yv(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=te);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[te]:new Ee([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}}function CO(t){return t.segments.length>0?new Ee([],{[te]:t}):t}function bO(t){const e={};for(const r of Object.keys(t.children)){const s=bO(t.children[r]);if(r===te&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function IX(t){if(1===t.numberOfChildren&&t.children[te]){const e=t.children[te];return new Ee(t.segments.concat(e.segments),e.children)}return t}(new Ee(t.segments,e))}function Us(t){return t instanceof Ca}function TO(t){let e;const i=CO(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new Ee(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function SO(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Xv(i,i,i,n,r);const s=function CX(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new MO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new MO(n,e,r)}(e);if(s.toRoot())return Xv(i,i,new Ee([],{}),n,r);const o=function bX(t,e,n){if(t.isAbsolute)return new kf(e,!0,0);if(!n)return new kf(e,!1,NaN);if(null===n.parent)return new kf(n,!0,0);const r=Rf(t.commands[0])?0:1;return function TX(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new kf(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Oc(o.segmentGroup,o.index,s.commands):xO(o.segmentGroup,o.index,s.commands);return Xv(i,o.segmentGroup,a,n,r)}function Rf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Pc(t){return"object"==typeof t&&null!=t&&t.outlets}function Xv(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:AO(t,e,n);const a=CO(bO(o));return new Ca(a,s,i)}function AO(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:AO(s,e,n)}),new Ee(t.segments,r)}class MO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Rf(r[0]))throw new S(4003,!1);const i=r.find(Pc);if(i&&i!==gO(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kf{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function xO(t,e,n){if(t||(t=new Ee([],{})),0===t.segments.length&&t.hasChildren())return Oc(t,e,n);const r=function AX(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Pc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!kO(u,c,o))return s;r+=2}else{if(!kO(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Ee(t.segments.slice(0,r.pathIndex),{});return s.children[te]=new Ee(t.segments.slice(r.pathIndex),t.children),Oc(s,0,i)}return r.match&&0===i.length?new Ee(t.segments,{}):r.match&&!t.hasChildren()?Jv(t,e,n):r.match?Oc(t,0,i):Jv(t,e,n)}function Oc(t,e,n){if(0===n.length)return new Ee(t.segments,{});{const r=function SX(t){return Pc(t[0])?t[0].outlets:{[te]:t}}(n),i={};if(!r[te]&&t.children[te]&&1===t.numberOfChildren&&0===t.children[te].segments.length){const s=Oc(t.children[te],e,n);return new Ee(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=xO(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Ee(t.segments,i)}}function Jv(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Pc(s)){const u=MX(s.outlets);return new Ee(r,u)}if(0===i&&Rf(n[0])){r.push(new Rc(t.segments[e].path,RO(n[0]))),i++;continue}const o=Pc(s)?s.outlets[te]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Rf(a)?(r.push(new Rc(o,RO(a))),i+=2):(r.push(new Rc(o,{})),i++)}return new Ee(r,{})}function MX(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Jv(new Ee([],{}),0,r))}),e}function RO(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function kO(t,e,n){return t==n.path&&xr(e,n.parameters)}const Fc="imperative";class Rr{constructor(e,n){this.id=e,this.url=n}}class Zv extends Rr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bs extends Rr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nf extends Rr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lc extends Rr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class ew extends Rr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xX extends Rr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RX extends Rr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kX extends Rr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class NX extends Rr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PX extends Rr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class FX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class LX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class $X{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Vc,this.attachRef=null}}let Vc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new $X,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class PO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=tw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=tw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=nw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return nw(e,this._root).map(n=>n.value)}}function tw(t,e){if(t===e.value)return e;for(const n of e.children){const r=tw(t,n);if(r)return r}return null}function nw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=nw(t,n);if(r.length)return r.unshift(e),r}return[]}class di{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ba(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class OO extends PO{constructor(e,n){super(e),this.snapshot=n,rw(this,e)}toString(){return this.snapshot.toString()}}function FO(t,e){const n=function jX(t,e){const o=new Pf([],{},{},"",{},te,e,null,{});return new VO("",new di(o,[]))}(0,e),r=new Jt([new Rc("",{})]),i=new Jt({}),s=new Jt({}),o=new Jt({}),a=new Jt(""),u=new Ta(r,i,o,a,s,te,e,n.root);return u.snapshot=n.root,new OO(new di(u,[]),n)}class Ta{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(fe(c=>c[xc]))??z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(fe(e=>Da(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(fe(e=>Da(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function LO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function HX(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Pf{get title(){return this.data?.[xc]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Da(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Da(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class VO extends PO{constructor(e,n){super(n),this.url=e,rw(this,n)}toString(){return UO(this._root)}}function rw(t,e){e.value._routerState=t,e.children.forEach(n=>rw(t,n))}function UO(t){const e=t.children.length>0?` { ${t.children.map(UO).join(", ")} } `:"";return`${t.value}${e}`}function iw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,xr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),xr(e.params,n.params)||t.paramsSubject.next(n.params),function iX(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!xr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),xr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function sw(t,e){const n=xr(t.params,e.params)&&function uX(t,e){return Vs(t,e)&&t.every((n,r)=>xr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||sw(t.parent,e.parent))}let Of=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new ze,this.deactivateEvents=new ze,this.attachEvents=new ze,this.detachEvents=new ze,this.parentContexts=M(Vc),this.location=M(rr),this.changeDetector=M(sf),this.environmentInjector=M(ti),this.inputBinder=M(Ff,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new GX(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=H({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Bn]}),t})();class GX{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ta?this.route:e===Vc?this.childContexts:this.parent.get(e,n)}}const Ff=new A("");let BO=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Cf([r.queryParams,r.params,r.data]).pipe(yr(([s,o,a],u)=>(a={...s,...o,...a},0===u?z(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function mK(t){const e=ge(t);if(!e)return null;const n=new oc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();function Uc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function qX(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Uc(t,r,i);return Uc(t,r)})}(t,e,n);return new di(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Uc(t,a)),o}}const r=function WX(t){return new Ta(new Jt(t.url),new Jt(t.params),new Jt(t.queryParams),new Jt(t.fragment),new Jt(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Uc(t,s));return new di(r,i)}}const ow="ngNavigationCancelingError";function $O(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Us(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=jO(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function jO(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[ow]=!0,r.cancellationCode=e,n&&(r.url=n),r}function HO(t){return GO(t)&&Us(t.url)}function GO(t){return t&&t[ow]}let zO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Es({type:t,selectors:[["ng-component"]],standalone:!0,features:[BN],decls:1,vars:0,template:function(n,r){1&n&&er(0,"router-outlet")},dependencies:[Of],encapsulation:2}),t})();function aw(t){const e=t.children&&t.children.map(aw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==te&&(n.component=zO),n}function ar(t){return t.outlet||te}function Bc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class eJ{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),iw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=ba(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ba(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ba(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=ba(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new BX(s.value.snapshot))}),e.children.length&&this.forwardEvent(new VX(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(iw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),iw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Bc(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class qO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Lf{constructor(e,n){this.component=e,this.route=n}}function tJ(t,e,n){const r=t._root;return $c(r,e?e._root:null,n,[r.value])}function Sa(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function J4(t){return null!==Pd(t)}(t)?e.get(t):t:r}function $c(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ba(e);return t.children.forEach(o=>{(function rJ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function iJ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Vs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Vs(t.url,e.url)||!xr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sw(t,e)||!xr(t.queryParams,e.queryParams);default:return!sw(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new qO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),$c(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Lf(a.outlet.component,o))}else o&&jc(e,a,i),i.canActivateChecks.push(new qO(r)),$c(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>jc(a,n.getContext(o),i)),i}function jc(t,e,n){const r=ba(t),i=t.value;Object.entries(r).forEach(([s,o])=>{jc(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Lf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Hc(t){return"function"==typeof t}function WO(t){return t instanceof bf||"EmptyError"===t?.name}const Vf=Symbol("INITIAL_VALUE");function Aa(){return yr(t=>Cf(t.map(e=>e.pipe(Ia(1),function XY(...t){const e=Mu(t);return dt((n,r)=>{(e?Gv(t,n,e):Gv(t,n)).subscribe(r)})}(Vf)))).pipe(fe(e=>{for(const n of e)if(!0!==n){if(n===Vf)return Vf;if(!1===n||n instanceof Ca)return n}return!0}),Hi(e=>e!==Vf),Ia(1)))}function KO(t){return function n4(...t){return sA(t)}(Ht(e=>{if(Us(e))throw $O(0,e)}),fe(e=>!0===e))}class Uf{constructor(e){this.segmentGroup=e||null}}class QO{constructor(e){this.urlTree=e}}function Ma(t){return Ac(new Uf(t))}function YO(t){return Ac(new QO(t))}class CJ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new S(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return z(r);if(i.numberOfChildren>1||!i.children[te])return Ac(new S(4e3,!1));i=i.children[te]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Ca(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ee(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const uw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bJ(t,e,n,r,i){const s=cw(t,e,n);return s.matched?(r=function KX(t,e){return t.providers&&!t._injector&&(t._injector=L_(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function EJ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?z(i.map(o=>{const a=Sa(o,t);return Gi(function lJ(t){return t&&Hc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Aa(),KO()):z(!0)}(r,e,n).pipe(fe(o=>!0===o?s:{...uw}))):z(s)}function cw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...uw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||rX)(n,t,e);if(!i)return{...uw};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function XO(t,e,n,r){return n.length>0&&function AJ(t,e,n){return n.some(r=>Bf(t,e,r)&&ar(r)!==te)}(t,n,r)?{segmentGroup:new Ee(e,SJ(r,new Ee(n,t.children))),slicedSegments:[]}:0===n.length&&function MJ(t,e,n){return n.some(r=>Bf(t,e,r))}(t,n,r)?{segmentGroup:new Ee(t.segments,TJ(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ee(t.segments,t.children),slicedSegments:n}}function TJ(t,e,n,r,i){const s={};for(const o of r)if(Bf(t,n,o)&&!i[ar(o)]){const a=new Ee([],{});s[ar(o)]=a}return{...i,...s}}function SJ(t,e){const n={};n[te]=e;for(const r of t)if(""===r.path&&ar(r)!==te){const i=new Ee([],{});n[ar(r)]=i}return n}function Bf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class NJ{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new CJ(this.urlSerializer,this.urlTree)}noMatchError(e){return new S(4002,!1)}recognize(){const e=XO(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,te).pipe(Ls(n=>{if(n instanceof QO)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Uf?this.noMatchError(n):n}),fe(n=>{const r=new Pf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},te,this.rootComponentType,null,{}),i=new di(r,n),s=new VO("",i),o=function DX(t,e,n=null,r=null){return SO(TO(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,te).pipe(Ls(r=>{throw r instanceof Uf?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=LO(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return _t(i).pipe(Mc(s=>{const o=r.children[s],a=function JX(t,e){const n=t.filter(r=>ar(r)===e);return n.push(...t.filter(r=>ar(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),fO((s,o)=>(s.push(...o),s)),Tf(null),function eX(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Hi((i,s)=>t(i,s,r)):Wr,qv(1),n?Tf(e):hO(()=>new bf))}(),At(s=>{if(null===s)return Ma(r);const o=JO(s);return function PJ(t){t.sort((e,n)=>e.value.outlet===te?-1:n.value.outlet===te?1:e.value.outlet.localeCompare(n.value.outlet))}(o),z(o)}))}processSegment(e,n,r,i,s,o){return _t(n).pipe(Mc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ls(u=>{if(u instanceof Uf)return z(null);throw u}))),Fs(a=>!!a),Ls(a=>{if(WO(a))return function RJ(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?z([]):Ma(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function xJ(t,e,n,r){return!!(ar(t)===r||r!==te&&Bf(e,n,t))&&("**"===t.path||cw(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ma(i):Ma(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?YO(s):this.applyRedirects.lineralizeSegments(r,s).pipe(At(o=>{const a=new Ee(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=cw(n,i,s);if(!a)return Ma(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?YO(d):this.applyRedirects.lineralizeSegments(i,d).pipe(At(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?gO(i).parameters:{};a=z({snapshot:new Pf(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZO(r),ar(r),r.component??r._loadedComponent??null,r,eF(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=bJ(n,r,i,e).pipe(fe(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Pf(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZO(r),ar(r),r.component??r._loadedComponent??null,r,eF(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(yr(u=>null===u?Ma(n):this.getChildConfig(e=r._injector??e,r,i).pipe(yr(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=XO(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(fe(w=>null===w?null:[new di(d,w)]));if(0===c.length&&0===g.length)return z([new di(d,[])]);const y=ar(r)===s;return this.processSegment(l,c,p,g,y?te:s,!0).pipe(fe(w=>[new di(d,w)]))}))))}getChildConfig(e,n,r){return n.children?z({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?z({routes:n._loadedRoutes,injector:n._loadedInjector}):function wJ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?z(!0):z(i.map(o=>{const a=Sa(o,t);return Gi(function oJ(t){return t&&Hc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Aa(),KO())}(e,n,r).pipe(At(i=>i?this.configLoader.loadChildren(e,n).pipe(Ht(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function DJ(t){return Ac(jO(!1,3))}())):z({routes:[],injector:e})}}function OJ(t){const e=t.value.routeConfig;return e&&""===e.path}function JO(t){const e=[],n=new Set;for(const r of t){if(!OJ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=JO(r.children);e.push(new di(r.value,i))}return e.filter(r=>!n.has(r))}function ZO(t){return t.data||{}}function eF(t){return t.resolve||{}}function tF(t){return"string"==typeof t.title||null===t.title}function lw(t){return yr(e=>{const n=t(e);return n?_t(n).pipe(fe(()=>e)):z(e)})}const xa=new A("ROUTES");let dw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=M(N1)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Gi(n.loadComponent()).pipe(fe(nF),Ht(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Wv(()=>{this.componentLoaders.delete(n)})),i=new dO(r,()=>new gr).pipe(zv());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(fe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c;return Array.isArray(a)?c=a:(u=a.create(n).injector,c=u.get(xa,[],re.Self|re.Optional).flat()),{routes:c.map(aw),injector:u}}),Wv(()=>{this.childrenLoaders.delete(r)})),o=new dO(s,()=>new gr).pipe(zv());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Gi(n()).pipe(fe(nF),At(r=>r instanceof VN||Array.isArray(r)?z(r):_t(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function nF(t){return function jJ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let $f=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new gr,this.configLoader=M(dw),this.environmentInjector=M(ti),this.urlSerializer=M(kc),this.rootContexts=M(Vc),this.inputBindingEnabled=null!==M(Ff,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new FX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new OX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Jt({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fc,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Hi(r=>0!==r.id),fe(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),yr(r=>{let i=!1,s=!1;return z(r).pipe(Ht(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),yr(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new Lc(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),mr}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return rF(o.source)&&(n.browserUrlTree=o.extractedUrl),z(o).pipe(yr(l=>{const d=this.transitions?.getValue();return this.events.next(new Zv(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?mr:Promise.resolve(l)}),function FJ(t,e,n,r,i,s){return At(o=>function kJ(t,e,n,r,i,s,o="emptyOnly"){return new NJ(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(fe(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Ht(l=>{if(r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new xX(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new Zv(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const y=FO(0,this.rootComponentType).snapshot;return z(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new Lc(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),mr}}),Ht(o=>{const a=new RX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),fe(o=>r={...o,guards:tJ(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function hJ(t,e){return At(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?z({...n,guardsResult:!0}):function fJ(t,e,n,r){return _t(t).pipe(At(i=>function vJ(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?z(s.map(a=>{const u=Bc(e)??i,c=Sa(a,u);return Gi(function cJ(t){return t&&Hc(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Fs())})).pipe(Aa()):z(!0)}(i.component,i.route,n,e,r)),Fs(i=>!0!==i,!0))}(o,r,i,t).pipe(At(a=>a&&function sJ(t){return"boolean"==typeof t}(a)?function pJ(t,e,n,r){return _t(e).pipe(Mc(i=>Gv(function mJ(t,e){return null!==t&&e&&e(new LX(t)),z(!0)}(i.route.parent,r),function gJ(t,e){return null!==t&&e&&e(new UX(t)),z(!0)}(i.route,r),function _J(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function nJ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>lO(()=>z(o.guards.map(u=>{const c=Bc(o.node)??n,l=Sa(u,c);return Gi(function uJ(t){return t&&Hc(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Fs())})).pipe(Aa())));return z(s).pipe(Aa())}(t,i.path,n),function yJ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return z(!0);const i=r.map(s=>lO(()=>{const o=Bc(e)??n,a=Sa(s,o);return Gi(function aJ(t){return t&&Hc(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Fs())}));return z(i).pipe(Aa())}(t,i.route,n))),Fs(i=>!0!==i,!0))}(r,s,t,e):z(a)),fe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Ht(o=>{if(r.guardsResult=o.guardsResult,Us(o.guardsResult))throw $O(0,o.guardsResult);const a=new kX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Hi(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),lw(o=>{if(o.guards.canActivateChecks.length)return z(o).pipe(Ht(a=>{const u=new NX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),yr(a=>{let u=!1;return z(a).pipe(function LJ(t,e){return At(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return z(n);let s=0;return _t(i).pipe(Mc(o=>function VJ(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!tF(i)&&(s[xc]=i.title),function UJ(t,e,n,r){const i=function BJ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return z({});const s={};return _t(i).pipe(At(o=>function $J(t,e,n,r){const i=Bc(e)??r,s=Sa(t,i);return Gi(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Fs(),Ht(a=>{s[o]=a}))),qv(1),function tX(t){return fe(()=>t)}(s),Ls(o=>WO(o)?mr:Ac(o)))}(s,t,e,r).pipe(fe(o=>(t._resolvedData=o,t.data=LO(t,n).resolve,i&&tF(i)&&(t.data[xc]=i.title),null)))}(o.route,r,t,e)),Ht(()=>s++),qv(1),At(o=>s===i.length?z(n):mr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Ht({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Ht(a=>{const u=new PX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),lw(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ht(l=>{u.component=l}),fe(()=>{})));for(const l of u.children)c.push(...a(l));return c};return Cf(a(o.targetSnapshot.root)).pipe(Tf(),Ia(1))}),lw(()=>this.afterPreactivation()),fe(o=>{const a=function zX(t,e,n){const r=Uc(t,e._root,n?n._root:void 0);return new OO(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Ht(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n,r)=>fe(i=>(new eJ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ia(1),Ht({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Bs(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Wv(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ls(o=>{if(s=!0,GO(o)){HO(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Nf(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),HO(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||rF(r.source)};n.scheduleNavigation(u,Fc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new ew(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return mr}))}))}cancelNavigationTransition(n,r,i){const s=new Nf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function rF(t){return t!==Fc}let iF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===te);return r}getResolvedTitleForRoute(n){return n.data[xc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return M(HJ)},providedIn:"root"}),t})(),HJ=(()=>{class t extends iF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(N(nO))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),GJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return M(qJ)},providedIn:"root"}),t})();class zJ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let qJ=(()=>{class t extends zJ{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=wt(t)))(r||t)}}(),t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const jf=new A("",{providedIn:"root",factory:()=>({})});let WJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:function(){return M(KJ)},providedIn:"root"}),t})(),KJ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Gc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Gc||{});function sF(t,e){t.events.pipe(Hi(n=>n instanceof Bs||n instanceof Nf||n instanceof ew||n instanceof Lc),fe(n=>n instanceof Bs||n instanceof Lc?Gc.COMPLETE:n instanceof Nf&&(0===n.code||1===n.code)?Gc.REDIRECTING:Gc.FAILED),Hi(n=>n!==Gc.REDIRECTING),Ia(1)).subscribe(()=>{e()})}function QJ(t){throw t}function YJ(t,e,n){return e.parse("/")}const XJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=M(R1),this.isNgZoneEnabled=!1,this.options=M(jf,{optional:!0})||{},this.pendingTasks=M(k1),this.errorHandler=this.options.errorHandler||QJ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||YJ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=M(WJ),this.routeReuseStrategy=M(GJ),this.titleStrategy=M(iF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=M(xa,{optional:!0})?.flat()??[],this.navigationTransitions=M($f),this.urlSerializer=M(kc),this.location=M(_v),this.componentInputBindingEnabled=!!M(Ff,{optional:!0}),this.isNgZoneEnabled=M(Se)instanceof Se&&Se.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ca,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=FO(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Fc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(aw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=TO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return SO(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Us(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Fc,null,r)}navigate(n,r={skipLocationChange:!1}){return function ZJ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new S(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...XJ}:!1===r?{...JJ}:r,Us(n))return yO(this.currentUrlTree,n,i);const s=this.parseUrl(n);return yO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return sF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Hf=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new gr,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Bs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function Bx(t,e,n){return function n6(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Ux:Vx}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(C(Wn),C(Ta),function sh(t){return function Cq(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(LA(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Mt(),t)}("tabindex"),C(ni),C(kn),C(Os))},t.\u0275dir=H({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&he("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&Sr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",wa],skipLocationChange:["skipLocationChange","skipLocationChange",wa],replaceUrl:["replaceUrl","replaceUrl",wa],routerLink:"routerLink"},standalone:!0,features:[XR,Bn]}),t})(),oF=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,s,o){this.router=n,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ze,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof Bs&&this.update()})}ngAfterContentInit(){z(this.links.changes,z(null)).pipe(Ao()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=_t(n).pipe(Ao()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function eZ(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}}return t.\u0275fac=function(n){return new(n||t)(C(Wn),C(kn),C(ni),C(sf),C(Hf,8))},t.\u0275dir=H({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,i){if(1&n&&l1(i,Hf,5),2&n){let s;c1(s=function d1(){return function e8(t,e){return t[vr].queries[e].queryList}(I(),EM())}())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Bn]}),t})();class aF{}let tZ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Hi(n=>n instanceof Bs),Mc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=L_(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return _t(i).pipe(Ao())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):z(null);const s=i.pipe(At(o=>null===o?z(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?_t([s,this.loader.loadComponent(r)]).pipe(Ao()):s})}}return t.\u0275fac=function(n){return new(n||t)(N(Wn),N(N1),N(ti),N(aF),N(dw))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const hw=new A("");let uF=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Zv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Bs?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Lc&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof NO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new NO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function bR(){throw new Error("invalid")}()},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();function hi(t,e){return{\u0275kind:t,\u0275providers:e}}function lF(){const t=M(jn);return e=>{const n=t.get(va);if(e!==n.components[0])return;const r=t.get(Wn),i=t.get(dF);1===t.get(fw)&&r.initialNavigation(),t.get(hF,null,re.Optional)?.setUpPreloading(),t.get(hw,null,re.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const dF=new A("",{factory:()=>new gr}),fw=new A("",{providedIn:"root",factory:()=>1}),hF=new A("");function sZ(t){return hi(0,[{provide:hF,useExisting:tZ},{provide:aF,useExisting:t}])}const fF=new A("ROUTER_FORROOT_GUARD"),aZ=[_v,{provide:kc,useClass:Kv},Wn,Vc,{provide:Ta,useFactory:function cF(t){return t.routerState.root},deps:[Wn]},dw,[]];function uZ(){return new G1("Router",Wn)}let pF=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[aZ,[],{provide:xa,multi:!0,useValue:n},{provide:fF,useFactory:hZ,deps:[[Wn,new mn,new uh]]},{provide:jf,useValue:r||{}},r?.useHash?{provide:Os,useClass:EK}:{provide:Os,useClass:_P},{provide:hw,useFactory:()=>{const t=M(BQ),e=M(Se),n=M(jf),r=M($f),i=M(kc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new uF(i,r,t,e,n)}},r?.preloadingStrategy?sZ(r.preloadingStrategy).\u0275providers:[],{provide:G1,multi:!0,useFactory:uZ},r?.initialNavigation?fZ(r):[],r?.bindToComponentInputs?hi(8,[BO,{provide:Ff,useExisting:BO}]).\u0275providers:[],[{provide:gF,useFactory:lF},{provide:av,multi:!0,useExisting:gF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:xa,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(N(fF,8))},t.\u0275mod=Zt({type:t}),t.\u0275inj=Lt({}),t})();function hZ(t){return"guarded"}function fZ(t){return["disabled"===t.initialNavigation?hi(3,[{provide:Z_,multi:!0,useFactory:()=>{const e=M(Wn);return()=>{e.setUpLocationChangeListener()}}},{provide:fw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?hi(2,[{provide:fw,useValue:0},{provide:Z_,multi:!0,deps:[jn],useFactory:e=>{const n=e.get(vK,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Wn),s=e.get(dF);sF(i,()=>{r(!0)}),e.get($f).afterPreactivation=()=>(r(!0),s.closed?z(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const gF=new A("");let gZ=(()=>{class t{constructor(){this.title="task-management-system-sr"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Es({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&er(0,"router-outlet")},dependencies:[Of]}),t})();function mF(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){mF(s,r,i,o,a,"next",u)}function a(u){mF(s,r,i,o,a,"throw",u)}o(void 0)})}}const yF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},gw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new vZ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gf=function(t){return function(t){const e=yF(t);return gw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},zf=function(t){try{return gw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},qf=()=>{try{return function IZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zf(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},vF=()=>{var t;return null===(t=qf())||void 0===t?void 0:t.config};class Wf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function On(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function mw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function $s(){try{return"object"==typeof indexedDB}catch{return!1}}function zc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function yw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ur extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kr.prototype.create)}}class kr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function PZ(t,e){return t.replace(OZ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ur(i,`${this.serviceName}: ${o} (${i}).`,r)}}const OZ=/\{\$([^}]+)}/g;function _w(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(EF(s)&&EF(o)){if(!_w(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function EF(t){return null!==t&&"object"==typeof t}function IF(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class LZ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function VZ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=vw),void 0===i.error&&(i.error=vw),void 0===i.complete&&(i.complete=vw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vw(){}const UZ=1e3,BZ=2,$Z=144e5,jZ=.5;function Ew(t,e=UZ,n=BZ){const r=e*Math.pow(n,t),i=Math.round(jZ*r*(Math.random()-.5)*2);return Math.min($Z,r+i)}function Gt(t){return t&&t._delegate?t._delegate:t}class zt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const js="[DEFAULT]";class GZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Wf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function qZ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===js?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class WZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Iw=[];var le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{});const DF={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},KZ=le.INFO,QZ={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},YZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=QZ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ra{constructor(e){this.name=e,this._logLevel=KZ,this._logHandler=YZ,this._userLogHandler=null,Iw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?DF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const XZ=(t,e)=>e.some(n=>t instanceof n);let CF,bF;const TF=new WeakMap,Dw=new WeakMap,SF=new WeakMap,Cw=new WeakMap,bw=new WeakMap;let Tw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Dw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||SF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function iee(t){return"function"==typeof t?function ree(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ZZ(){return bF||(bF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Sw(this),e),zi(TF.get(this))}:function(...e){return zi(t.apply(Sw(this),e))}:function(e,...n){const r=t.call(Sw(this),e,...n);return SF.set(r,e.sort?e.sort():[e]),zi(r)}}(t):(t instanceof IDBTransaction&&function tee(t){if(Dw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Dw.set(t,e)}(t),XZ(t,function JZ(){return CF||(CF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Tw):t)}function zi(t){if(t instanceof IDBRequest)return function eee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TF.set(n,t)}).catch(()=>{}),bw.set(e,t),e}(t);if(Cw.has(t))return Cw.get(t);const e=iee(t);return e!==t&&(Cw.set(t,e),bw.set(e,t)),e}const Sw=t=>bw.get(t),oee=["get","getKey","getAll","getAllKeys","count"],aee=["put","add","delete","clear"],Aw=new Map;function AF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Aw.get(e))return Aw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=aee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!oee.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Aw.set(e,s),s}!function nee(t){Tw=t(Tw)}(t=>({...t,get:(e,n,r)=>AF(e,n)||t.get(e,n,r),has:(e,n)=>!!AF(e,n)||t.has(e,n)}));class uee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function cee(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Mw="@firebase/app",Hs=new Ra("@firebase/app"),Qf="[DEFAULT]",Oee={[Mw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Gs=new Map,Yf=new Map;function Fee(t,e){try{t.container.addComponent(e)}catch(n){Hs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function on(t){const e=t.name;if(Yf.has(e))return Hs.debug(`There were multiple attempts to register component ${e}.`),!1;Yf.set(e,t);for(const n of Gs.values())Fee(n,t);return!0}function Xf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const fi=new kr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Vee{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}}const qc="9.23.0";function xF(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Qf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw fi.create("bad-app-name",{appName:String(i)});if(n||(n=vF()),!n)throw fi.create("no-options");const s=Gs.get(i);if(s){if(_w(n,s.options)&&_w(r,s.config))return s;throw fi.create("duplicate-app",{appName:i})}const o=new WZ(i);for(const u of Yf.values())o.addComponent(u);const a=new Vee(n,r,o);return Gs.set(i,a),a}function RF(t=Qf){const e=Gs.get(t);if(!e&&t===Qf&&vF())return xF();if(!e)throw fi.create("no-app",{appName:t});return e}function kF(){return Array.from(Gs.values())}function nt(t,e,n){var r;let i=null!==(r=Oee[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Hs.warn(a.join(" "))}on(new zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Uee="firebase-heartbeat-database",Bee=1,Wc="firebase-heartbeat-store";let Rw=null;function NF(){return Rw||(Rw=function see(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=zi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(zi(o.result),u.oldVersion,u.newVersion,zi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Uee,Bee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Wc)}}).catch(t=>{throw fi.create("idb-open",{originalErrorMessage:t.message})})),Rw}function kw(){return(kw=m(function*(t){try{return yield(yield NF()).transaction(Wc).objectStore(Wc).get(OF(t))}catch(e){if(e instanceof ur)Hs.warn(e.message);else{const n=fi.create("idb-get",{originalErrorMessage:e?.message});Hs.warn(n.message)}}})).apply(this,arguments)}function PF(t,e){return Nw.apply(this,arguments)}function Nw(){return(Nw=m(function*(t,e){try{const r=(yield NF()).transaction(Wc,"readwrite");yield r.objectStore(Wc).put(e,OF(t)),yield r.done}catch(n){if(n instanceof ur)Hs.warn(n.message);else{const r=fi.create("idb-set",{originalErrorMessage:n?.message});Hs.warn(r.message)}}})).apply(this,arguments)}function OF(t){return`${t.name}!${t.options.appId}`}class Gee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=FF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=FF(),{heartbeatsToSend:r,unsentEntries:i}=function zee(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),LF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),LF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Gf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function FF(){return(new Date).toISOString().substring(0,10)}class qee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!$s()&&zc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function $ee(t){return kw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return PF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return PF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function LF(t){return Gf(JSON.stringify({version:2,heartbeats:t})).length}!function Wee(t){on(new zt("platform-logger",e=>new uee(e),"PRIVATE")),on(new zt("heartbeat",e=>new Gee(e),"PRIVATE")),nt(Mw,"0.9.13",t),nt(Mw,"0.9.13","esm2017"),nt("fire-js","")}(""),nt("firebase","9.23.0","app");const Yee=(t,e)=>e.some(n=>t instanceof n);let VF,UF;const BF=new WeakMap,Pw=new WeakMap,$F=new WeakMap,Ow=new WeakMap,Fw=new WeakMap;let Lw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Pw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||$F.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function rte(t){return"function"==typeof t?function nte(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Jee(){return UF||(UF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Vw(this),e),qi(BF.get(this))}:function(...e){return qi(t.apply(Vw(this),e))}:function(e,...n){const r=t.call(Vw(this),e,...n);return $F.set(r,e.sort?e.sort():[e]),qi(r)}}(t):(t instanceof IDBTransaction&&function ete(t){if(Pw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Pw.set(t,e)}(t),Yee(t,function Xee(){return VF||(VF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Lw):t)}function qi(t){if(t instanceof IDBRequest)return function Zee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&BF.set(n,t)}).catch(()=>{}),Fw.set(e,t),e}(t);if(Ow.has(t))return Ow.get(t);const e=rte(t);return e!==t&&(Ow.set(t,e),Fw.set(e,t)),e}const Vw=t=>Fw.get(t),ste=["get","getKey","getAll","getAllKeys","count"],ote=["put","add","delete","clear"],Uw=new Map;function jF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Uw.get(e))return Uw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ote.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ste.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Uw.set(e,s),s}!function tte(t){Lw=t(Lw)}(t=>({...t,get:(e,n,r)=>jF(e,n)||t.get(e,n,r),has:(e,n)=>!!jF(e,n)||t.has(e,n)}));const HF="@firebase/installations",Bw="0.6.4",GF=1e4,zF=`w:${Bw}`,qF="FIS_v2",ate="https://firebaseinstallations.googleapis.com/v1",ute=36e5,pi=new kr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function WF(t){return t instanceof ur&&t.code.includes("request-failed")}function $w({projectId:t}){return`${ate}/projects/${t}/installations`}function KF(t){return{token:t.token,requestStatus:2,expiresIn:hte(t.expiresIn),creationTime:Date.now()}}function jw(t,e){return Hw.apply(this,arguments)}function Hw(){return(Hw=m(function*(t,e){const r=(yield e.json()).error;return pi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function QF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Gw(t){return zw.apply(this,arguments)}function zw(){return(zw=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function hte(t){return Number(t.replace("s","000"))}function qw(){return(qw=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=$w(t),i=QF(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:qF,appId:t.appId,sdkVersion:zF})},u=yield Gw(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:KF(c.authToken)}}throw yield jw("Create Installation",u)})).apply(this,arguments)}function XF(t){return new Promise(e=>{setTimeout(e,t)})}const mte=/^[cdef][\w-]{21}$/,Ww="";function yte(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function _te(t){return function gte(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return mte.test(n)?n:Ww}catch{return Ww}}function ka(t){return`${t.appName}!${t.appId}`}const Na=new Map;function JF(t,e){const n=ka(t);ZF(n,e),function Ete(t,e){const n=function eL(){return!zs&&"BroadcastChannel"in self&&(zs=new BroadcastChannel("[Firebase] FID Change"),zs.onmessage=t=>{ZF(t.data.key,t.data.fid)}),zs}();n&&n.postMessage({key:t,fid:e}),function tL(){0===Na.size&&zs&&(zs.close(),zs=null)}()}(n,e)}function ZF(t,e){const n=Na.get(t);if(n)for(const r of n)r(e)}let zs=null;const Ite="firebase-installations-database",Dte=1,qs="firebase-installations-store";let Kw=null;function Qw(){return Kw||(Kw=function ite(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=qi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(qi(o.result),u.oldVersion,u.newVersion,qi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Ite,Dte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(qs)}})),Kw}function Jf(t,e){return Yw.apply(this,arguments)}function Yw(){return(Yw=m(function*(t,e){const n=ka(t),i=(yield Qw()).transaction(qs,"readwrite"),s=i.objectStore(qs),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&JF(t,e.fid),e})).apply(this,arguments)}function Xw(t){return Jw.apply(this,arguments)}function Jw(){return(Jw=m(function*(t){const e=ka(t),r=(yield Qw()).transaction(qs,"readwrite");yield r.objectStore(qs).delete(e),yield r.done})).apply(this,arguments)}function Kc(t,e){return Zw.apply(this,arguments)}function Zw(){return(Zw=m(function*(t,e){const n=ka(t),i=(yield Qw()).transaction(qs,"readwrite"),s=i.objectStore(qs),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&JF(t,a.fid),a})).apply(this,arguments)}function eE(t){return tE.apply(this,arguments)}function tE(){return tE=m(function*(t){let e;const n=yield Kc(t.appConfig,r=>{const i=function Cte(t){return rL(t||{fid:yte(),registrationStatus:0})}(r),s=function bte(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(pi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Tte(t,e){return nE.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Ste(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Ww?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),tE.apply(this,arguments)}function nE(){return nE=m(function*(t,e){try{const n=yield function pte(t,e){return qw.apply(this,arguments)}(t,e);return Jf(t.appConfig,n)}catch(n){throw WF(n)&&409===n.customData.serverCode?yield Xw(t.appConfig):yield Jf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),nE.apply(this,arguments)}function Ste(t){return rE.apply(this,arguments)}function rE(){return(rE=m(function*(t){let e=yield nL(t.appConfig);for(;1===e.registrationStatus;)yield XF(100),e=yield nL(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield eE(t);return r||n}return e})).apply(this,arguments)}function nL(t){return Kc(t,e=>{if(!e)throw pi.create("installation-not-found");return rL(e)})}function rL(t){return function Ate(t){return 1===t.registrationStatus&&t.registrationTime+GF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function iE(){return(iE=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function xte(t,{fid:e}){return`${$w(t)}/${e}/authTokens:generate`}(t,n),i=function YF(t,{refreshToken:e}){const n=QF(t);return n.append("Authorization",function fte(t){return`${qF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:zF,appId:t.appId}})},u=yield Gw(()=>fetch(r,a));if(u.ok)return KF(yield u.json());throw yield jw("Generate Auth Token",u)})).apply(this,arguments)}function sE(t){return oE.apply(this,arguments)}function oE(){return oE=m(function*(t,e=!1){let n;const r=yield Kc(t.appConfig,s=>{if(!sL(s))throw pi.create("not-registered");const o=s.authToken;if(!e&&function Nte(t){return 2===t.requestStatus&&!function Pte(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ute}(t)}(o))return s;if(1===o.requestStatus)return n=function Rte(t,e){return aE.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw pi.create("app-offline");const a=function Ote(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function kte(t,e){return uE.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),oE.apply(this,arguments)}function aE(){return(aE=m(function*(t,e){let n=yield iL(t.appConfig);for(;1===n.authToken.requestStatus;)yield XF(100),n=yield iL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?sE(t,e):r})).apply(this,arguments)}function iL(t){return Kc(t,e=>{if(!sL(e))throw pi.create("not-registered");return function Fte(t){return 1===t.requestStatus&&t.requestTime+GF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function uE(){return uE=m(function*(t,e){try{const n=yield function Mte(t,e){return iE.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Jf(t.appConfig,r),n}catch(n){if(!WF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Jf(t.appConfig,r)}else yield Xw(t.appConfig);throw n}}),uE.apply(this,arguments)}function sL(t){return void 0!==t&&2===t.registrationStatus}function cE(){return(cE=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield eE(e);return r?r.catch(console.error):sE(e).catch(console.error),n.fid})).apply(this,arguments)}function lE(){return lE=m(function*(t,e=!1){const n=t;return yield function Ute(t){return dE.apply(this,arguments)}(n),(yield sE(n,e)).token}),lE.apply(this,arguments)}function dE(){return(dE=m(function*(t){const{registrationPromise:e}=yield eE(t);e&&(yield e)})).apply(this,arguments)}function pE(t){return pi.create("missing-app-config-values",{valueName:t})}const oL="installations",Gte=t=>{const e=t.getProvider("app").getImmediate(),n=function jte(t){if(!t||!t.options)throw pE("App Configuration");if(!t.name)throw pE("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw pE(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Xf(e,"heartbeat"),_delete:()=>Promise.resolve()}},zte=t=>{const n=Xf(t.getProvider("app").getImmediate(),oL).getImmediate();return{getId:()=>function Lte(t){return cE.apply(this,arguments)}(n),getToken:i=>function Vte(t){return lE.apply(this,arguments)}(n,i)}};(function qte(){on(new zt(oL,Gte,"PUBLIC")),on(new zt("installations-internal",zte,"PRIVATE"))})(),nt(HF,Bw),nt(HF,Bw,"esm2017");const gE="@firebase/remote-config",En=new kr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class rne{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function ine(t=navigator){return t.languages&&t.languages[0]||t.language}class sne{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:ine()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,_)=>{e.signal.addEventListener(()=>{const b=new Error("The operation was aborted.");b.name="AbortError",_(b)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let _="fetch-client-network";throw"AbortError"===w?.name&&(_="fetch-timeout"),En.create(_,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,y;if(200===h.status){let w;try{w=yield h.json()}catch(_){throw En.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=w.entries,y=w.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(g={}),304!==f&&200!==f)throw En.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class une{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function one(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(En.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function ane(t){if(!(t instanceof ur&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Ew(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class dne{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ep(t,e){const n=t.target.error||void 0;return En.create(e,{originalErrorMessage:n&&n?.message})}const Ws="app_namespace_store";class gne{constructor(e,n,r,i=function pne(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(ep(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ws,{keyPath:"compositeKey"})}}catch(n){e(En.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ws],"readonly").objectStore(Ws),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(ep(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(En.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Ws],"readwrite").objectStore(Ws),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(ep(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(En.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ws],"readwrite").objectStore(Ws),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(ep(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(En.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class mne{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function _ne(){return wE.apply(this,arguments)}function wE(){return(wE=m(function*(){if(!$s())return!1;try{return yield zc()}catch{return!1}})).apply(this,arguments)}!function yne(){on(new zt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw En.create("registration-window");if(!$s())throw En.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw En.create("registration-project-id");if(!o)throw En.create("registration-api-key");if(!a)throw En.create("registration-app-id");const u=new gne(a,r.name,n=n||"firebase"),c=new mne(u),l=new Ra(gE);l.logLevel=le.ERROR;const d=new sne(i,qc,n,s,o,a),h=new une(d,u),f=new rne(h,u,c,l),p=new dne(r,f,c,u,l);return function ene(t){const e=Gt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),nt(gE,"0.4.4"),nt(gE,"0.4.4","esm2017")}();const vne=(t,e)=>e.some(n=>t instanceof n);let lL,dL;const hL=new WeakMap,EE=new WeakMap,fL=new WeakMap,IE=new WeakMap,DE=new WeakMap;let CE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return EE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||fL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Tne(t){return"function"==typeof t?function bne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ene(){return dL||(dL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(bE(this),e),gi(hL.get(this))}:function(...e){return gi(t.apply(bE(this),e))}:function(e,...n){const r=t.call(bE(this),e,...n);return fL.set(r,e.sort?e.sort():[e]),gi(r)}}(t):(t instanceof IDBTransaction&&function Dne(t){if(EE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});EE.set(t,e)}(t),vne(t,function wne(){return lL||(lL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,CE):t)}function gi(t){if(t instanceof IDBRequest)return function Ine(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(gi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hL.set(n,t)}).catch(()=>{}),DE.set(e,t),e}(t);if(IE.has(t))return IE.get(t);const e=Tne(t);return e!==t&&(IE.set(t,e),DE.set(e,t)),e}const bE=t=>DE.get(t);function pL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=gi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(gi(o.result),u.oldVersion,u.newVersion,gi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function TE(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),gi(n).then(()=>{})}const Sne=["get","getKey","getAll","getAllKeys","count"],Ane=["put","add","delete","clear"],SE=new Map;function gL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(SE.get(e))return SE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ane.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Sne.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return SE.set(e,s),s}!function Cne(t){CE=t(CE)}(t=>({...t,get:(e,n,r)=>gL(e,n)||t.get(e,n,r),has:(e,n)=>!!gL(e,n)||t.has(e,n)}));const Mne="/firebase-messaging-sw.js",xne="/firebase-cloud-messaging-push-scope",mL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Rne="https://fcmregistrations.googleapis.com/v1",yL="google.c.a.c_id",kne="google.c.a.c_l",Nne="google.c.a.ts";var tp=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(tp||{});function mi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const AE="fcm_token_details_db",Lne=5,_L="fcm_token_object_Store";function ME(){return ME=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(AE))return null;let e=null;return(yield pL(AE,Lne,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(_L))return;const c=a.objectStore(_L),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:mi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:mi(d.auth),p256dh:mi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:mi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:mi(d.auth),p256dh:mi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:mi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield TE(AE),yield TE("fcm_vapid_details_db"),yield TE("undefined"),function Une(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),ME.apply(this,arguments)}const Bne="firebase-messaging-database",$ne=1,Ks="firebase-messaging-store";let xE=null;function RE(){return xE||(xE=pL(Bne,$ne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ks)}})),xE}function vL(t){return kE.apply(this,arguments)}function kE(){return kE=m(function*(t){const e=FE(t),r=yield(yield RE()).transaction(Ks).objectStore(Ks).get(e);if(r)return r;{const i=yield function Vne(t){return ME.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield NE(t,i),i}}),kE.apply(this,arguments)}function NE(t,e){return PE.apply(this,arguments)}function PE(){return(PE=m(function*(t,e){const n=FE(t),i=(yield RE()).transaction(Ks,"readwrite");return yield i.objectStore(Ks).put(e,n),yield i.done,e})).apply(this,arguments)}function OE(){return(OE=m(function*(t){const e=FE(t),r=(yield RE()).transaction(Ks,"readwrite");yield r.objectStore(Ks).delete(e),yield r.done})).apply(this,arguments)}function FE({appConfig:t}){return t.appId}const xt=new kr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Gne(t,e){return LE.apply(this,arguments)}function LE(){return(LE=m(function*(t,e){const n=yield $E(t),r=EL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(BE(t.appConfig),i)).json()}catch(o){throw xt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw xt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw xt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function VE(){return(VE=m(function*(t,e){const n=yield $E(t),r=EL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${BE(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw xt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw xt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw xt.create("token-update-no-token");return s.token})).apply(this,arguments)}function wL(t,e){return UE.apply(this,arguments)}function UE(){return(UE=m(function*(t,e){const r={method:"DELETE",headers:yield $E(t)};try{const s=yield(yield fetch(`${BE(t.appConfig)}/${e}`,r)).json();if(s.error)throw xt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw xt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function BE({projectId:t}){return`${Rne}/projects/${t}/registrations`}function $E(t){return jE.apply(this,arguments)}function jE(){return(jE=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function EL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==mL&&(i.web.applicationPubKey=r),i}const qne=6048e5;function HE(){return HE=m(function*(t){const e=yield function Qne(t,e){return WE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:mi(e.getKey("auth")),p256dh:mi(e.getKey("p256dh"))},r=yield vL(t.firebaseDependencies);if(r){if(function Yne(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+qne?function Kne(t,e){return zE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield wL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return DL(t.firebaseDependencies,n)}return DL(t.firebaseDependencies,n)}),HE.apply(this,arguments)}function GE(){return GE=m(function*(t){const e=yield vL(t.firebaseDependencies);e&&(yield wL(t.firebaseDependencies,e.token),yield function jne(t){return OE.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),GE.apply(this,arguments)}function zE(){return zE=m(function*(t,e){try{const n=yield function zne(t,e){return VE.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield NE(t.firebaseDependencies,r),n}catch(n){throw yield function IL(t){return GE.apply(this,arguments)}(t),n}}),zE.apply(this,arguments)}function DL(t,e){return qE.apply(this,arguments)}function qE(){return(qE=m(function*(t,e){const r={token:yield Gne(t,e),createTime:Date.now(),subscriptionOptions:e};return yield NE(t,r),r.token})).apply(this,arguments)}function WE(){return(WE=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fne(e)})})).apply(this,arguments)}function CL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Xne(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Jne(t,e){e.data&&(t.data=e.data)}(e,t),function Zne(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function bL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function KE(t){return xt.create("missing-app-config-values",{valueName:t})}bL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),bL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class nre{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function tre(t){if(!t||!t.options)throw KE("App Configuration Object");if(!t.name)throw KE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw KE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function QE(){return(QE=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Mne,{scope:xne}),t.swRegistration.update().catch(()=>{})}catch(e){throw xt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function YE(){return(YE=m(function*(t,e){if(!e&&!t.swRegistration&&(yield function TL(t){return QE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw xt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function XE(){return(XE=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=mL)})).apply(this,arguments)}function JE(){return JE=m(function*(t,e){if(!navigator)throw xt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xt.create("permission-blocked");return yield function ire(t,e){return XE.apply(this,arguments)}(t,e?.vapidKey),yield function rre(t,e){return YE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Wne(t){return HE.apply(this,arguments)}(t)}),JE.apply(this,arguments)}function ZE(){return(ZE=m(function*(t,e,n){const r=function ore(t){switch(t){case tp.NOTIFICATION_CLICKED:return"notification_open";case tp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[yL],message_name:n[kne],message_time:n[Nne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function eI(){return eI=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===tp.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(CL(n)):t.onMessageHandler.next(CL(n)));const r=n.data;(function ere(t){return"object"==typeof t&&!!t&&yL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function sre(t,e,n){return ZE.apply(this,arguments)}(t,n.messageType,r))}),eI.apply(this,arguments)}const AL="@firebase/messaging",ure=t=>{const e=new nre(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function are(t,e){return eI.apply(this,arguments)}(e,n)),e},cre=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function SL(t,e){return JE.apply(this,arguments)}(e,r)}};function xL(){return tI.apply(this,arguments)}function tI(){return(tI=m(function*(){try{yield zc()}catch{return!1}return typeof window<"u"&&$s()&&yw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function lre(){on(new zt("messaging",ure,"PUBLIC")),on(new zt("messaging-internal",cre,"PRIVATE")),nt(AL,"0.12.4"),nt(AL,"0.12.4","esm2017")}();const np="analytics",fre="firebase_id",pre="origin",gre=6e4,mre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",iI="https://www.googletagmanager.com/gtag/js",Et=new Ra("@firebase/analytics"),an=new kr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function _re(t){if(!t.startsWith(iI)){const e=an.create("invalid-gtag-resource",{gtagURL:t});return Et.warn(e.message),""}return t}function RL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function sI(){return(sI=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield RL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Et.error(a)}t("config",i,s)})).apply(this,arguments)}function oI(){return(oI=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield RL(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Et.error(s)}})).apply(this,arguments)}const Sre=30,kL=new class Mre{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function xre(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function aI(){return(aI=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:xre(r)},s=mre.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw an.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function uI(){return(uI=m(function*(t,e=kL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw an.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw an.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Ore;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:gre),NL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function NL(t,e,n){return cI.apply(this,arguments)}function cI(){return cI=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=kL){var s;const{appId:o,measurementId:a}=t;try{yield function Nre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(an.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Et.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Rre(t){return aI.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Pre(t){if(!(t instanceof ur&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Et.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Ew(n,i.intervalMillis,Sre):Ew(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Et.debug(`Calling attemptFetch again in ${l} millis`),NL(t,d,r,i)}}),cI.apply(this,arguments)}class Ore{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let lI,yI;function dI(){return(dI=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function _I(){return(_I=m(function*(){if(!$s())return Et.warn(an.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield zc()}catch(t){return Et.warn(an.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function vI(){return vI=m(function*(t,e,n,r,i,s,o){var a;const u=function kre(t){return uI.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Et.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Et.error(f)),e.push(u);const c=function jre(){return _I.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Tre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(iI)&&n.src.includes(t))return n;return null})(s)||function wre(t,e){const n=function vre(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:_re}),r=document.createElement("script"),i=`${iI}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),yI&&(i("consent","default",yI),function PL(t){yI=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[pre]="firebase",h.update=!0,null!=d&&(h[fre]=d),i("config",l.measurementId,h),lI&&(i("set",lI),function OL(t){lI=t}(void 0)),l.measurementId}),vI.apply(this,arguments)}class Gre{constructor(e){this.app=e}_delete(){return delete Nr[this.app.options.appId],Promise.resolve()}}let Nr={},FL=[];const LL={};let UL,Pr,rp="dataLayer",wI=!1;function qre(t,e,n){!function zre(){const t=[];if(mw()&&t.push("This is a browser extension environment."),yw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=an.create("invalid-analytics-context",{errorInfo:e});Et.warn(n.message)}}();const r=t.options.appId;if(!r)throw an.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw an.create("no-api-key");Et.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Nr[r])throw an.create("already-exists",{id:r});if(!wI){!function Ere(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(rp);const{wrappedGtag:s,gtagCore:o}=function bre(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Cre(t,e,n,r){function s(){return s=m(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function Dre(t,e,n,r,i){return oI.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function Ire(t,e,n,r,i,s){return sI.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){Et.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Nr,FL,LL,rp,"gtag");Pr=s,UL=o,wI=!0}return Nr[r]=function Hre(t,e,n,r,i,s,o){return vI.apply(this,arguments)}(t,FL,LL,e,UL,rp,n),new Gre(t)}function Kre(){return EI.apply(this,arguments)}function EI(){return(EI=m(function*(){if(mw()||!yw()||!$s())return!1;try{return yield zc()}catch{return!1}})).apply(this,arguments)}const BL="@firebase/analytics";!function Yre(){on(new zt(np,(e,{options:n})=>qre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),on(new zt("analytics-internal",function t(e){try{const n=e.getProvider(np).getImmediate();return{logEvent:(r,i,s)=>function Qre(t,e,n,r){t=Gt(t),function Fre(t,e,n,r,i){return dI.apply(this,arguments)}(Pr,Nr[t.app.options.appId],e,n,r).catch(i=>Et.error(i))}(n,r,i,s)}}catch(n){throw an.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),nt(BL,"0.10.0"),nt(BL,"0.10.0","esm2017")}();class Xre extends bn{constructor(e,n){super()}schedule(e,n=0){return this}}const ip={setInterval(t,e,...n){const{delegate:r}=ip;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=ip;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class jL extends Xre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ip.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&ip.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,So(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const HL={now:()=>(HL.delegate||Date).now(),delegate:void 0};class Qc{constructor(e,n=Qc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Qc.now=HL.now;class GL extends Qc{constructor(e,n=Qc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const zL=new class Zre extends GL{}(class Jre extends jL{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),eie=new GL(jL),DI=new ta("7.6.1"),CI="__angularfire_symbol__analyticsIsSupportedValue",bI="__angularfire_symbol__analyticsIsSupported",TI="__angularfire_symbol__remoteConfigIsSupportedValue",SI="__angularfire_symbol__remoteConfigIsSupported",AI="__angularfire_symbol__messagingIsSupportedValue",MI="__angularfire_symbol__messagingIsSupported";globalThis[bI]||(globalThis[bI]=Kre().then(t=>globalThis[CI]=t).catch(()=>globalThis[CI]=!1)),globalThis[MI]||(globalThis[MI]=xL().then(t=>globalThis[AI]=t).catch(()=>globalThis[AI]=!1)),globalThis[SI]||(globalThis[SI]=_ne().then(t=>globalThis[TI]=t).catch(()=>globalThis[TI]=!1));const kI=(t,e)=>{const n=e?[e]:kF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Pa(){}class qL{constructor(e,n=zL){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class tie{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pa,{},Pa,Pa)),n.pipe(Ht({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let WL=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new qL(Zone.current)),this.insideAngular=n.run(()=>new qL(Zone.current,eie)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(N(Se))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Qs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ys(t){return Qs().ngZone.run(()=>t())}function rie(t){return Qs(),function iie(t){return function(n){return(n=n.lift(new tie(t.ngZone))).pipe(xd(t.outsideAngular),xu(t.insideAngular))}}(Qs())(t)}const sie=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ys(()=>t.apply(void 0,r))},cr=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Ys(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pa,{},Pa,Pa)))),r[s]=sie(r[s],n));const i=function nie(t){return Qs().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Me){const s=Qs();return i.pipe(xd(s.outsideAngular),xu(s.insideAngular))}return Ys(()=>i)}return i instanceof Me?i.pipe(rie):i instanceof Promise?Ys(()=>new Promise((s,o)=>i.then(a=>Ys(()=>s(a)),a=>Ys(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ys(()=>i)};class Oa{constructor(e){return e}}class KL{constructor(){return kF()}}const NI=new A("angularfire2._apps"),aie={provide:Oa,useFactory:function oie(t){return t&&1===t.length?t[0]:new Oa(RF())},deps:[[new mn,NI]]},uie={provide:KL,deps:[[new mn,NI]]};function cie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Oa(r)}}let lie=(()=>{class t{constructor(n){nt("angularfire",DI.full,"core"),nt("angularfire",DI.full,"app"),nt("angular",oR.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(N(Vi))},t.\u0275mod=Zt({type:t}),t.\u0275inj=Lt({providers:[aie,uie]}),t})();function die(t,...e){return{ngModule:lie,providers:[{provide:NI,useFactory:cie(t),multi:!0,deps:[Se,jn,WL,...e]}]}}const hie=cr(xF,!0);const fie=function QL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},YL=new kr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),sp=new Ra("@firebase/auth");function op(t,...e){sp.logLevel<=le.ERROR&&sp.error(`Auth (${qc}): ${t}`,...e)}function In(t,...e){throw PI(t,...e)}function Or(t,...e){return PI(t,...e)}function PI(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return YL.create(t,...e)}function x(t,e,...n){if(!t)throw PI(e,...n)}function Fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw op(e),new Error(e)}function Wi(t,e){t||Fr(e)}function JL(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Xc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=function xZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}()||function kZ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function gie(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function OI(){return"http:"===JL()||"https:"===JL()}()||mw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class ZL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_ie=new Xc(3e4,6e4);function qe(t,e,n,r){return LI.apply(this,arguments)}function LI(){return(LI=m(function*(t,e,n,r,i={}){return eV(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=IF(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),ZL.fetch()(tV(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function eV(t,e,n){return VI.apply(this,arguments)}function VI(){return(VI=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},yie),e);try{const i=new vie(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Jc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Jc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Jc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Jc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function XL(t,e,n){const r=Object.assign(Object.assign({},fie()),{[e]:n});return new kr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);In(t,l)}}catch(i){if(i instanceof ur)throw i;In(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function tV(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function FI(t,e){Wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class vie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Or(this.auth,"network-request-failed")),_ie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Or(t,e,r);return i.customData._tokenResponse=n,i}function BI(){return(BI=m(function*(t,e){return qe(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function jI(){return(jI=m(function*(t,e){return qe(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Zc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function HI(){return(HI=m(function*(t,e=!1){const n=Gt(t),r=yield n.getIdToken(e),i=ap(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Zc(GI(i.auth_time)),issuedAtTime:Zc(GI(i.iat)),expirationTime:Zc(GI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function GI(t){return 1e3*Number(t)}function ap(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return op("JWT malformed, contained fewer than 3 sections"),null;try{const i=zf(n);return i?JSON.parse(i):(op("Failed to decode base64 JWT payload"),null)}catch(i){return op("Caught error parsing JWT payload as JSON",i?.toString()),null}}function _i(t,e){return zI.apply(this,arguments)}function zI(){return(zI=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof ur&&function bie({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Tie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class nV{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function el(t){return qI.apply(this,arguments)}function qI(){return qI=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield _i(t,function Iie(t,e){return jI.apply(this,arguments)}(n,{idToken:r}));x(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Mie(t){return t.map(e=>{var{providerId:n}=e,r=Mm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Aie(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nV(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),qI.apply(this,arguments)}function WI(){return(WI=m(function*(t){const e=Gt(t);yield el(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function KI(){return(KI=m(function*(t,e){const n=yield eV(t,{},m(function*(){const r=IF({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=tV(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ZL.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(typeof e.idToken<"u","internal-error"),x(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Cie(t){const e=ap(t);return x(e,"internal-error"),x(typeof e.exp<"u","internal-error"),x(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return x(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function xie(t,e){return KI.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new tl;return r&&(x("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(x("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(x("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return Fr("not implemented")}}function Ki(t,e){x("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Xs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Mm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nV(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield _i(n,n.stsTokenManager.getToken(n.auth,e));return x(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Die(t){return HI.apply(this,arguments)}(this,e)}reload(){return function Sie(t){return WI.apply(this,arguments)}(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield el(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield _i(e,function wie(t,e){return BI.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:b,emailVerified:F,isAnonymous:V,providerData:K,stsTokenManager:Ye}=n;x(b&&Ye,e,"internal-error");const pr=tl.fromJSON(this.name,Ye);x("string"==typeof b,e,"internal-error"),Ki(d,e.name),Ki(h,e.name),x("boolean"==typeof F,e,"internal-error"),x("boolean"==typeof V,e,"internal-error"),Ki(f,e.name),Ki(p,e.name),Ki(g,e.name),Ki(y,e.name),Ki(w,e.name),Ki(_,e.name);const ys=new Xs({uid:b,auth:e,email:h,emailVerified:F,displayName:d,isAnonymous:V,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:pr,createdAt:w,lastLoginAt:_});return K&&Array.isArray(K)&&(ys.providerData=K.map(mge=>Object.assign({},mge))),y&&(ys._redirectEventId=y),ys}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new tl;i.updateFromServerResponse(n);const s=new Xs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield el(s),s})()}}const rV=new Map;function vi(t){Wi(t instanceof Function,"Expected a class definition");let e=rV.get(t);return e?(Wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rV.set(t,e),e)}const iV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function up(t,e,n){return`firebase:${t}:${e}:${n}`}class La{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=up(this.userKey,i.apiKey,s),this.fullPersistenceKey=up("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Xs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new La(vi(iV),e,r);const i=(yield Promise.all(n.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||vi(iV);const o=up(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Xs._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=m(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new La(s,e,r)):new La(s,e,r)})()}}function sV(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function uV(t=On()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function oV(t=On()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function lV(t=On()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function dV(t=On()){return/webos/i.test(t)}(e))return"Webos";if(function QI(t=On()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function aV(t=On()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function cV(t=On()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function hV(t,e=[]){let n;switch(t){case"Browser":n=sV(On());break;case"Worker":n=`${sV(On())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qc}/${r}`}function fV(t,e){return XI.apply(this,arguments)}function XI(){return(XI=m(function*(t,e){return qe(t,"GET","/v2/recaptchaConfig",function He(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function gV(t){return void 0!==t&&void 0!==t.enterprise}class mV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class _V{constructor(e){this.type="recaptcha-enterprise",this.auth=It(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function s(){return s=m(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=m(function*(c,l){fV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new mV(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;gV(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&gV(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function JI(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Or("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Pie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class Vie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Uie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vV(this),this.idTokenSubscription=new vV(this),this.beforeStateQueue=new Vie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield La.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return x(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield el(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function mie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?Gt(e):null;return r&&x(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&x(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(vi(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield fV(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new mV(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new _V(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&vi(e)||n._popupRedirectResolver;x(r,n,"argument-error"),n.redirectPersistenceManager=yield La.create(n,[vi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return x(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function pie(t,...e){sp.logLevel<=le.WARN&&sp.warn(`Auth (${qc}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function It(t){return Gt(t)}class vV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function FZ(t,e){const n=new LZ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function yV(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Xc(3e4,6e4),new Xc(2e3,1e4),new Xc(3e4,6e4),new Xc(5e3,15e3),encodeURIComponent("fac");var KV="@firebase/auth";class Roe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}qf(),function Noe(t){on(new zt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;x(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hV(t)},c=new Uie(r,i,s,u);return function $ie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),on(new zt("auth-internal",e=>{const n=It(e.getProvider("auth").getImmediate());return new Roe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nt(KV,"0.23.2",function koe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),nt(KV,"0.23.2","esm2017")}("Browser");class JV{constructor(){return kI("auth")}}const BC=new Map,ZV={activated:!1,tokenObservers:[]},Boe={initialized:!1,enabled:!1};function We(t){return BC.get(t)||Object.assign({},ZV)}function Ep(){return Boe}const $C="https://content-firebaseappcheck.googleapis.com/v1",Goe="exchangeDebugToken",e2={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class qoe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new Wf,yield function Woe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Wf,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Rt=new kr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function jC(t){if(!We(t).activated)throw Rt.create("use-before-activation",{appName:t.name})}function Cp(t,e){return GC.apply(this,arguments)}function GC(){return GC=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Rt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Rt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Rt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Rt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),GC.apply(this,arguments)}function t2(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${$C}/projects/${n}/apps/${r}:${Goe}?key=${i}`,body:{debug_token:e}}}const Xoe="firebase-app-check-database",Joe=1,ol="firebase-app-check-store";let bp=null;function zC(){return zC=m(function*(t,e){const r=(yield function r2(){return bp||(bp=new Promise((t,e)=>{try{const n=indexedDB.open(Xoe,Joe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Rt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ol,{keyPath:"compositeKey"})}}catch(n){e(Rt.create("storage-open",{originalErrorMessage:n?.message}))}}),bp)}()).transaction(ol,"readwrite"),s=r.objectStore(ol).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Rt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),zC.apply(this,arguments)}const al=new Ra("@firebase/app-check");function KC(t,e){return $s()?function eae(t,e){return function i2(t,e){return zC.apply(this,arguments)}(function o2(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{al.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function YC(){return Ep().enabled}function XC(){return JC.apply(this,arguments)}function JC(){return JC=m(function*(){const t=Ep();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),JC.apply(this,arguments)}const oae={error:"UNKNOWN_ERROR"};function aae(t){return gw.encodeString(JSON.stringify(t),!1)}function Tp(t){return ZC.apply(this,arguments)}function ZC(){return ZC=m(function*(t,e=!1){const n=t.app;jC(n);const r=We(n);let s,i=r.token;if(i&&!Ua(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Ua(u)?i=u:yield KC(n,void 0))}if(!e&&i&&Ua(i))return{token:i.token};let a,o=!1;if(YC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Cp(t2(n,yield XC()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield KC(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield We(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?al.warn(u.message):al.error(u),s=u}return i?s?a=Ua(i)?{token:i.token,internalError:s}:l2(s):(a={token:i.token},r.token=i,yield KC(n,i)):a=l2(s),o&&function c2(t,e){const n=We(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),ZC.apply(this,arguments)}function eb(){return eb=m(function*(t){const e=t.app;jC(e);const{provider:n}=We(e);if(YC()){const r=yield XC(),{token:i}=yield Cp(t2(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),eb.apply(this,arguments)}function nb(t,e){const n=We(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function u2(t){const{app:e}=t,n=We(e);let r=n.tokenRefresher;r||(r=function uae(t){const{app:e}=t;return new qoe(m(function*(){let r;if(r=We(e).token?yield Tp(t,!0):yield Tp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=We(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},e2.RETRIAL_MIN_WAIT,e2.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Ua(t){return t.expireTimeMillis-Date.now()>0}function l2(t){return{token:aae(oae),error:t}}class cae{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=We(this.app);for(const n of e)nb(this.app,n.next);return Promise.resolve()}}const _2="app-check-internal";!function Dae(){on(new zt("app-check",t=>function lae(t,e){return new cae(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(_2).initialize()})),on(new zt(_2,t=>function dae(t){return{getToken:e=>Tp(t,e),getLimitedUseToken:()=>function a2(t){return eb.apply(this,arguments)}(t),addTokenListener:e=>function tb(t,e,n,r){const{app:i}=t,s=We(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Ua(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),u2(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>u2(t))}(t,"INTERNAL",e),removeTokenListener:e=>nb(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),nt("@firebase/app-check","0.8.0")}();class w2{constructor(){return kI("app-check")}}typeof window<"u"&&window;var P,Aae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lr={},ab=ab||{},X=Aae||self;function Ap(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ul(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ub="closure_uid_"+(1e9*Math.random()>>>0),xae=0;function Rae(t,e,n){return t.call.apply(t.bind,arguments)}function kae(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function qt(t,e,n){return(qt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rae:kae).apply(null,arguments)}function Mp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Dt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Yi(){this.s=this.s,this.o=this.o}Yi.prototype.s=!1,Yi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Mae(t){Object.prototype.hasOwnProperty.call(t,ub)&&t[ub]||(t[ub]=++xae)}(this)},Yi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const E2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function cb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function I2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ap(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Wt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Wt.prototype.h=function(){this.defaultPrevented=!0};var Pae=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{X.addEventListener("test",()=>{},e),X.removeEventListener("test",()=>{},e)}catch{}return t}();function cl(t){return/^[\s\xa0]*$/.test(t)}function xp(){var t=X.navigator;return t&&(t=t.userAgent)?t:""}function Lr(t){return-1!=xp().indexOf(t)}function lb(t){return lb[" "](t),t}lb[" "]=function(){};var hb,Fae=Lr("Opera"),Ba=Lr("Trident")||Lr("MSIE"),D2=Lr("Edge"),db=D2||Ba,C2=Lr("Gecko")&&!(-1!=xp().toLowerCase().indexOf("webkit")&&!Lr("Edge"))&&!(Lr("Trident")||Lr("MSIE"))&&!Lr("Edge"),Lae=-1!=xp().toLowerCase().indexOf("webkit")&&!Lr("Edge");function b2(){var t=X.document;return t?t.documentMode:void 0}e:{var fb="",pb=function(){var t=xp();return C2?/rv:([^\);]+)(\)|;)/.exec(t):D2?/Edge\/([\d\.]+)/.exec(t):Ba?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Lae?/WebKit\/(\S+)/.exec(t):Fae?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(pb&&(fb=pb?pb[1]:""),Ba){var gb=b2();if(null!=gb&&gb>parseFloat(fb)){hb=String(gb);break e}}hb=fb}var Vae=X.document&&Ba&&(b2()||parseInt(hb,10))||void 0;function ll(t,e){if(Wt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(C2){e:{try{lb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Uae[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ll.$.h.call(this)}}Dt(ll,Wt);var Uae={2:"touch",3:"pen",4:"mouse"};ll.prototype.h=function(){ll.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var dl="closure_listenable_"+(1e6*Math.random()|0),Bae=0;function $ae(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Bae,this.fa=this.ia=!1}function Rp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function yb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function S2(t){const e={};for(const n in t)e[n]=t[n];return e}const A2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M2(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<A2.length;s++)n=A2[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kp(t){this.src=t,this.g={},this.h=0}function _b(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=E2(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Rp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function vb(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}kp.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=vb(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new $ae(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var wb="closure_lm_"+(1e6*Math.random()|0),Eb={};function x2(t,e,n,r,i){if(r&&r.once)return k2(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)x2(t,e[s],n,r,i);return null}return n=bb(n),t&&t[dl]?t.O(e,n,ul(r)?!!r.capture:!!r,i):R2(t,e,n,!1,r,i)}function R2(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ul(i)?!!i.capture:!!i,a=Db(t);if(a||(t[wb]=a=new kp(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Hae(){const e=Gae;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Pae||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(P2(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function k2(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)k2(t,e[s],n,r,i);return null}return n=bb(n),t&&t[dl]?t.P(e,n,ul(r)?!!r.capture:!!r,i):R2(t,e,n,!0,r,i)}function N2(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)N2(t,e[s],n,r,i);else r=ul(r)?!!r.capture:!!r,n=bb(n),t&&t[dl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=vb(s=t.g[e],n,r,i))&&(Rp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Db(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vb(e,n,r,i)),(n=-1<t?e[t]:null)&&Ib(n))}function Ib(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[dl])_b(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(P2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Db(e))?(_b(n,t),0==n.h&&(n.src=null,e[wb]=null)):Rp(t)}}}function P2(t){return t in Eb?Eb[t]:Eb[t]="on"+t}function Gae(t,e){if(t.fa)t=!0;else{e=new ll(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Ib(t),t=n.call(r,e)}return t}function Db(t){return(t=t[wb])instanceof kp?t:null}var Cb="__closure_events_fn_"+(1e9*Math.random()>>>0);function bb(t){return"function"==typeof t?t:(t[Cb]||(t[Cb]=function(e){return t.handleEvent(e)}),t[Cb])}function Ct(){Yi.call(this),this.i=new kp(this),this.S=this,this.J=null}function kt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Wt(e,t);else if(e instanceof Wt)e.target=e.target||t;else{var i=e;M2(e=new Wt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Np(o,r,!0,e)&&i}if(i=Np(o=e.g=t,r,!0,e)&&i,i=Np(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Np(o=e.g=n[s],r,!1,e)&&i}function Np(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&_b(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Dt(Ct,Yi),Ct.prototype[dl]=!0,Ct.prototype.removeEventListener=function(t,e,n,r){N2(this,t,e,n,r)},Ct.prototype.N=function(){if(Ct.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rp(n[r]);delete t.g[e],t.h--}}this.J=null},Ct.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ct.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Tb=X.JSON.stringify;function qae(){var t=Sb;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var O2=new class zae{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Kae,t=>t.reset());class Kae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Qae(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Yae(t){X.setTimeout(()=>{throw t},0)}let hl,fl=!1,Sb=new class Wae{constructor(){this.h=this.g=null}add(e,n){const r=O2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},F2=()=>{const t=X.Promise.resolve(void 0);hl=()=>{t.then(Xae)}};var Xae=()=>{for(var t;t=qae();){try{t.h.call(t.g)}catch(n){Yae(n)}var e=O2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}fl=!1};function Pp(t,e){Ct.call(this),this.h=t||1,this.g=e||X,this.j=qt(this.qb,this),this.l=Date.now()}function Ab(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Mb(t,e,n){if("function"==typeof t)n&&(t=qt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=qt(t.handleEvent,t)}return 2147483647<Number(e)?-1:X.setTimeout(t,e||0)}function L2(t){t.g=Mb(()=>{t.g=null,t.i&&(t.i=!1,L2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Dt(Pp,Ct),(P=Pp.prototype).ga=!1,P.T=null,P.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),kt(this,"tick"),this.ga&&(Ab(this),this.start()))}},P.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},P.N=function(){Pp.$.N.call(this),Ab(this),delete this.g};class Jae extends Yi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:L2(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pl(t){Yi.call(this),this.h=t,this.g={}}Dt(pl,Yi);var V2=[];function U2(t,e,n,r){Array.isArray(n)||(n&&(V2[0]=n.toString()),n=V2);for(var i=0;i<n.length;i++){var s=x2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function B2(t){yb(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ib(e)},t),t.g={}}function Op(){this.g=!0}function $a(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function nue(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Tb(n)}catch{return e}}(t,n)+(r?" "+r:"")})}pl.prototype.N=function(){pl.$.N.call(this),B2(this)},pl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Op.prototype.Ea=function(){this.g=!1},Op.prototype.info=function(){};var to={},$2=null;function Fp(){return $2=$2||new Ct}function j2(t){Wt.call(this,to.Ta,t)}function gl(t){const e=Fp();kt(e,new j2(e))}function H2(t,e){Wt.call(this,to.STAT_EVENT,t),this.stat=e}function un(t){const e=Fp();kt(e,new H2(e,t))}function G2(t,e){Wt.call(this,to.Ua,t),this.size=e}function ml(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){t()},e)}to.Ta="serverreachability",Dt(j2,Wt),to.STAT_EVENT="statevent",Dt(H2,Wt),to.Ua="timingevent",Dt(G2,Wt);var Lp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},z2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xb(){}function W2(){}xb.prototype.h=null;var Nb,yl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Rb(){Wt.call(this,"d")}function kb(){Wt.call(this,"c")}function Vp(){}function _l(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new pl(this),this.P=rue,this.V=new Pp(t=db?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new K2}function K2(){this.i=null,this.g="",this.h=!1}Dt(Rb,Wt),Dt(kb,Wt),Dt(Vp,xb),Vp.prototype.g=function(){return new XMLHttpRequest},Vp.prototype.i=function(){return{}},Nb=new Vp;var rue=45e3,Pb={},Up={};function Ob(t,e,n){t.L=1,t.v=Hp(Ei(e)),t.s=n,t.S=!0,Q2(t,null)}function Q2(t,e){t.G=Date.now(),vl(t),t.A=Ei(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),sU(n.i,"t",r),t.C=0,n=t.l.J,t.h=new K2,t.g=MU(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Jae(qt(t.Pa,t,t.g),t.O)),U2(t.U,t.g,"readystatechange",t.nb),e=t.I?S2(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),gl(),function Zae(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function Y2(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function X2(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=iue(t,n),i==Up){4==e&&(t.o=4,un(14),r=!1),$a(t.j,t.m,null,"[Incomplete Response]");break}if(i==Pb){t.o=4,un(15),$a(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}$a(t.j,t.m,i,null),Fb(t,i)}Y2(t)&&i!=Up&&i!=Pb&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,un(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hb(e),e.M=!0,un(11))):($a(t.j,t.m,n,"[Invalid Chunked Response]"),no(t),wl(t))}function iue(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Up:(n=Number(e.substring(n,r)),isNaN(n)?Pb:(r+=1)+n>e.length?Up:(e=e.slice(r,r+n),t.C=r+n,e))}function vl(t){t.Y=Date.now()+t.P,J2(t,t.P)}function J2(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ml(qt(t.lb,t),e)}function Bp(t){t.B&&(X.clearTimeout(t.B),t.B=null)}function wl(t){0==t.l.H||t.J||bU(t.l,t)}function no(t){Bp(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Ab(t.V),B2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Fb(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||Lb(n.i,t)))if(!t.K&&Lb(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Qp(n),Wp(n)}jb(n),un(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ml(qt(n.ib,n),6e3));if(1>=uU(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else io(n,11)}else if((t.K||n.g==t)&&Qp(n),!cl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Vb(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Oe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=AU(r,r.J?r.pa:null,r.Y),o.K){cU(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Bp(a),vl(a)),r.g=o}else DU(r);0<n.j.length&&Kp(n)}else"stop"!=c[0]&&"close"!=c[0]||io(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?io(n,7):$b(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}gl()}catch{}}function Z2(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ap(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function oue(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ap(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function sue(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Ap(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(P=_l.prototype).setTimeout=function(t){this.P=t},P.nb=function(t){t=t.target;const e=this.M;e&&3==Vr(t)?e.l():this.Pa(t)},P.Pa=function(t){try{if(t==this.g)e:{const l=Vr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||db||this.g&&(this.h.h||this.g.ja()||yU(this.g)))){this.J||4!=l||7==e||gl(),Bp(this);var n=this.g.da();this.ca=n;t:if(Y2(this)){var r=yU(this.g);t="";var i=r.length,s=4==Vr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){no(this),wl(this);var o="";break t}this.h.i=new X.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function eue(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cl(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,un(12),no(this),wl(this);break e}$a(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fb(this,n)}this.S?(X2(this,l,o),db&&this.i&&3==l&&(U2(this.U,this.V,"tick",this.mb),this.V.start())):($a(this.j,this.m,o,null),Fb(this,o)),4==l&&no(this),this.i&&!this.J&&(4==l?bU(this.l,this):(this.i=!1,vl(this)))}else(function Cue(t){const e={};t=(t.g&&2<=Vr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(cl(t[r]))continue;var n=Qae(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function jae(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,un(12)):(this.o=0,un(13)),no(this),wl(this)}}}catch{}},P.mb=function(){if(this.g){var t=Vr(this.g),e=this.g.ja();this.C<e.length&&(Bp(this),X2(this,t,e),this.i&&4!=t&&vl(this))}},P.cancel=function(){this.J=!0,no(this)},P.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function tue(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(gl(),un(17)),no(this),this.o=2,wl(this)):J2(this,this.Y-t)};var eU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ro(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ro){this.h=t.h,$p(this,t.j),this.s=t.s,this.g=t.g,jp(this,t.m),this.l=t.l;var e=t.i,n=new Dl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),tU(this,n),this.o=t.o}else t&&(e=String(t).match(eU))?(this.h=!1,$p(this,e[1]||"",!0),this.s=El(e[2]||""),this.g=El(e[3]||"",!0),jp(this,e[4]),this.l=El(e[5]||"",!0),tU(this,e[6]||"",!0),this.o=El(e[7]||"")):(this.h=!1,this.i=new Dl(null,this.h))}function Ei(t){return new ro(t)}function $p(t,e,n){t.j=n?El(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function jp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function tU(t,e,n){e instanceof Dl?(t.i=e,function fue(t,e){e&&!t.j&&(Xi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(rU(this,r),sU(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Il(e,due)),t.i=new Dl(e,t.h))}function Oe(t,e,n){t.i.set(e,n)}function Hp(t){return Oe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function El(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Il(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,uue),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function uue(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ro.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Il(e,nU,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Il(e,nU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Il(n,"/"==n.charAt(0)?lue:cue,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Il(n,hue)),t.join("")};var nU=/[#\/\?@]/g,cue=/[#\?:]/g,lue=/[#\?]/g,due=/[#\?@]/g,hue=/#/g;function Dl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Xi(t){t.g||(t.g=new Map,t.h=0,t.i&&function aue(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function rU(t,e){Xi(t),e=ja(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function iU(t,e){return Xi(t),e=ja(t,e),t.g.has(e)}function sU(t,e,n){rU(t,e),0<n.length&&(t.i=null,t.g.set(ja(t,e),cb(n)),t.h+=n.length)}function ja(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function oU(t){this.l=t||gue,t=X.PerformanceNavigationTiming?0<(t=X.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(P=Dl.prototype).add=function(t,e){Xi(this),this.i=null,t=ja(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},P.forEach=function(t,e){Xi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},P.ta=function(){Xi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},P.Z=function(t){Xi(this);let e=[];if("string"==typeof t)iU(this,t)&&(e=e.concat(this.g.get(ja(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},P.set=function(t,e){return Xi(this),this.i=null,iU(this,t=ja(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},P.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},P.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var gue=10;function aU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function uU(t){return t.h?1:t.g?t.g.size:0}function Lb(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Vb(t,e){t.g?t.g.add(e):t.h=e}function cU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function lU(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return cb(t.i)}oU.prototype.cancel=function(){if(this.i=lU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var mue=class{stringify(t){return X.JSON.stringify(t,void 0)}parse(t){return X.JSON.parse(t,void 0)}};function yue(){this.g=new mue}function _ue(t,e,n){const r=n||"";try{Z2(t,function(i,s){let o=i;ul(i)&&(o=Tb(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Gp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Cl(t){this.l=t.fc||null,this.j=t.ob||!1}function zp(t,e){Ct.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ub,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dt(Cl,xb),Cl.prototype.g=function(){return new zp(this.l,this.j)},Cl.prototype.i=function(t){return function(){return t}}({}),Dt(zp,Ct);var Ub=0;function dU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function bl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Tl(t)}function Tl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(P=zp.prototype).open=function(t,e){if(this.readyState!=Ub)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Tl(this)},P.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||X).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bl(this)),this.readyState=Ub},P.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Tl(this)),this.g&&(this.readyState=3,Tl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},P.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?bl(this):Tl(this),3==this.readyState&&dU(this)}},P.Za=function(t){this.g&&(this.response=this.responseText=t,bl(this))},P.Ya=function(t){this.g&&(this.response=t,bl(this))},P.ka=function(){this.g&&bl(this)},P.setRequestHeader=function(t,e){this.v.append(t,e)},P.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},P.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(zp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var wue=X.JSON.parse;function Ke(t){Ct.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=hU,this.L=this.M=!1}Dt(Ke,Ct);var hU="",Eue=/^https?$/i,Iue=["POST","PUT"];function fU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,pU(t),qp(t)}function pU(t){t.F||(t.F=!0,kt(t,"complete"),kt(t,"error"))}function gU(t){if(t.h&&typeof ab<"u"&&(!t.C[1]||4!=Vr(t)||2!=t.da()))if(t.v&&4==Vr(t))Mb(t.La,0,t);else if(kt(t,"readystatechange"),4==Vr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(eU)[1]||null;!i&&X.self&&X.self.location&&(i=X.self.location.protocol.slice(0,-1)),r=!Eue.test(i?i.toLowerCase():"")}n=r}if(n)kt(t,"complete"),kt(t,"success");else{t.m=6;try{var s=2<Vr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",pU(t)}}finally{qp(t)}}}function qp(t,e){if(t.g){mU(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||kt(t,"ready");try{n.onreadystatechange=r}catch{}}}function mU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(X.clearTimeout(t.A),t.A=null)}function Vr(t){return t.g?t.g.readyState:0}function yU(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case hU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function _U(t){let e="";return yb(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function Bb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_U(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Oe(t,e,n))}function Sl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function vU(t){this.Ga=0,this.j=[],this.l=new Op,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Sl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Sl("baseRetryDelayMs",5e3,t),this.hb=Sl("retryDelaySeedMs",1e4,t),this.eb=Sl("forwardChannelMaxRetries",2,t),this.xa=Sl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new oU(t&&t.concurrentRequestLimit),this.Ja=new yue,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function $b(t){if(wU(t),3==t.H){var e=t.W++,n=Ei(t.I);if(Oe(n,"SID",t.K),Oe(n,"RID",e),Oe(n,"TYPE","terminate"),Al(t,n),(e=new _l(t,t.l,e)).L=2,e.v=Hp(Ei(n)),n=!1,X.navigator&&X.navigator.sendBeacon)try{n=X.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&X.Image&&((new Image).src=e.v,n=!0),n||(e.g=MU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),vl(e)}SU(t)}function Wp(t){t.g&&(Hb(t),t.g.cancel(),t.g=null)}function wU(t){Wp(t),t.u&&(X.clearTimeout(t.u),t.u=null),Qp(t),t.i.cancel(),t.m&&("number"==typeof t.m&&X.clearTimeout(t.m),t.m=null)}function Kp(t){if(!aU(t.i)&&!t.m){t.m=!0;var e=t.Na;hl||F2(),fl||(hl(),fl=!0),Sb.add(e,t),t.C=0}}function EU(t,e){var n;n=e?e.m:t.W++;const r=Ei(t.I);Oe(r,"SID",t.K),Oe(r,"RID",n),Oe(r,"AID",t.V),Al(t,r),t.o&&t.s&&Bb(r,t.o,t.s),n=new _l(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=IU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Vb(t.i,n),Ob(n,r,e)}function Al(t,e){t.na&&yb(t.na,function(n,r){Oe(e,r,n)}),t.h&&Z2({},function(n,r){Oe(e,r,n)})}function IU(t,e,n){n=Math.min(t.j.length,n);var r=t.h?qt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{_ue(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function DU(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;hl||F2(),fl||(hl(),fl=!0),Sb.add(e,t),t.A=0}}function jb(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=ml(qt(t.Ma,t),TU(t,t.A)),t.A++,0))}function Hb(t){null!=t.B&&(X.clearTimeout(t.B),t.B=null)}function CU(t){t.g=new _l(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ei(t.wa);Oe(e,"RID","rpc"),Oe(e,"SID",t.K),Oe(e,"AID",t.V),Oe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Oe(e,"TO",t.qa),Oe(e,"TYPE","xmlhttp"),Al(t,e),t.o&&t.s&&Bb(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Hp(Ei(e)),n.s=null,n.S=!0,Q2(n,t)}function Qp(t){null!=t.v&&(X.clearTimeout(t.v),t.v=null)}function bU(t,e){var n=null;if(t.g==e){Qp(t),Hb(t),t.g=null;var r=2}else{if(!Lb(t.i,e))return;n=e.F,cU(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;kt(r=Fp(),new G2(r,n)),Kp(t)}else DU(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function bue(t,e){return!(uU(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=ml(qt(t.Na,t,e),TU(t,t.C)),t.C++,0)))}(t,e)||2==r&&jb(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:io(t,5);break;case 4:io(t,10);break;case 3:io(t,6);break;default:io(t,2)}}function TU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function io(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=qt(t.pb,t);n||(n=new ro("//www.google.com/images/cleardot.gif"),X.location&&"http"==X.location.protocol||$p(n,"https"),Hp(n)),function vue(t,e){const n=new Op;if(X.Image){const r=new Image;r.onload=Mp(Gp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Mp(Gp,n,r,"TestLoadImage: error",!1,e),r.onabort=Mp(Gp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Mp(Gp,n,r,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else un(2);t.H=0,t.h&&t.h.za(e),SU(t),wU(t)}function SU(t){if(t.H=0,t.ma=[],t.h){const e=lU(t.i);(0!=e.length||0!=t.j.length)&&(I2(t.ma,e),I2(t.ma,t.j),t.i.i.length=0,cb(t.j),t.j.length=0),t.h.ya()}}function AU(t,e,n){var r=n instanceof ro?Ei(n):new ro(n);if(""!=r.g)e&&(r.g=e+"."+r.g),jp(r,r.m);else{var i=X.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ro(null);r&&$p(s,r),e&&(s.g=e),i&&jp(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Oe(r,n,e),Oe(r,"VER",t.ra),Al(t,r),r}function MU(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ke(n&&t.Ha&&!t.va?new Cl({ob:!0}):t.va)).Oa(t.J),e}function xU(){}function Yp(){if(Ba&&!(10<=Number(Vae)))throw Error("Environmental error: no available transport.")}function Fn(t,e){Ct.call(this),this.g=new vU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!cl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cl(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ha(this)}function RU(t){Rb.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function kU(){kb.call(this),this.status=1}function Ha(t){this.g=t}function dr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Gb(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ie(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(P=Ke.prototype).Oa=function(t){this.M=t},P.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Nb.g(),this.C=function q2(t){return t.h||(t.h=t.i())}(this.u?this.u:Nb),this.g.onreadystatechange=qt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void fU(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=X.FormData&&t instanceof X.FormData,!(0<=E2(Iue,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{mU(this),0<this.B&&((this.L=function Due(t){return Ba&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qt(this.ua,this)):this.A=Mb(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){fU(this,s)}},P.ua=function(){typeof ab<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kt(this,"timeout"),this.abort(8))},P.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,kt(this,"complete"),kt(this,"abort"),qp(this))},P.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qp(this,!0)),Ke.$.N.call(this)},P.La=function(){this.s||(this.G||this.v||this.l?gU(this):this.kb())},P.kb=function(){gU(this)},P.isActive=function(){return!!this.g},P.da=function(){try{return 2<Vr(this)?this.g.status:-1}catch{return-1}},P.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},P.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),wue(e)}},P.Ia=function(){return this.m},P.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(P=vU.prototype).ra=8,P.H=1,P.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new _l(this,this.l,t);let s=this.s;if(this.U&&(s?(s=S2(s),M2(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=IU(this,i,e),Oe(n=Ei(this.I),"RID",t),Oe(n,"CVER",22),this.F&&Oe(n,"X-HTTP-Session-Id",this.F),Al(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(_U(s)))+"&"+e:this.o&&Bb(n,this.o,s)),Vb(this.i,i),this.bb&&Oe(n,"TYPE","init"),this.P?(Oe(n,"$req",e),Oe(n,"SID","null"),i.aa=!0,Ob(i,n,null)):Ob(i,n,e),this.H=2}}else 3==this.H&&(t?EU(this,t):0==this.j.length||aU(this.i)||EU(this))},P.Ma=function(){if(this.u=null,CU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ml(qt(this.jb,this),t)}},P.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,un(10),Wp(this),CU(this))},P.ib=function(){null!=this.v&&(this.v=null,Wp(this),jb(this),un(19))},P.pb=function(t){t?(this.l.info("Successfully pinged google.com"),un(2)):(this.l.info("Failed to ping google.com"),un(1))},P.isActive=function(){return!!this.h&&this.h.isActive(this)},(P=xU.prototype).Ba=function(){},P.Aa=function(){},P.za=function(){},P.ya=function(){},P.isActive=function(){return!0},P.Va=function(){},Yp.prototype.g=function(t,e){return new Fn(t,e)},Dt(Fn,Ct),Fn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;un(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=AU(t,null,t.Y),Kp(t)},Fn.prototype.close=function(){$b(this.g)},Fn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Tb(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Kp(e)},Fn.prototype.N=function(){this.g.h=null,delete this.j,$b(this.g),delete this.g,Fn.$.N.call(this)},Dt(RU,Rb),Dt(kU,kb),Dt(Ha,xU),Ha.prototype.Ba=function(){kt(this.g,"a")},Ha.prototype.Aa=function(t){kt(this.g,new RU(t))},Ha.prototype.za=function(t){kt(this.g,new kU)},Ha.prototype.ya=function(){kt(this.g,"b")},Dt(dr,function Tue(){this.blockSize=-1}),dr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},dr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)Gb(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Gb(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Gb(this,r),i=0;break}}this.h=i,this.i+=e},dr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Sue={};function zb(t){return-128<=t&&128>t?function Oae(t,e){var n=Sue;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ie([0|e],0>e?-1:0)}):new Ie([0|t],0>t?-1:0)}function Ur(t){if(isNaN(t)||!isFinite(t))return Ga;if(0>t)return Nt(Ur(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=qb;return new Ie(e,0)}var qb=4294967296,Ga=zb(0),Wb=zb(1),PU=zb(16777216);function Ii(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Qn(t){return-1==t.h}function Nt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ie(n,~t.h).add(Wb)}function Xp(t,e){return t.add(Nt(e))}function Jp(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ml(t,e){this.g=t,this.h=e}function Zp(t,e){if(Ii(e))throw Error("division by zero");if(Ii(t))return new Ml(Ga,Ga);if(Qn(t))return e=Zp(Nt(t),e),new Ml(Nt(e.g),Nt(e.h));if(Qn(e))return e=Zp(t,Nt(e)),new Ml(Nt(e.g),e.h);if(30<t.g.length){if(Qn(t)||Qn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Wb,r=e;0>=r.X(t);)n=OU(n),r=OU(r);var i=za(n,1),s=za(r,1);for(r=za(r,2),n=za(n,2);!Ii(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=za(r,1),n=za(n,1)}return e=Xp(t,i.R(e)),new Ml(i,e)}for(i=Ga;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Ur(n)).R(e);Qn(o)||0<o.X(t);)o=(s=Ur(n-=r)).R(e);Ii(s)&&(s=Wb),i=i.add(s),t=Xp(t,o)}return new Ml(i,t)}function OU(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ie(n,t.h)}function za(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ie(i,t.h)}(P=Ie.prototype).ea=function(){if(Qn(this))return-Nt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:qb+r)*e,e*=qb}return t},P.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Ii(this))return"0";if(Qn(this))return"-"+Nt(this).toString(t);for(var e=Ur(Math.pow(t,6)),n=this,r="";;){var i=Zp(n,e).g,s=((0<(n=Xp(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Ii(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},P.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},P.X=function(t){return Qn(t=Xp(this,t))?-1:Ii(t)?0:1},P.abs=function(){return Qn(this)?Nt(this):this},P.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ie(n,-2147483648&n[n.length-1]?-1:0)},P.R=function(t){if(Ii(this)||Ii(t))return Ga;if(Qn(this))return Qn(t)?Nt(this).R(Nt(t)):Nt(Nt(this).R(t));if(Qn(t))return Nt(this.R(Nt(t)));if(0>this.X(PU)&&0>t.X(PU))return Ur(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Jp(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Jp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Jp(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Jp(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ie(n,0)},P.gb=function(t){return Zp(this,t).h},P.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ie(n,this.h&t.h)},P.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ie(n,this.h|t.h)},P.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ie(n,this.h^t.h)},Yp.prototype.createWebChannel=Yp.prototype.g,Fn.prototype.send=Fn.prototype.u,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,Lp.NO_ERROR=0,Lp.TIMEOUT=8,Lp.HTTP_ERROR=6,z2.COMPLETE="complete",W2.EventType=yl,yl.OPEN="a",yl.CLOSE="b",yl.ERROR="c",yl.MESSAGE="d",Ct.prototype.listen=Ct.prototype.O,Ke.prototype.listenOnce=Ke.prototype.P,Ke.prototype.getLastError=Ke.prototype.Sa,Ke.prototype.getLastErrorCode=Ke.prototype.Ia,Ke.prototype.getStatus=Ke.prototype.da,Ke.prototype.getResponseJson=Ke.prototype.Wa,Ke.prototype.getResponseText=Ke.prototype.ja,Ke.prototype.send=Ke.prototype.ha,Ke.prototype.setWithCredentials=Ke.prototype.Oa,dr.prototype.digest=dr.prototype.l,dr.prototype.reset=dr.prototype.reset,dr.prototype.update=dr.prototype.j,Ie.prototype.add=Ie.prototype.add,Ie.prototype.multiply=Ie.prototype.R,Ie.prototype.modulo=Ie.prototype.gb,Ie.prototype.compare=Ie.prototype.X,Ie.prototype.toNumber=Ie.prototype.ea,Ie.prototype.toString=Ie.prototype.toString,Ie.prototype.getBits=Ie.prototype.D,Ie.fromNumber=Ur,Ie.fromString=function NU(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Nt(NU(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ur(Math.pow(e,8)),r=Ga,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Ur(Math.pow(e,s)),r=r.R(s).add(Ur(o))):r=(r=r.R(n)).add(Ur(o))}return r};var Aue=lr.createWebChannelTransport=function(){return new Yp},Mue=lr.getStatEventTarget=function(){return Fp()},Kb=lr.ErrorCode=Lp,xue=lr.EventType=z2,Rue=lr.Event=to,FU=lr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},kue=lr.FetchXmlHttpFactory=Cl,eg=lr.WebChannel=W2,Nue=lr.XhrIo=Ke,Pue=lr.Md5=dr,qa=lr.Integer=Ie;const LU="@firebase/firestore";class bt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");let Wa="9.23.0";const Ji=new Ra("@firebase/firestore");function Qb(){return Ji.logLevel}function T(t,...e){if(Ji.logLevel<=le.DEBUG){const n=e.map(Yb);Ji.debug(`Firestore (${Wa}): ${t}`,...n)}}function rt(t,...e){if(Ji.logLevel<=le.ERROR){const n=e.map(Yb);Ji.error(`Firestore (${Wa}): ${t}`,...n)}}function hr(t,...e){if(Ji.logLevel<=le.WARN){const n=e.map(Yb);Ji.warn(`Firestore (${Wa}): ${t}`,...n)}}function Yb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function L(t="Unexpected state"){const e=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: `+t;throw rt(e),new Error(e)}function U(t,e){t||L()}function k(t,e){return t}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class VU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Oue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}}class Fue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Lue{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new mt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new VU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new bt(e)}}class Vue{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Uue{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Vue(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bue{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U("string"==typeof n.token),this.T=n.token,new UU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function $ue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class BU{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=$ue(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function W(t,e){return t<e?-1:t>e?1:0}function Ka(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ge{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ge(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?W(this.nanoseconds,e.nanoseconds):W(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class B{constructor(e){this.timestamp=e}static fromTimestamp(e){return new B(e)}static min(){return new B(new Ge(0,0))}static max(){return new B(new Ge(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class xl{constructor(e,n,r){void 0===n?n=0:n>e.length&&L(),void 0===r?r=e.length-n:r>e.length-n&&L(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===xl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ue extends xl{construct(e,n,r){return new ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ue(n)}static emptyPath(){return new ue([])}}const jue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends xl{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return jue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new it(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}class R{constructor(e){this.path=e}static fromPath(e){return new R(ue.fromString(e))}static fromName(e){return new R(ue.fromString(e).popFirst(5))}static empty(){return new R(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ue.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new R(new ue(e.slice()))}}function HU(t){return new Ln(t.readTime,t.key,-1)}class Ln{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ln(B.min(),R.empty(),-1)}static max(){return new Ln(B.max(),R.empty(),-1)}}function Jb(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=R.comparator(t.documentKey,e.documentKey),0!==n?n:W(t.largestBatchId,e.largestBatchId))}const GU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Zi(t){return Zb.apply(this,arguments)}function Zb(){return Zb=m(function*(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==GU)throw t;T("LocalStore","Unexpectedly lost primary lease")}),Zb.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function es(t){return"IndexedDbTransactionError"===t.name}let Vn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Nl(t){return null==t}function Pl(t){return 0===t&&1/t==-1/0}function ZU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ts(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ne{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sg(this.root,e,this.comparator,!1)}getReverseIterator(){return new sg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sg(this.root,e,this.comparator,!0)}}class sg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=i??Pt.EMPTY,this.right=s??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();const e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1,Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Pt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tB(this.data.getIterator())}getIteratorFrom(e){return new tB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Fe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fe(this.comparator);return n.data=e,n}}class tB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dn{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new Fe(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ka(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class nB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new nB("Invalid base64 string: "+i):i}}(e);return new yt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return W(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const pce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(t){if(U(!!t),"string"==typeof t){let e=0;const n=pce.exec(t);if(U(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Di(t){return"string"==typeof t?yt.fromBase64String(t):yt.fromUint8Array(t)}function og(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ag(t){const e=t.mapValue.fields.__previous_value__;return og(e)?ag(e):e}function Ol(t){const e=ns(t.mapValue.fields.__local_write_time__.timestampValue);return new Ge(e.seconds,e.nanos)}class gce{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class ao{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ao("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ao&&e.projectId===this.projectId&&e.database===this.database}}const rs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?og(t)?4:oB(t)?9007199254740991:10:L()}function $r(t,e){if(t===e)return!0;const n=is(t);if(n!==is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ol(t).isEqual(Ol(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ns(r.timestampValue),o=ns(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Di(t.bytesValue).isEqual(Di(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Qe(r.geoPointValue.latitude)===Qe(i.geoPointValue.latitude)&&Qe(r.geoPointValue.longitude)===Qe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Qe(r.integerValue)===Qe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Qe(r.doubleValue),o=Qe(i.doubleValue);return s===o?Pl(s)===Pl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ka(t.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(ZU(s)!==ZU(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!$r(s[a],o[a])))return!1;return!0}(t,e);default:return L()}var i}function Fl(t,e){return void 0!==(t.values||[]).find(n=>$r(n,e))}function ss(t,e){if(t===e)return 0;const n=is(t),r=is(e);if(n!==r)return W(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return W(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Qe(i.integerValue||i.doubleValue),a=Qe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return rB(t.timestampValue,e.timestampValue);case 4:return rB(Ol(t),Ol(e));case 5:return W(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Di(i),a=Di(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=W(o[u],a[u]);if(0!==c)return c}return W(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=W(Qe(i.latitude),Qe(s.latitude));return 0!==o?o:W(Qe(i.longitude),Qe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=ss(o[u],a[u]);if(c)return c}return W(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===rs.mapValue&&s===rs.mapValue)return 0;if(i===rs.mapValue)return 1;if(s===rs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=W(a[l],c[l]);if(0!==d)return d;const h=ss(o[a[l]],u[c[l]]);if(0!==h)return h}return W(a.length,c.length)}(t.mapValue,e.mapValue);default:throw L()}}function rB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return W(t,e);const n=ns(t),r=ns(e),i=W(n.seconds,r.seconds);return 0!==i?i:W(n.nanos,r.nanos)}function Ya(t){return nT(t)}function nT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ns(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Di(t.bytesValue).toBase64():"referenceValue"in t?R.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=nT(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${nT(r.fields[a])}`;return s+"}"}(t.mapValue):L();var e}function uo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rT(t){return!!t&&"integerValue"in t}function Ll(t){return!!t&&"arrayValue"in t}function iB(t){return!!t&&"nullValue"in t}function sB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lg(t){return!!t&&"mapValue"in t}function Vl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ts(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ot{constructor(e){this.value=e}static empty(){return new Ot({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(n)}setAll(e){let n=it.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Vl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());lg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];lg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ts(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ot(Vl(this.value))}}function cB(t){const e=[];return ts(t.fields,(n,r)=>{const i=new it([n]);if(lg(r)){const s=cB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Dn(e)}class Le{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Le(e,0,B.min(),B.min(),B.min(),Ot.empty(),0)}static newFoundDocument(e,n,r,i){return new Le(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new Le(e,2,n,B.min(),B.min(),Ot.empty(),0)}static newUnknownDocument(e,n){return new Le(e,3,n,B.min(),B.min(),Ot.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Le&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Le(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class os{constructor(e,n){this.position=e,this.inclusive=n}}function lB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?R.comparator(R.fromName(o.referenceValue),n.key):ss(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function dB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$r(t.position[n],e.position[n]))return!1;return!0}class Xa{constructor(e,n="asc"){this.field=e,this.dir=n}}function _ce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class hB{}class se extends hB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new vce(e,n,r):"array-contains"===n?new Ice(e,r):"in"===n?new _B(e,r):"not-in"===n?new Dce(e,r):"array-contains-any"===n?new Cce(e,r):new se(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new wce(e,r):new Ece(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ss(n,this.value)):null!==n&&is(this.value)===is(n)&&this.matchesComparison(ss(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return L()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class De extends hB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new De(e,n)}matches(e){return Ja(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Ja(t){return"and"===t.op}function sT(t){return function fB(t){for(const e of t.filters)if(e instanceof De)return!1;return!0}(t)&&Ja(t)}function oT(t){if(t instanceof se)return t.field.canonicalString()+t.op.toString()+Ya(t.value);if(sT(t))return t.filters.map(e=>oT(e)).join(",");{const e=t.filters.map(n=>oT(n)).join(",");return`${t.op}(${e})`}}function pB(t,e){return t instanceof se?(n=t,(r=e)instanceof se&&n.op===r.op&&n.field.isEqual(r.field)&&$r(n.value,r.value)):t instanceof De?function(n,r){return r instanceof De&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&pB(s,r.filters[o]),!0)}(t,e):void L();var n,r}function mB(t){return t instanceof se?function(e){return`${e.field.canonicalString()} ${e.op} ${Ya(e.value)}`}(t):t instanceof De?function(e){return e.op.toString()+" {"+e.getFilters().map(mB).join(" ,")+"}"}(t):"Filter"}class vce extends se{constructor(e,n,r){super(e,n,r),this.key=R.fromName(r.referenceValue)}matches(e){const n=R.comparator(e.key,this.key);return this.matchesComparison(n)}}class wce extends se{constructor(e,n){super(e,"in",n),this.keys=yB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ece extends se{constructor(e,n){super(e,"not-in",n),this.keys=yB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>R.fromName(r.referenceValue))}class Ice extends se{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ll(n)&&Fl(n.arrayValue,this.value)}}class _B extends se{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Fl(this.value.arrayValue,n)}}class Dce extends se{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Fl(this.value.arrayValue,n)}}class Cce extends se{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ll(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fl(this.value.arrayValue,r))}}class bce{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function aT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new bce(t,e,n,r,i,s,o)}function co(t){const e=k(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>oT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Nl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ya(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ya(r)).join(",")),e.dt=n}return e.dt}function Ul(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_ce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dB(t.startAt,e.startAt)&&dB(t.endAt,e.endAt)}function dg(t){return R.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ci{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function Za(t){return new Ci(t)}function IB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function uT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function fg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function cT(t){return null!==t.collectionGroup}function lo(t){const e=k(t);if(null===e.wt){e.wt=[];const n=fg(e),r=uT(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Xa(n)),e.wt.push(new Xa(it.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Xa(it.keyField(),s))}}}return e.wt}function cn(t){const e=k(t);if(!e._t)if("F"===e.limitType)e._t=aT(e.path,e.collectionGroup,lo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of lo(e))n.push(new Xa(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new os(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new os(e.startAt.position,e.startAt.inclusive):null;e._t=aT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function lT(t,e){e.getFirstInequalityField(),fg(t);const n=t.filters.concat([e]);return new Ci(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pg(t,e,n){return new Ci(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bl(t,e){return Ul(cn(t),cn(e))&&t.limitType===e.limitType}function DB(t){return`${co(cn(t))}|lt:${t.limitType}`}function dT(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>mB(r)).join(", ")}]`),Nl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ya(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ya(r)).join(",")),`Target(${n})`}(cn(t))}; limitType=${t.limitType})`}function $l(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):R.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of lo(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=lB(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,lo(n),r)||n.endAt&&!function(i,s,o){const a=lB(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,lo(n),r)));var n,r}function bB(t){return(e,n)=>{let r=!1;for(const i of lo(t)){const s=Tce(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Tce(t,e,n){const r=t.field.isKeyField()?R.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?ss(a,u):L()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return L()}}class bi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ts(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return eB(this.inner)}size(){return this.innerSize}}const Sce=new Ne(R.comparator);function Cn(){return Sce}const TB=new Ne(R.comparator);function jl(...t){let e=TB;for(const n of t)e=e.insert(n.key,n);return e}function SB(t){let e=TB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function jr(){return Hl()}function AB(){return Hl()}function Hl(){return new bi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ace=new Ne(R.comparator),Mce=new Fe(R.comparator);function ne(...t){let e=Mce;for(const n of t)e=e.add(n);return e}const xce=new Fe(W);function MB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pl(e)?"-0":e}}function xB(t){return{integerValue:""+t}}function RB(t,e){return function qU(t){return"number"==typeof t&&Number.isInteger(t)&&!Pl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?xB(e):MB(t,e)}class gg{constructor(){this._=void 0}}function Rce(t,e,n){return t instanceof eu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&og(i)&&(i=ag(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ho?NB(t,e):t instanceof fo?PB(t,e):function(r,i){const s=kB(r,i),o=OB(s)+OB(r.gt);return rT(s)&&rT(r.gt)?xB(o):MB(r.serializer,o)}(t,e)}function kce(t,e,n){return t instanceof ho?NB(t,e):t instanceof fo?PB(t,e):n}function kB(t,e){return t instanceof tu?rT(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class eu extends gg{}class ho extends gg{constructor(e){super(),this.elements=e}}function NB(t,e){const n=FB(e);for(const r of t.elements)n.some(i=>$r(i,r))||n.push(r);return{arrayValue:{values:n}}}class fo extends gg{constructor(e){super(),this.elements=e}}function PB(t,e){let n=FB(e);for(const r of t.elements)n=n.filter(i=>!$r(i,r));return{arrayValue:{values:n}}}class tu extends gg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function OB(t){return Qe(t.integerValue||t.doubleValue)}function FB(t){return Ll(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Pce{constructor(e,n){this.version=e,this.transformResults=n}}class Be{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Be}static exists(e){return new Be(void 0,e)}static updateTime(e){return new Be(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class yg{}function LB(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ru(t.key,Be.none()):new nu(t.key,t.data,Be.none());{const n=t.data,r=Ot.empty();let i=new Fe(it.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ti(t.key,r,new Dn(i.toArray()),Be.none())}}function Oce(t,e,n){t instanceof nu?function(r,i,s){const o=r.value.clone(),a=BB(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ti?function(r,i,s){if(!mg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=BB(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(UB(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function zl(t,e,n,r){return t instanceof nu?function(i,s,o,a){if(!mg(i.precondition,s))return o;const u=i.value.clone(),c=$B(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ti?function(i,s,o,a){if(!mg(i.precondition,s))return o;const u=$B(i.fieldTransforms,a,s),c=s.data;return c.setAll(UB(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,mg(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Fce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=kB(r.transform,i||null);null!=s&&(null===n&&(n=Ot.empty()),n.set(r.field,s))}return n||null}function VB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Ka(n,r,(i,s)=>function Nce(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof ho&&r instanceof ho||n instanceof fo&&r instanceof fo?Ka(n.elements,r.elements,$r):n instanceof tu&&r instanceof tu?$r(n.gt,r.gt):n instanceof eu&&r instanceof eu);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class nu extends yg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ti extends yg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function UB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function BB(t,e,n){const r=new Map;U(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,kce(o,a,n[i]))}return r}function $B(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Rce(s,o,e))}return r}class ru extends yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fT extends yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Oce(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=LB(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&Ka(this.mutations,e.mutations,(n,r)=>VB(n,r))&&Ka(this.baseMutations,e.baseMutations,(n,r)=>VB(n,r))}}class gT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){U(e.mutations.length===r.length);let i=Ace;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new gT(e,n,r,i)}}class mT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Vce{constructor(e,n){this.count=e,this.unchangedNames=n}}var ct,ce;function HB(t){if(void 0===t)return rt("GRPC error has no .code"),E.UNKNOWN;switch(t){case ct.OK:return E.OK;case ct.CANCELLED:return E.CANCELLED;case ct.UNKNOWN:return E.UNKNOWN;case ct.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case ct.INTERNAL:return E.INTERNAL;case ct.UNAVAILABLE:return E.UNAVAILABLE;case ct.UNAUTHENTICATED:return E.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case ct.NOT_FOUND:return E.NOT_FOUND;case ct.ALREADY_EXISTS:return E.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return E.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case ct.ABORTED:return E.ABORTED;case ct.OUT_OF_RANGE:return E.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return E.UNIMPLEMENTED;case ct.DATA_LOSS:return E.DATA_LOSS;default:return L()}}(ce=ct||(ct={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";class yT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return _g}static getOrCreateInstance(){return null===_g&&(_g=new yT),_g}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let _g=null;const Uce=new qa([4294967295,4294967295],0);function zB(t){const e=function GB(){return new TextEncoder}().encode(t),n=new Pue;return n.update(e),new Uint8Array(n.digest())}function qB(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qa([n,r],0),new qa([i,s],0)]}class _T{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(r<0)throw new ql(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new ql(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=qa.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(qa.fromNumber(r)));return 1===i.compare(Uce)&&(i=new qa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=zB(e),[r,i]=qB(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new _T(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=zB(e),[r,i]=qB(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wl(B.min(),i,new Ne(W),Cn(),ne())}}class Kl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kl(r,n,ne(),ne(),ne())}}class vg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class WB{constructor(e,n){this.targetId=e,this.Vt=n}}class KB{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class QB{constructor(){this.St=0,this.Dt=XB(),this.Ct=yt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ne(),n=ne(),r=ne();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:L()}}),new Kl(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=XB()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Bce{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Cn(),this.zt=YB(),this.Wt=new Ne(W)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:L()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(dg(o))if(0===i){const a=new R(o.path);this.Yt(r,a,Le.newNoDocument(a,B.min()))}else U(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=yT.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,y,w;const _={localCacheCount:l,existenceFilterCount:d.count},b=d.unchangedNames;return b&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=b?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=b?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(w=null===(y=b?.bits)||void 0===y?void 0:y.padding)&&void 0!==w?w:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Di(s).toUint8Array()}catch(l){if(l instanceof nB)return hr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new _T(u,o,a)}catch(l){return hr(l instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&dg(a.target)){const u=new R(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Le.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ne();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Wl(e,n,this.Wt,this.jt,r);return this.jt=Cn(),this.zt=YB(),this.Wt=new Ne(W),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new QB,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Fe(W),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||T("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new QB),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function YB(){return new Ne(R.comparator)}function XB(){return new Ne(R.comparator)}const $ce={asc:"ASCENDING",desc:"DESCENDING"},jce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hce={and:"AND",or:"OR"};class Gce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vT(t,e){return t.useProto3Json||Nl(e)?e:{value:e}}function iu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zce(t,e){return iu(t,e.toTimestamp())}function st(t){return U(!!t),B.fromTimestamp(function(e){const n=ns(e);return new Ge(n.seconds,n.nanos)}(t))}function wT(t,e){return(n=t,new ue(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function ZB(t){const e=ue.fromString(t);return U(u$(e)),e}function Ql(t,e){return wT(t.databaseId,e.path)}function Hr(t,e){const n=ZB(e);if(n.get(1)!==t.databaseId.projectId)throw new D(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new R(t$(n))}function ET(t,e){return wT(t.databaseId,e)}function Yl(t){return new ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function t$(t){return U(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function n$(t,e,n){return{name:Ql(t,e),fields:n.value.mapValue.fields}}function i$(t,e){return{documents:[ET(t,e.path)]}}function DT(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ET(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ET(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return a$(De.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:as((l=c).field),direction:Yce(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=vT(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function s$(t){let e=function e$(t){const e=ZB(t);return 4===e.length?ue.emptyPath():t$(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){U(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=o$(l);return d instanceof De&&sT(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Xa(su((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Nl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new os((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new os(l.values||[],!l.before)}(n.endAt)),function EB(t,e,n,r,i,s,o,a){return new Ci(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function o$(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=su(e.unaryFilter.field);return se.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=su(e.unaryFilter.field);return se.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=su(e.unaryFilter.field);return se.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=su(e.unaryFilter.field);return se.create(s,"!=",{nullValue:"NULL_VALUE"});default:return L()}}(t):void 0!==t.fieldFilter?function(e){return se.create(su(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return De.create(e.compositeFilter.filters.map(n=>o$(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return L()}}(e.compositeFilter.op))}(t):L()}function Yce(t){return $ce[t]}function Xce(t){return jce[t]}function Jce(t){return Hce[t]}function as(t){return{fieldPath:t.canonicalString()}}function su(t){return it.fromServerFormat(t.fieldPath)}function a$(t){return t instanceof se?function(e){if("=="===e.op){if(sB(e.value))return{unaryFilter:{field:as(e.field),op:"IS_NAN"}};if(iB(e.value))return{unaryFilter:{field:as(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(sB(e.value))return{unaryFilter:{field:as(e.field),op:"IS_NOT_NAN"}};if(iB(e.value))return{unaryFilter:{field:as(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:as(e.field),op:Xce(e.op),value:e.value}}}(t):t instanceof De?function(e){const n=e.getFilters().map(r=>a$(r));return 1===n.length?n[0]:{compositeFilter:{op:Jce(e.op),filters:n}}}(t):L()}function Zce(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function u$(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Si{constructor(e,n,r,i,s=B.min(),o=B.min(),a=yt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class c${constructor(e){this.fe=e}}function CT(t){const e=s$({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?pg(e,e.limit,"L"):e}class yo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Qe(e.integerValue));else if("doubleValue"in e){const r=Qe(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Pl(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Di(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?oB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):L()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),R.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}yo.Ve=new yo;class ule{constructor(){this.rn=new xT}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Ln.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Ln.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class xT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Fe(ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fe(ue.comparator)).toArray()}}new Uint8Array(0);class Qt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Qt(e,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(41943040,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);class vo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new vo(0)}static Mn(){return new vo(-1)}}class ple{constructor(){this.changes=new bi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Le.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class O${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&zl(r.mutation,i,Dn.empty(),Ge.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){const i=jr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=jl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Cn();const o=Hl(),a=Hl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Ti)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),zl(l.mutation,c,l.mutation.getFieldMask(),Ge.now())):o.set(c.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new yle(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Hl();let i=new Ne((o,a)=>o-a),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Dn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ne()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=AB();l.forEach(h=>{if(!s.has(h)){const f=LB(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return R.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):cT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(jr());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ne())).next(l=>({batchId:a,changes:SB(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new R(n)).next(r=>{let i=jl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=jl();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new Ci(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Le.newInvalidDocument(c)))});let o=jl();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&zl(c.mutation,u,Dn.empty(),Ge.now()),$l(n,u)&&(o=o.insert(a,u))}),o})}}class _le{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:st(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:CT(r.bundledQuery),readTime:st(r.readTime)}),v.resolve();var r}}class vle{constructor(){this.overlays=new Ne(R.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jr();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=jr(),s=n.length+1,o=new R(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ne((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=jr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=jr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new mT(n,r));let s=this.ls.get(n);void 0===s&&(s=ne(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class RT{constructor(){this.fs=new Fe(St.ds),this.ws=new Fe(St._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new St(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new St(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new R(new ue([])),r=new St(n,e),i=new St(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new R(new ue([])),r=new St(n,e),i=new St(n,e+1);let s=ne();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new St(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return R.comparator(e.key,n.key)||W(e.As,n.As)}static _s(e,n){return W(e.As,n.As)||R.comparator(e.key,n.key)}}class wle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Fe(St.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new pT(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new St(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),i=new St(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fe(W);return n.forEach(i=>{const s=new St(i,0),o=new St(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;R.isDocumentKey(s)||(s=s.child(""));const o=new St(new R(s),0);let a=new Fe(W);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){U(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const s=new St(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new St(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Ele{constructor(e){this.Ds=e,this.docs=new Ne(R.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Le.newInvalidDocument(n))}getEntries(e,n){let r=Cn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Le.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Cn();const o=n.path,a=new R(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Jb(HU(l),r)<=0||(i.has(l.key)||$l(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){L()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ile(this)}getSize(e){return v.resolve(this.size)}}class Ile extends ple{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Dle{constructor(e){this.persistence=e,this.xs=new bi(n=>co(n),Ul),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Ns=0,this.ks=new RT,this.targetCount=0,this.Ms=vo.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class kT{constructor(e,n){this.$s={},this.overlays={},this.Os=new Vn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Dle(this),this.indexManager=new ule,this.remoteDocumentCache=new Ele(r=>this.referenceDelegate.Ls(r)),this.serializer=new c$(n),this.qs=new _le(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new wle(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);const i=new Cle(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Cle extends zue{constructor(e){super(),this.currentSequenceNumber=e}}class Ag{constructor(e){this.persistence=e,this.Qs=new RT,this.js=null}static zs(e){return new Ag(e)}get Ws(){if(this.js)return this.js;throw L()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=R.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,B.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class FT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ne(),i=ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new FT(e,n.fromCache,r,i)}}class L${constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(IB(n))return v.resolve(null);let r=cn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=pg(n,null,"F"),r=cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ne(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,pg(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return IB(n)||i.isEqual(B.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(Qb()<=le.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),dT(n)),this.Wi(e,o,n,function jU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(1e9===r?new Ge(n+1,0):new Ge(n,r));return new Ln(i,R.empty(),e)}(i,-1)))})}ji(e,n){let r=new Fe(bB(e));return n.forEach((i,s)=>{$l(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return Qb()<=le.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",dT(n)),this.Ui.getDocumentsMatchingQuery(e,n,Ln.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Tle{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ne(W),this.Yi=new bi(s=>co(s),Ul),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new O$(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function U$(t,e){return LT.apply(this,arguments)}function LT(){return LT=m(function*(t,e){const n=k(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ne();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),LT.apply(this,arguments)}function B$(t){const e=k(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Mle(t,e){const n=k(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cu(t,e,n){return VT.apply(this,arguments)}function VT(){return VT=m(function*(t,e,n){const r=k(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!es(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),VT.apply(this,arguments)}function Rg(t,e,n){const r=k(t);let i=B.min(),s=ne();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=k(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,cn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:B.min(),n?s:ne())).next(a=>(function G$(t,e,n){let r=t.Xi.get(e)||B.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function CB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class HT{constructor(){this.activeTargetIds=function hT(){return xce}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W${constructor(){this.Hr=new HT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new HT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kle{Yr(e){}shutdown(){}}class K${constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Pg=null;function zT(){return null===Pg?Pg=268435456+Math.round(2147483648*Math.random()):Pg++,"0x"+Pg.toString(16)}const Nle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ple{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Yt="WebChannelConnection";class Ole extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=zT(),a=this.To(e,n);T("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(T("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw hr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Nle[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=zT();return new Promise((o,a)=>{const u=new Nue;u.setWithCredentials(!0),u.listenOnce(xue.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Kb.NO_ERROR:const l=u.getResponseJson();T(Yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Kb.TIMEOUT:T(Yt,`RPC '${e}' ${s} timed out`),a(new D(E.DEADLINE_EXCEEDED,"Request time out"));break;case Kb.HTTP_ERROR:const d=u.getStatus();if(T(Yt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(y)>=0?y:E.UNKNOWN}(f.status);a(new D(p,f.message))}else a(new D(E.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new D(E.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{T(Yt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);T(Yt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=zT(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Aue(),a=Mue(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new kue({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");T(Yt,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Ple({ro:y=>{f?T(Yt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(T(Yt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),T(Yt,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),g=(y,w,_)=>{y.listen(w,b=>{try{_(b)}catch(F){setTimeout(()=>{throw F},0)}})};return g(d,eg.EventType.OPEN,()=>{f||T(Yt,`RPC '${e}' stream ${i} transport opened.`)}),g(d,eg.EventType.CLOSE,()=>{f||(f=!0,T(Yt,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,eg.EventType.ERROR,y=>{f||(f=!0,hr(Yt,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new D(E.UNAVAILABLE,"The operation could not be completed")))}),g(d,eg.EventType.MESSAGE,y=>{var w;if(!f){const _=y.data[0];U(!!_);const F=_.error||(null===(w=_[0])||void 0===w?void 0:w.error);if(F){T(Yt,`RPC '${e}' stream ${i} received error:`,F);const V=F.status;let K=function(pr){const ys=ct[pr];if(void 0!==ys)return HB(ys)}(V),Ye=F.message;void 0===K&&(K=E.INTERNAL,Ye="Unknown error status: "+V+" with message "+F.message),f=!0,p.wo(new D(K,Ye)),d.close()}else T(Yt,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),g(a,Rue.STAT_EVENT,y=>{y.stat===FU.PROXY?T(Yt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===FU.NOPROXY&&T(Yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Og(){return typeof document<"u"?document:null}function od(t){return new Gce(t,!0)}class qT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Y${constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new qT(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(rt(n.toString()),rt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new D(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fle extends Y${constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Wce(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:L(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(U(void 0===c||"string"==typeof c),yt.fromBase64String(c||"")):(U(void 0===c||c instanceof Uint8Array),yt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?E.UNKNOWN:HB(u.code);return new D(c,u.message||"")}(o);n=new KB(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Hr(t,r.document.name),s=st(r.document.updateTime),o=r.document.createTime?st(r.document.createTime):B.min(),a=new Ot({mapValue:{fields:r.document.fields}}),u=Le.newFoundDocument(i,s,o,a);n=new vg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Hr(t,r.document),s=r.readTime?st(r.readTime):B.min(),o=Le.newNoDocument(i,s);n=new vg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Hr(t,r.document);n=new vg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return L();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Vce(i,s);n=new WB(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return B.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?B.min():s.readTime?st(s.readTime):B.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Yl(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=dg(a)?{documents:i$(i,a)}:{query:DT(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=JB(i,s.resumeToken);const u=vT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(B.min())>0){o.readTime=iu(i,s.snapshotVersion.toTimestamp());const u=vT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Qce(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return L()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Yl(this.serializer),n.removeTarget=e,this.Wo(n)}}class Lle extends Y${constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(U(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Kce(t,e){return t&&t.length>0?(U(void 0!==e),t.map(n=>function(r,i){let s=st(r.updateTime?r.updateTime:i);return s.isEqual(B.min())&&(s=st(i)),new Pce(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=st(e.commitTime);return this.listener.cu(r,n)}return U(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Yl(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Xl(t,e){let n;if(e instanceof nu)n={update:n$(t,e.key,e.value)};else if(e instanceof ru)n={delete:Ql(t,e.key)};else if(e instanceof Ti)n={update:n$(t,e.key,e.data),updateMask:Zce(e.fieldMask)};else{if(!(e instanceof fT))return L();n={verify:Ql(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof eu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ho)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof fo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof tu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw L()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:zce(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:L()),n;var i}(this.serializer,r))};this.Wo(n)}}class Vle extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new D(E.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(E.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(E.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Ble{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(rt(n),this.mu=!1):T("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class $le{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(m(function*(){var u;ds(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(c){const l=k(c);l.vu.add(4),yield lu(l),l.bu.set("Unknown"),l.vu.delete(4),yield ad(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new Ble(r,i)}}function ad(t){return KT.apply(this,arguments)}function KT(){return KT=m(function*(t){if(ds(t))for(const e of t.Ru)yield e(!0)}),KT.apply(this,arguments)}function lu(t){return QT.apply(this,arguments)}function QT(){return QT=m(function*(t){for(const e of t.Ru)yield e(!1)}),QT.apply(this,arguments)}function Fg(t,e){const n=k(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),JT(n)?XT(n):hu(n).Ko()&&YT(n,e))}function ud(t,e){const n=k(t),r=hu(n);n.Au.delete(e),r.Ko()&&X$(n,e),0===n.Au.size&&(r.Ko()?r.jo():ds(n)&&n.bu.set("Unknown"))}function YT(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hu(t).su(e)}function X$(t,e){t.Vu.qt(e),hu(t).iu(e)}function XT(t){t.Vu=new Bce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),hu(t).start(),t.bu.gu()}function JT(t){return ds(t)&&!hu(t).Uo()&&t.Au.size>0}function ds(t){return 0===k(t).vu.size}function J$(t){t.Vu=void 0}function jle(t){return ZT.apply(this,arguments)}function ZT(){return ZT=m(function*(t){t.Au.forEach((e,n)=>{YT(t,e)})}),ZT.apply(this,arguments)}function Hle(t,e){return e0.apply(this,arguments)}function e0(){return e0=m(function*(t,e){J$(t),JT(t)?(t.bu.Iu(e),XT(t)):t.bu.set("Unknown")}),e0.apply(this,arguments)}function Gle(t,e,n){return t0.apply(this,arguments)}function t0(){return t0=m(function*(t,e,n){if(t.bu.set("Online"),e instanceof KB&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Lg(t,r)}else if(e instanceof vg?t.Vu.Ht(e):e instanceof WB?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(B.min()))try{const r=yield B$(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(yt.EMPTY_BYTE_STRING,c.snapshotVersion)),X$(i,a);const l=new Si(c.target,a,u,c.sequenceNumber);YT(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield Lg(t,r)}var r}),t0.apply(this,arguments)}function Lg(t,e,n){return n0.apply(this,arguments)}function n0(){return n0=m(function*(t,e,n){if(!es(e))throw e;t.vu.add(1),yield lu(t),t.bu.set("Offline"),n||(n=()=>B$(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield ad(t)}))}),n0.apply(this,arguments)}function Z$(t,e){return e().catch(n=>Lg(t,n,e))}function du(t){return r0.apply(this,arguments)}function r0(){return r0=m(function*(t){const e=k(t),n=hs(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;zle(e);)try{const i=yield Mle(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,qle(e,i)}catch(i){yield Lg(e,i)}ej(e)&&tj(e)}),r0.apply(this,arguments)}function zle(t){return ds(t)&&t.Eu.length<10}function qle(t,e){t.Eu.push(e);const n=hs(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function ej(t){return ds(t)&&!hs(t).Uo()&&t.Eu.length>0}function tj(t){hs(t).start()}function Wle(t){return s0.apply(this,arguments)}function s0(){return s0=m(function*(t){hs(t).hu()}),s0.apply(this,arguments)}function Kle(t){return o0.apply(this,arguments)}function o0(){return o0=m(function*(t){const e=hs(t);for(const n of t.Eu)e.uu(n.mutations)}),o0.apply(this,arguments)}function Qle(t,e,n){return a0.apply(this,arguments)}function a0(){return a0=m(function*(t,e,n){const r=t.Eu.shift(),i=gT.from(r,e,n);yield Z$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield du(t)}),a0.apply(this,arguments)}function Yle(t,e){return u0.apply(this,arguments)}function u0(){return u0=m(function*(t,e){var n;e&&hs(t).ou&&(yield(n=m(function*(r,i){if(function jB(t){switch(t){default:return L();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}(s=i.code)&&s!==E.ABORTED){const o=r.Eu.shift();hs(r).Qo(),yield Z$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield du(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),ej(t)&&tj(t)}),u0.apply(this,arguments)}function nj(t,e){return c0.apply(this,arguments)}function c0(){return c0=m(function*(t,e){const n=k(t);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=ds(n);n.vu.add(3),yield lu(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield ad(n)}),c0.apply(this,arguments)}function d0(){return d0=m(function*(t,e){const n=k(t);e?(n.vu.delete(2),yield ad(n)):e||(n.vu.add(2),yield lu(n),n.bu.set("Unknown"))}),d0.apply(this,arguments)}function hu(t){return t.Su||(t.Su=function(e,n,r){const i=k(e);return i.fu(),new Fle(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:jle.bind(null,t),ao:Hle.bind(null,t),nu:Gle.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Su.Qo(),JT(t)?XT(t):t.bu.set("Unknown")):(yield t.Su.stop(),J$(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function hs(t){return t.Du||(t.Du=function(e,n,r){const i=k(e);return i.fu(),new Lle(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Wle.bind(null,t),ao:Yle.bind(null,t),au:Kle.bind(null,t),cu:Qle.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Du.Qo(),yield du(t)):(yield t.Du.stop(),t.Eu.length>0&&(T("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class h0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new h0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fu(t,e){if(rt("AsyncQueue",`${e}: ${t}`),es(t))return new D(E.UNAVAILABLE,`${e}: ${t}`);throw t}class pu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||R.comparator(n.key,r.key):(n,r)=>R.comparator(n.key,r.key),this.keyedMap=jl(),this.sortedSet=new Ne(this.comparator)}static emptySet(e){return new pu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new pu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class rj{constructor(){this.Cu=new Ne(R.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):L():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class gu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new gu(e,n,pu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Xle{constructor(){this.Nu=void 0,this.listeners=[]}}class Jle{constructor(){this.queries=new bi(e=>DB(e),Bl),this.onlineState="Unknown",this.ku=new Set}}function f0(t,e){return p0.apply(this,arguments)}function p0(){return p0=m(function*(t,e){const n=k(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Xle),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=fu(o,`Initialization of query '${dT(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&y0(n)}),p0.apply(this,arguments)}function g0(t,e){return m0.apply(this,arguments)}function m0(){return m0=m(function*(t,e){const n=k(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),m0.apply(this,arguments)}function Zle(t,e){const n=k(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&y0(n)}function ede(t,e,n){const r=k(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function y0(t){t.ku.forEach(e=>{e.next()})}class _0{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new gu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=gu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class oj{constructor(e){this.key=e}}class aj{constructor(e){this.key=e}}class uj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ne(),this.mutatedKeys=ne(),this.tc=bB(e),this.ec=new pu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new rj,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=$l(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new gu(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new rj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ne(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new aj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new oj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ne();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return gu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class rde{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ide{constructor(e){this.key=e,this.fc=!1}}class sde{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new bi(a=>DB(a),Bl),this._c=new Map,this.mc=new Set,this.gc=new Ne(R.comparator),this.yc=new Map,this.Ic=new RT,this.Tc={},this.Ec=new Map,this.Ac=vo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function ode(t,e){return v0.apply(this,arguments)}function v0(){return v0=m(function*(t,e){const n=function j0(t){const e=k(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cde.bind(null,e),e.dc.nu=Zle.bind(null,e.eventManager),e.dc.Pc=ede.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function uu(t,e){const n=k(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Si(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,cn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function w0(t,e,n,r,i){return E0.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Fg(n.remoteStore,o)}return i}),v0.apply(this,arguments)}function E0(){return E0=m(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=m(function*(g,y,w,_){let b=y.view.sc(w);b.zi&&(b=yield Rg(g.localStore,y.query,!1).then(({documents:K})=>y.view.sc(K,b)));const F=_&&_.targetChanges.get(y.targetId),V=y.view.applyChanges(b,g.isPrimaryClient,F);return R0(g,y.targetId,V.cc),V.snapshot}),function(g,y,w,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Rg(t.localStore,e,!0),o=new uj(e,s.ir),a=o.sc(s.documents),u=Kl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);R0(t,n,c.cc);const l=new rde(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),E0.apply(this,arguments)}function ade(t,e){return I0.apply(this,arguments)}function I0(){return I0=m(function*(t,e){const n=k(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Bl(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield cu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ud(n.remoteStore,r.targetId),mu(n,r.targetId)}).catch(Zi))):(mu(n,r.targetId),yield cu(n.localStore,r.targetId,!0))}),I0.apply(this,arguments)}function D0(){return D0=m(function*(t,e,n){const r=function H0(t){const e=k(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dde.bind(null,e),e}(t);try{const i=yield function(s,o){const a=k(s),u=Ge.now(),c=o.reduce((h,f)=>h.add(f.key),ne());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Cn(),p=ne();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((y,w)=>{w.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const y=[];for(const w of o){const _=Fce(w,l.get(w.key).overlayedDocument);null!=_&&y.push(new Ti(w.key,_,cB(_.value.mapValue),Be.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:SB(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Ne(W)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Ai(r,i.changes),yield du(r.remoteStore)}catch(i){const s=fu(i,"Failed to persist write");n.reject(s)}}),D0.apply(this,arguments)}function cj(t,e){return C0.apply(this,arguments)}function C0(){return C0=m(function*(t,e){const n=k(t);try{const r=yield function Ale(t,e){const n=k(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(yt.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=Cn(),c=ne();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function $$(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Cn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(B.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(B.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(U(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?U(o.fc):i.removedDocuments.size>0&&(U(o.fc),o.fc=!1))}),yield Ai(n,r,e)}catch(r){yield Zi(r)}}),C0.apply(this,arguments)}function lj(t,e,n){const r=k(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=k(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&y0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function cde(t,e,n){return b0.apply(this,arguments)}function b0(){return b0=m(function*(t,e,n){const r=k(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Ne(R.comparator);o=o.insert(s,Le.newNoDocument(s,B.min()));const a=ne().add(s),u=new Wl(B.min(),new Map,new Ne(W),o,a);yield cj(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),k0(r)}else yield cu(r.localStore,e,!1).then(()=>mu(r,e,n)).catch(Zi)}),b0.apply(this,arguments)}function lde(t,e){return T0.apply(this,arguments)}function T0(){return T0=m(function*(t,e){const n=k(t),r=e.batch.batchId;try{const i=yield function Sle(t,e){const n=k(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);U(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ne();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);x0(n,r,null),M0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ai(n,i)}catch(i){yield Zi(i)}}),T0.apply(this,arguments)}function dde(t,e,n){return S0.apply(this,arguments)}function S0(){return S0=m(function*(t,e,n){const r=k(t);try{const i=yield function(s,o){const a=k(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(U(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);x0(r,e,n),M0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ai(r,i)}catch(i){yield Zi(i)}}),S0.apply(this,arguments)}function M0(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function x0(t,e,n){const r=k(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function mu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||dj(t,r)})}function dj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(ud(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),k0(t))}function R0(t,e,n){for(const r of n)r instanceof oj?(t.Ic.addReference(r.key,e),fde(t,r)):r instanceof aj?(T("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||dj(t,r.key)):L()}function fde(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(T("SyncEngine","New document in limbo: "+n),t.mc.add(r),k0(t))}function k0(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new R(ue.fromString(e)),r=t.Ac.next();t.yc.set(r,new ide(n)),t.gc=t.gc.insert(n,r),Fg(t.remoteStore,new Si(cn(Za(n.path)),r,"TargetPurposeLimboResolution",Vn.ct))}}function Ai(t,e,n){return N0.apply(this,arguments)}function N0(){return N0=m(function*(t,e,n){const r=k(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=FT.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=m(function*(u,c){const l=k(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!es(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),N0.apply(this,arguments)}function pde(t,e){return P0.apply(this,arguments)}function P0(){return P0=m(function*(t,e){const n=k(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield U$(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new D(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ai(n,r.er)}var i}),P0.apply(this,arguments)}function gde(t,e){const n=k(t),r=n.yc.get(e);if(r&&r.fc)return ne().add(r.key);{let i=ne();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class Vg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=od(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function V$(t,e,n,r){return new Tle(t,e,n,r)}(this.persistence,new L$,e.initialUser,this.serializer)}createPersistence(e){return new kT(Ag.zs,this.serializer)}createSharedClientState(e){return new W$}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class yu{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>lj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=pde.bind(null,r.syncEngine),yield function l0(t,e){return d0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Jle}createDatastore(e){const n=od(e.databaseInfo.databaseId),r=new Ole(e.databaseInfo);return new Vle(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>lj(this.syncEngine,a,0),o=K$.D()?new K$:new kle,new $le(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new sde(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=m(function*(n){const r=k(n);T("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield lu(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class Ug{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):rt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Ade{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bt.UNAUTHENTICATED,this.clientId=BU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(T("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new mt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=fu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Bg(t,e){return G0.apply(this,arguments)}function G0(){return G0=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield U$(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),G0.apply(this,arguments)}function z0(t,e){return q0.apply(this,arguments)}function q0(){return q0=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function W0(t){return K0.apply(this,arguments)}(t);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>nj(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>nj(e.remoteStore,s)),t._onlineComponents=e}),q0.apply(this,arguments)}function K0(){return K0=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){T("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Bg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function yj(t){return"FirebaseError"===t.name?t.code===E.FAILED_PRECONDITION||t.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;hr("Error using user provided cache. Falling back to memory cache: "+n),yield Bg(t,new Vg)}}else T("FirestoreClient","Using default OfflineComponentProvider"),yield Bg(t,new Vg);return t._offlineComponents}),K0.apply(this,arguments)}function $g(t){return Q0.apply(this,arguments)}function Q0(){return Q0=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(T("FirestoreClient","Using user provided OnlineComponentProvider"),yield z0(t,t._uninitializedComponentsProvider._online)):(T("FirestoreClient","Using default OnlineComponentProvider"),yield z0(t,new yu))),t._onlineComponents}),Q0.apply(this,arguments)}function _u(t){return X0.apply(this,arguments)}function X0(){return X0=m(function*(t){const e=yield $g(t),n=e.eventManager;return n.onListen=ode.bind(null,e.syncEngine),n.onUnlisten=ade.bind(null,e.syncEngine),n}),X0.apply(this,arguments)}function Dj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Cj=new Map;function J0(t,e,n){if(!n)throw new D(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bj(t){if(!R.isDocumentKey(t))throw new D(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Tj(t){if(R.isDocumentKey(t))throw new D(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":L()}function oe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hg(t);throw new D(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Aj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new D(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Lde(t,e,n,r){if(!0===e&&!0===r)throw new D(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Dj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new D(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new D(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new D(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Aj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Aj(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Oue;switch(n.type){case"firstParty":return new Uue(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new D(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Cj.get(e);n&&(T("ComponentProvider","Removing Datastore"),Cj.delete(e),n.terminate())}(this),Promise.resolve()}}class ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ot(this.firestore,e,this._key)}}class Ft{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ft(this.firestore,e,this._query)}}class Gr extends Ft{constructor(e,n,r){super(e,n,Za(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new R(e))}withConverter(e){return new Gr(this.firestore,e,this._path)}}function Ude(t,e,...n){if(t=Gt(t),J0("collection","path",e),t instanceof cd){const r=ue.fromString(e,...n);return Tj(r),new Gr(t,null,r)}{if(!(t instanceof ot||t instanceof Gr))throw new D(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ue.fromString(e,...n));return Tj(r),new Gr(t.firestore,null,r)}}function Mj(t,e,...n){if(t=Gt(t),1===arguments.length&&(e=BU.A()),J0("doc","path",e),t instanceof cd){const r=ue.fromString(e,...n);return bj(r),new ot(t,null,new R(r))}{if(!(t instanceof ot||t instanceof Gr))throw new D(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ue.fromString(e,...n));return bj(r),new ot(t.firestore,t instanceof Gr?t.converter:null,new R(r))}}class Bde{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new qT(this,"async_queue_retry"),this.Xc=()=>{const n=Og();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Og();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Og();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new mt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!es(n))throw n;T("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,rt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=h0.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&L()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function Z0(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ve extends cd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Bde,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Rj(this),this._firestoreClient.terminate()}}function jde(t,e){const r="string"==typeof t?t:e||"(default)",i=Xf("object"==typeof t?t:RF(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=qf())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function Vde(t,e,n,r={}){var i;const s=(t=oe(t,cd))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&hr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=bt.MOCK_USER;else{a=function MZ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gf(JSON.stringify({alg:"none",type:"JWT"})),Gf(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new D(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new bt(c)}t._authCredentials=new Fue(new VU(a,u))}}(i,...s)}return i}function lt(t){return t._firestoreClient||Rj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Rj(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new gce(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Dj(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Ade(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eo(yt.fromBase64String(e))}catch(n){throw new D(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Eo(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class eS{constructor(e){this._methodName=e}}class tS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return W(this._lat,e._lat)||W(this._long,e._long)}}const Gde=/^__.*__$/;class zde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ti(e,this.data,this.fieldMask,n,this.fieldTransforms):new nu(e,this.data,n,this.fieldTransforms)}}class Pj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ti(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Oj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}class Gg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return qg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Oj(this.ca)&&Gde.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class qde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||od(e)}ya(e,n,r,i=!1){return new Gg({ca:e,methodName:n,ga:r,path:it.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wu(t){const e=t._freezeSettings(),n=od(t._databaseId);return new qde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nS(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);iS("Data must be an object, but it was:",o,r);const a=Bj(r,o);let u,c;if(s.merge)u=new Dn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=hd(e,d,n);if(!o.contains(h))throw new D(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);jj(l,h)||l.push(h)}u=new Dn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new zde(new Ot(a),u,c)}class dd extends eS{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dd}}function Io(t,e){if($j(t=Gt(t)))return iS("Unsupported field value:",e,t),Bj(t,e);if(t instanceof eS)return function(n,r){if(!Oj(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Io(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Gt(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return RB(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ge.fromDate(n);return{timestampValue:iu(r.serializer,i)}}if(n instanceof Ge){const i=new Ge(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:iu(r.serializer,i)}}if(n instanceof tS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Eo)return{bytesValue:JB(r.serializer,n._byteString)};if(n instanceof ot){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:wT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Hg(n)}`)}(t,e)}function Bj(t,e){const n={};return eB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ts(t,(r,i)=>{const s=Io(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function $j(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof tS||t instanceof Eo||t instanceof ot||t instanceof eS)}function iS(t,e,n){if(!$j(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Hg(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function hd(t,e,n){if((e=Gt(e))instanceof vu)return e._internalPath;if("string"==typeof e)return zg(t,e);throw qg("Field path arguments must be of type string or ",t,!1,void 0,n)}const Yde=new RegExp("[~\\*/\\[\\]]");function zg(t,e,n){if(e.search(Yde)>=0)throw qg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vu(...e.split("."))._internalPath}catch{throw qg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(E.INVALID_ARGUMENT,a+t+u)}function jj(t,e){return t.some(n=>n.isEqual(e))}class sS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Xde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Xde extends sS{data(){return super.data()}}function Wg(t,e){return"string"==typeof e?zg(t,e):e instanceof vu?e._internalPath:e._delegate._internalPath}function Hj(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new D(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oS{}class Gj extends oS{}function Jde(t,e,...n){let r=[];e instanceof oS&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Eu).length,o=i.filter(a=>a instanceof fd).length;if(s>1||s>0&&o>0)throw new D(E.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class fd extends Gj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fd(e,n,r)}_apply(e){const n=this._parse(e);return Kj(e._query,n),new Ft(e.firestore,e.converter,lT(e._query,n))}_parse(e){const n=wu(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new D(E.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){Wj(l,c);const h=[];for(const f of l)h.push(qj(a,i,f));d={arrayValue:{values:h}}}else d=qj(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||Wj(l,c),d=function Uj(t,e,n,r=!1){return Io(n,t.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return se.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Eu extends oS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Eu(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:De.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)Kj(s,a),s=lT(s,a)}(e._query,n),new Ft(e.firestore,e.converter,lT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class aS extends Gj{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new aS(e,n)}_apply(e){const n=function(r,i,s){if(null!==r.startAt)throw new D(E.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new D(E.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Xa(i,s);return function(a,u){if(null===uT(a)){const c=fg(a);null!==c&&Qj(0,c,u.field)}}(r,o),o}(e._query,this._field,this._direction);return new Ft(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Ci(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Zde(t,e="asc"){const n=e,r=Wg("orderBy",t);return aS._create(r,n)}function qj(t,e,n){if("string"==typeof(n=Gt(n))){if(""===n)throw new D(E.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cT(e)&&-1!==n.indexOf("/"))throw new D(E.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ue.fromString(n));if(!R.isDocumentKey(r))throw new D(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uo(t,new R(r))}if(n instanceof ot)return uo(t,n._key);throw new D(E.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hg(n)}.`)}function Wj(t,e){if(!Array.isArray(t)||0===t.length)throw new D(E.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Kj(t,e){if(e.isInequality()){const r=fg(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new D(E.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=uT(t);null!==s&&Qj(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new D(E.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Qj(t,e,n){if(!n.isEqual(e))throw new D(E.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class ehe{convertValue(e,n="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw L()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ts(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new tS(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ag(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ol(e));default:return null}}convertTimestamp(e){const n=ns(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ue.fromString(e);U(u$(r));const i=new ao(r.get(1),r.get(3)),s=new R(r.popFirst(5));return i.isEqual(n)||rt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Do{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Iu extends sS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Xg extends Iu{data(e={}){return super.data(e)}}class Du{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Do(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xg(this._firestore,this._userDataWriter,r.key,r,new Do(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Xg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Do(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Xg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Do(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:nhe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nhe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}class fs extends ehe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}}function rhe(t){t=oe(t,Ft);const e=oe(t.firestore,Ve),n=lt(e),r=new fs(e);return Hj(t._query),function Ij(t,e,n={}){const r=new mt;return t.asyncQueue.enqueueAndForget(m(function*(){return function(i,s,o,a,u){const c=new Ug({next:d=>{s.enqueueAndForget(()=>g0(i,l)),d.fromCache&&"server"===a.source?u.reject(new D(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new _0(o,c,{includeMetadataChanges:!0,Ku:!0});return f0(i,l)}(yield _u(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new Du(e,r,t,i))}function ihe(t,e,n,...r){t=oe(t,ot);const i=oe(t.firestore,Ve),s=wu(i);let o;return o="string"==typeof(e=Gt(e))||e instanceof vu?function Vj(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[hd(e,r,n)],u=[i];if(s.length%2!=0)throw new D(E.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(hd(e,s[h])),u.push(s[h+1]);const c=[],l=Ot.empty();for(let h=a.length-1;h>=0;--h)if(!jj(c,a[h])){const f=a[h];let p=u[h];p=Gt(p);const g=o.da(f);if(p instanceof dd)c.push(f);else{const y=Io(p,g);null!=y&&(c.push(f),l.set(f,y))}}const d=new Dn(c);return new Pj(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function Lj(t,e,n,r){const i=t.ya(1,e,n);iS("Data must be an object, but it was:",i,r);const s=[],o=Ot.empty();ts(r,(u,c)=>{const l=zg(e,u,n);c=Gt(c);const d=i.da(l);if(c instanceof dd)s.push(l);else{const h=Io(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new Dn(s);return new Pj(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),pd(i,[o.toMutation(t._key,Be.exists(!0))])}function she(t){return pd(oe(t.firestore,Ve),[new ru(t._key,Be.none())])}function ohe(t,e){const n=oe(t.firestore,Ve),r=Mj(t),i=function uS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return pd(n,[nS(wu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Be.exists(!1))]).then(()=>r)}function pd(t,e){return function(n,r){const i=new mt;return n.asyncQueue.enqueueAndForget(m(function*(){return function ude(t,e,n){return D0.apply(this,arguments)}(yield function Y0(t){return $g(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(lt(t),e)}!function(t,e=!0){Wa=qc,on(new zt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ve(new Lue(n.getProvider("auth-internal")),new Bue(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new D(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),nt(LU,"3.13.0",t),nt(LU,"3.13.0","esm2017")}();var vhe={includeMetadataChanges:!1};function lS(t,e){return void 0===e&&(e=vhe),new Me(function(n){var r=function ahe(t,...e){var n,r,i;t=Gt(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Z0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Z0(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof ot)c=oe(t.firestore,Ve),l=Za(t._key.path),u={next:d=>{e[o]&&e[o](function cS(t,e,n){const r=n.docs.get(e._key),i=new fs(t);return new Iu(t,i,e._key,r,new Do(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=oe(t,Ft);c=oe(d.firestore,Ve),l=d._query;const h=new fs(c);u={next:f=>{e[o]&&e[o](new Du(c,h,d,f))},error:e[o+1],complete:e[o+2]},Hj(t._query)}return function(d,h,f,p){const g=new Ug(p),y=new _0(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return f0(yield _u(d),y)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(m(function*(){return g0(yield _u(d),y)}))}}(lt(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function The(t,e){return void 0===e&&(e={}),function bhe(t){return lS(t,{includeMetadataChanges:!0}).pipe(fe(function(e){return e.docs}))}(t).pipe(fe(function(n){return n.map(function(r){return function Jj(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Zg{constructor(e){return e}}const nH="firestore",fS=new A("angularfire2.firestore-instances");function Mhe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Zg(r)}}const xhe={provide:class She{constructor(){return kI(nH)}},deps:[[new mn,fS]]},Rhe={provide:Zg,useFactory:function Ahe(t,e){const n=function RI(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(nH,t,e);return n&&new Zg(n)},deps:[[new mn,fS],Oa]};let khe=(()=>{class t{constructor(){nt("angularfire",DI.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Lt({providers:[Rhe,xhe]}),t})();function Nhe(t,...e){return{ngModule:khe,providers:[{provide:fS,useFactory:Mhe(t),multi:!0,deps:[Se,jn,WL,KL,[new mn,JV],[new mn,w2],...e]}]}}const Phe=cr(The,!0),Ohe=cr(ohe,!0),rH=cr(Ude,!0),Fhe=cr(she,!0),iH=cr(Mj,!0),Lhe=cr(rhe,!0),Vhe=cr(jde,!0),Uhe=cr(Zde,!0),Bhe=cr(Jde,!0),$he=cr(ihe,!0);let em=(()=>{class t{constructor(n){this.fs=n}getTask(){try{let n=rH(this.fs,"tasks");const r=Bhe(n,Uhe("Progress"));this.sortedData$=Phe(r,{idField:"Id"})}catch(n){console.log(n)}return this.sortedData$}addTask(n){var r=this;return m(function*(){try{let i=rH(r.fs,"tasks");const s=yield Lhe(i);return n.Sl=s.size+1,(yield Ohe(i,n)).id}catch(i){return console.log(i),null}return null})()}updateTask(n,r){console.log(n);let i=iH(this.fs,"tasks/"+n);$he(i,r)}deleteTask(n){let r=iH(this.fs,"tasks/"+n);Fhe(r)}}return t.\u0275fac=function(n){return new(n||t)(N(Zg))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class qhe extends Error{constructor(e,n){super(function Whe(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function lH(t,e){const n=!e?.manualCleanup;n&&!e?.injector&&function vR(t){if(!xA()&&!function iz(){return Mo}())throw new S(-203,!1)}();const r=n?e?.injector?.get(Oh)??M(Oh):null;let i;i=function nM(t,e){const n=new Lz(t,e?.equal??ZA);return Km(n,n.signal.bind(n),{set:n.set.bind(n),update:n.update.bind(n),mutate:n.mutate.bind(n),asReadonly:n.asReadonly.bind(n)})}(e?.requireSync?{kind:0}:{kind:1,value:e?.initialValue});const s=t.subscribe({next:o=>i.set({kind:1,value:o}),error:o=>i.set({kind:2,error:o})});return r?.onDestroy(s.unsubscribe.bind(s)),eM(()=>{const o=i();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new qhe(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}const gd={},dH="@ngrx/store/init";let Co=(()=>{class t extends Jt{constructor(){super({type:dH})}next(n){if("function"==typeof n)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const sfe=[Co],wS=new A("@ngrx/store Internal Root Guard"),hH=new A("@ngrx/store Internal Initial State"),ES=new A("@ngrx/store Initial State"),fH=new A("@ngrx/store Reducer Factory"),pH=new A("@ngrx/store Internal Reducer Factory Provider"),gH=new A("@ngrx/store Initial Reducers"),IS=new A("@ngrx/store Internal Initial Reducers"),mH=new A("@ngrx/store Store Features"),yH=new A("@ngrx/store Internal Store Reducers"),DS=new A("@ngrx/store Internal Feature Reducers"),_H=new A("@ngrx/store Internal Feature Configs"),CS=new A("@ngrx/store Internal Store Features"),vH=new A("@ngrx/store Internal Feature Reducers Token"),bS=new A("@ngrx/store Feature Reducers"),wH=new A("@ngrx/store User Provided Meta Reducers"),im=new A("@ngrx/store Meta Reducers"),EH=new A("@ngrx/store Internal Resolved Meta Reducers"),IH=new A("@ngrx/store User Runtime Checks Config"),DH=new A("@ngrx/store Internal User Runtime Checks Config"),md=new A("@ngrx/store Internal Runtime Checks"),yd=new A("@ngrx/store Check if Action types are unique");function SS(t,e={}){const n=Object.keys(t),r={};for(let s=0;s<n.length;s++){const o=n[s];"function"==typeof t[o]&&(r[o]=t[o])}const i=Object.keys(r);return function(o,a){o=void 0===o?e:o;let u=!1;const c={};for(let l=0;l<i.length;l++){const d=i[l],f=o[d],p=(0,r[d])(f,a);c[d]=p,u=u||p!==f}return u?c:o}}function bH(...t){return function(e){if(0===t.length)return e;const n=t[t.length-1];return t.slice(0,-1).reduceRight((i,s)=>s(i),n(e))}}function TH(t,e){return Array.isArray(e)&&e.length>0&&(t=bH.apply(null,[...e,t])),(n,r)=>{const i=t(n);return(s,o)=>i(s=void 0===s?r:s,o)}}new A("@ngrx/store Root Store Provider"),new A("@ngrx/store Feature State Provider");class sm extends Me{}class SH extends Co{}let _d=(()=>{class t extends Jt{get currentReducers(){return this.reducers}constructor(n,r,i,s){super(s(i,r)),this.dispatcher=n,this.initialState=r,this.reducers=i,this.reducerFactory=s}addFeature(n){this.addFeatures([n])}addFeatures(n){const r=n.reduce((i,{reducers:s,reducerFactory:o,metaReducers:a,initialState:u,key:c})=>{const l="function"==typeof s?function afe(t){const e=Array.isArray(t)&&t.length>0?bH(...t):n=>n;return(n,r)=>(n=e(n),(i,s)=>n(i=void 0===i?r:i,s))}(a)(s,u):TH(o,a)(s,u);return i[c]=l,i},{});this.addReducers(r)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(r=>r.key))}addReducer(n,r){this.addReducers({[n]:r})}addReducers(n){this.reducers={...this.reducers,...n},this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(r=>{this.reducers=function ofe(t,e){return Object.keys(t).filter(n=>n!==e).reduce((n,r)=>Object.assign(n,{[r]:t[r]}),{})}(this.reducers,r)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:n})}ngOnDestroy(){this.complete()}}return t.\u0275fac=function(n){return new(n||t)(N(SH),N(ES),N(gH),N(fH))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const cfe=[_d,{provide:sm,useExisting:_d},{provide:SH,useExisting:Co}];let om=(()=>{class t extends gr{ngOnDestroy(){this.complete()}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=wt(t)))(r||t)}}(),t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const lfe=[om];class AH extends Me{}let MH=(()=>{class t extends Jt{constructor(n,r,i,s){super(s);const a=n.pipe(xu(zL)).pipe(function jhe(...t){const e=Nm(t);return dt((n,r)=>{const i=t.length,s=new Array(i);let o=t.map(()=>!1),a=!1;for(let u=0;u<i;u++)Tn(t[u]).subscribe(Xe(r,c=>{s[u]=c,!a&&!o[u]&&(o[u]=!0,(a=o.every(Wr))&&(o=null))},Em));n.subscribe(Xe(r,u=>{if(a){const c=[u,...s];r.next(e?e(...c):c)}}))})}(r)),c=a.pipe(fO(dfe,{state:s}));this.stateSubscription=c.subscribe(({state:l,action:d})=>{this.next(l),i.next(d)}),this.state=lH(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return t.INIT=dH,t.\u0275fac=function(n){return new(n||t)(N(Co),N(sm),N(om),N(ES))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();function dfe(t={state:void 0},[e,n]){const{state:r}=t;return{state:n(r,e),action:e}}const hfe=[MH,{provide:AH,useExisting:MH}];let vd=(()=>{class t extends Me{constructor(n,r,i){super(),this.actionsObserver=r,this.reducerManager=i,this.source=n,this.state=n.state}select(n,...r){return pfe.call(null,n,...r)(this)}selectSignal(n,r){return eM(()=>n(this.state()),{equal:r?.equal||((i,s)=>i===s)})}lift(n){const r=new t(this,this.actionsObserver,this.reducerManager);return r.operator=n,r}dispatch(n){this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,r){this.reducerManager.addReducer(n,r)}removeReducer(n){this.reducerManager.removeReducer(n)}}return t.\u0275fac=function(n){return new(n||t)(N(AH),N(Co),N(_d))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const ffe=[vd];function pfe(t,e,...n){return function(i){let s;if("string"==typeof t){const o=[e,...n].filter(Boolean);s=i.pipe(function Hhe(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return fe(n=>{let r=n;for(let i=0;i<e;i++){const s=r?.[t[i]];if(!(typeof s<"u"))return;r=s}return r})}(t,...o))}else{if("function"!=typeof t)throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);s=i.pipe(fe(o=>t(o,e)))}return s.pipe(bA())}}const AS="https://ngrx.io/guide/store/configuration/runtime-checks";function xH(t){return void 0===t}function RH(t){return null===t}function kH(t){return Array.isArray(t)}function NH(t){return"object"==typeof t&&null!==t}function MS(t){return"function"==typeof t}function xS(t,e){return t===e}function RS(t,e=xS,n=xS){let s,r=null,i=null;return{memoized:function c(){if(void 0!==s)return s.result;if(!r)return i=t.apply(null,arguments),r=arguments,i;if(!function Ife(t,e,n){for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!0;return!1}(arguments,r,e))return i;const l=t.apply(null,arguments);return r=arguments,n(i,l)?i:(i=l,l)},reset:function o(){r=null,i=null},setResult:function a(l=void 0){s={result:l}},clearResult:function u(){s=void 0}}}function wd(...t){return function Cfe(t,e={stateFn:Dfe}){return function(...n){let r=n;if(Array.isArray(r[0])){const[l,...d]=r;r=[...l,...d]}else 1===r.length&&function Tfe(t){return!!t&&"object"==typeof t&&Object.values(t).every(e=>"function"==typeof e)}(r[0])&&(r=function Sfe(t){const e=Object.values(t),n=Object.keys(t);return[...e,(...i)=>n.reduce((s,o,a)=>({...s,[o]:i[a]}),{})]}(r[0]));const i=r.slice(0,r.length-1),s=r[r.length-1],o=i.filter(l=>l.release&&"function"==typeof l.release),a=t(function(...l){return s.apply(null,l)}),u=RS(function(l,d){return e.stateFn.apply(null,[l,i,d,a])});return Object.assign(u.memoized,{release:function c(){u.reset(),a.reset(),o.forEach(l=>l.release())},projector:a.memoized,setResult:u.setResult,clearResult:u.clearResult})}}(RS)(...t)}function Dfe(t,e,n,r){if(void 0===n){const s=e.map(o=>o(t));return r.memoized.apply(null,s)}const i=e.map(s=>s(t,n));return r.memoized.apply(null,[...i,n])}function xfe(t){return t instanceof A?M(t):t}function Rfe(t,e){return e.map((n,r)=>{if(t[r]instanceof A){const i=M(t[r]);return{key:n.key,reducerFactory:i.reducerFactory?i.reducerFactory:SS,metaReducers:i.metaReducers?i.metaReducers:[],initialState:i.initialState}}return n})}function kfe(t){return t.map(e=>e instanceof A?M(e):e)}function kS(t){return"function"==typeof t?t():t}function Nfe(t,e){return t.concat(e)}function Pfe(){if(M(vd,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function NS(t){Object.freeze(t);const e=MS(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&function wfe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n)&&(!e||"caller"!==n&&"callee"!==n&&"arguments"!==n)){const r=t[n];(NH(r)||MS(r))&&!Object.isFrozen(r)&&NS(r)}}),t}function PS(t,e=[]){return(xH(t)||RH(t))&&0===e.length?{path:["root"],value:t}:Object.keys(t).reduce((r,i)=>{if(r)return r;const s=t[i];return function vfe(t){return MS(t)&&t.hasOwnProperty("\u0275cmp")}(s)?r:!(xH(s)||RH(s)||function yfe(t){return"number"==typeof t}(s)||function mfe(t){return"boolean"==typeof t}(s)||function gfe(t){return"string"==typeof t}(s)||kH(s))&&(function PH(t){if(!function _fe(t){return NH(t)&&!kH(t)}(t))return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}(s)?PS(s,[...e,i]):{path:[...e,i],value:s})},!1)}function FH(t,e){if(!1===t)return;const n=t.path.join("."),r=new Error(`Detected unserializable ${e} at "${n}". ${AS}#strict${e}serializability`);throw r.value=t.value,r.unserializablePath=n,r}function Vfe(t){return{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Ufe({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?function Ffe(t,e){return function(n,r){e.action(r)&&FH(PS(r),"action");const i=t(n,r);return e.state()&&FH(PS(i),"state"),i}}(n,{action:r=>t&&!OS(r),state:()=>e}):n}function Bfe({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?function Ofe(t,e){return function(n,r){const i=e.action(r)?NS(r):r,s=t(n,i);return e.state()?NS(s):s}}(n,{action:r=>t&&!OS(r),state:()=>e}):n}function OS(t){return t.type.startsWith("@ngrx")}function $fe({strictActionWithinNgZone:t}){return e=>t?function Lfe(t,e){return function(n,r){if(e.action(r)&&!Se.isInAngularZone())throw new Error(`Action '${r.type}' running outside NgZone. ${AS}#strictactionwithinngzone`);return t(n,r)}}(e,{action:n=>t&&!OS(n)}):e}function jfe(t){return[{provide:DH,useValue:t},{provide:IH,useFactory:Hfe,deps:[DH]},{provide:md,deps:[IH],useFactory:Vfe},{provide:im,multi:!0,deps:[md],useFactory:Bfe},{provide:im,multi:!0,deps:[md],useFactory:Ufe},{provide:im,multi:!0,deps:[md],useFactory:$fe}]}function LH(){return[{provide:yd,multi:!0,deps:[md],useFactory:Gfe}]}function Hfe(t){return t}function Gfe(t){if(!t.strictActionTypeUniqueness)return;const e=Object.entries(gd).filter(([,n])=>n>1).map(([n])=>n);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(n=>`"${n}"`).join(", ")}. ${AS}#strictactiontypeuniqueness`)}function VH(t={},e={}){return[{provide:wS,useFactory:Pfe},{provide:hH,useValue:e.initialState},{provide:ES,useFactory:kS,deps:[hH]},{provide:IS,useValue:t},{provide:yH,useExisting:t instanceof A?t:IS},{provide:gH,deps:[IS,[new my(yH)]],useFactory:xfe},{provide:wH,useValue:e.metaReducers?e.metaReducers:[]},{provide:EH,deps:[im,wH],useFactory:Nfe},{provide:pH,useValue:e.reducerFactory?e.reducerFactory:SS},{provide:fH,deps:[pH,EH],useFactory:TH},sfe,cfe,lfe,hfe,ffe,jfe(e.runtimeChecks),LH()]}function UH(t,e,n={}){return[{provide:_H,multi:!0,useValue:t instanceof Object?{}:n},{provide:mH,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:n instanceof A||!n.reducerFactory?SS:n.reducerFactory,metaReducers:n instanceof A||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof A||!n.initialState?void 0:n.initialState}},{provide:CS,deps:[_H,mH],useFactory:Rfe},{provide:DS,multi:!0,useValue:t instanceof Object?t.reducer:e},{provide:vH,multi:!0,useExisting:e instanceof A?e:DS},{provide:bS,multi:!0,deps:[DS,[new my(vH)]],useFactory:kfe},LH()]}let BH=(()=>{class t{constructor(n,r,i,s,o,a){}}return t.\u0275fac=function(n){return new(n||t)(N(Co),N(sm),N(om),N(vd),N(wS,8),N(yd,8))},t.\u0275mod=Zt({type:t}),t.\u0275inj=Lt({}),t})(),Qfe=(()=>{class t{constructor(n,r,i,s,o){this.features=n,this.featureReducers=r,this.reducerManager=i;const a=n.map((u,c)=>{const d=r.shift()[c];return{...u,reducers:d,initialState:kS(u.initialState)}});i.addFeatures(a)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return t.\u0275fac=function(n){return new(n||t)(N(CS),N(bS),N(_d),N(BH),N(yd,8))},t.\u0275mod=Zt({type:t}),t.\u0275inj=Lt({}),t})(),Yfe=(()=>{class t{static forRoot(n,r){return{ngModule:BH,providers:[...VH(n,r)]}}static forFeature(n,r,i={}){return{ngModule:Qfe,providers:[...UH(n,r,i)]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Lt({}),t})();const $H="task list request",jH="task list success";class Xfe{constructor(){this.type=$H}}class Jfe{constructor(e){this.payload=e,this.type=jH}}const Zfe={loaded:!1,loading:!1,tasks:[]},ipe={tasks:function epe(t=Zfe,e){switch(e.type){case $H:return{...t,loading:!0};case jH:{const n=e.payload.data;return{...t,loading:!1,loaded:!0,tasks:n}}}return t}},FS=t=>t.tasks,spe=wd(FS,t=>t.loaded),ope=wd(FS,t=>t.loading),ape=wd(FS,t=>t.tasks),upe=function(){return{exact:!0}};let cpe=(()=>{class t{constructor(){this.add=!1}toggleAdd(){this.add=!this.add}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Es({type:t,selectors:[["app-home"]],decls:9,vars:5,consts:[[1,"w-full"],[1,"flex","flex-row","text-center","bg-blue-500","text-white","text-2xl"],[1,"text-blue-500","m-2","text-sm","px-2"],[1,"items-center","grow"],["routerLinkActive","selected",1,"rounded-lg","float-right","m-2","text-lg","px-2",3,"ngClass","routerLink","routerLinkActiveOptions","click"]],template:function(n,r){1&n&&(Y(0,"div",0)(1,"h2",1)(2,"button",2),be(3," X "),G(),Y(4,"div",3),be(5,"Task Management System"),G(),Y(6,"button",4),he("click",function(){return r.toggleAdd()}),be(7),G()(),er(8,"router-outlet"),G()),2&n&&(_n(6),vn("ngClass",r.add?"bg-red-500":"bg-green-500")("routerLink",r.add?"":"/add")("routerLinkActiveOptions",WN(4,upe)),_n(1),pc(" ",r.add?"X":"+"," "))},dependencies:[Mv,Of,Hf,oF]}),t})(),HH=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(C(ni),C(kn))},t.\u0275dir=H({type:t}),t})(),bo=(()=>{class t extends HH{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=wt(t)))(r||t)}}(),t.\u0275dir=H({type:t,features:[we]}),t})();const qr=new A("NgValueAccessor"),hpe={provide:qr,useExisting:xe(()=>Ed),multi:!0},ppe=new A("CompositionEventMode");let Ed=(()=>{class t extends HH{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fpe(){const t=$i()?$i().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(C(ni),C(kn),C(ppe,8))},t.\u0275dir=H({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&he("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ue([hpe]),we]}),t})();const Xt=new A("NgValidators"),gs=new A("NgAsyncValidators");function KH(t){return function ps(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function am(t){return null}function eG(t){return null!=t}function tG(t){return hc(t)?_t(t):t}function nG(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function rG(t,e){return e.map(n=>n(t))}function iG(t){return t.map(e=>function mpe(t){return!t.validate}(e)?e:n=>e.validate(n))}function LS(t){return null!=t?function sG(t){if(!t)return null;const e=t.filter(eG);return 0==e.length?null:function(n){return nG(rG(n,e))}}(iG(t)):null}function VS(t){return null!=t?function oG(t){if(!t)return null;const e=t.filter(eG);return 0==e.length?null:function(n){return function lpe(...t){const e=Nm(t),{args:n,keys:r}=oO(t),i=new Me(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Tn(n[l]).subscribe(Xe(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?uO(r,a):a),s.complete())}))}});return e?i.pipe(aO(e)):i}(rG(n,e).map(tG)).pipe(fe(nG))}}(iG(t)):null}function aG(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function US(t){return t?Array.isArray(t)?t:[t]:[]}function um(t,e){return Array.isArray(t)?t.includes(e):t===e}function lG(t,e){const n=US(e);return US(t).forEach(i=>{um(n,i)||n.push(i)}),n}function dG(t,e){return US(e).filter(n=>!um(t,n))}class hG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=LS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=VS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class ln extends hG{get formDirective(){return null}get path(){return null}}class ms extends hG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fG{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let BS=(()=>{class t extends fG{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(C(ms,2))},t.\u0275dir=H({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Kh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[we]}),t})(),pG=(()=>{class t extends fG{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(C(ln,10))},t.\u0275dir=H({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Kh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[we]}),t})();const Id="VALID",lm="INVALID",bu="PENDING",Dd="DISABLED";function HS(t){return(dm(t)?t.validators:t)||null}function GS(t,e){return(dm(e)?e.asyncValidators:t)||null}function dm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class _G{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Id}get invalid(){return this.status===lm}get pending(){return this.status==bu}get disabled(){return this.status===Dd}get enabled(){return this.status!==Dd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(lG(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(lG(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(dG(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(dG(e,this._rawAsyncValidators))}hasValidator(e){return um(this._rawValidators,e)}hasAsyncValidator(e){return um(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=bu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Dd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Id,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Id||this.status===bu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dd:Id}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=bu,this._hasOwnPendingAsyncValidator=!0;const n=tG(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ze,this.statusChanges=new ze}_calculateStatus(){return this._allControlsDisabled()?Dd:this.errors?lm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bu)?bu:this._anyControlsHaveStatus(lm)?lm:Id}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function wpe(t){return Array.isArray(t)?LS(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Epe(t){return Array.isArray(t)?VS(t):t||null}(this._rawAsyncValidators)}}class zS extends _G{constructor(e,n,r){super(HS(n),GS(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function yG(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new S(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function mG(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Tu=new A("CallSetDisabledState",{providedIn:"root",factory:()=>hm}),hm="always";function fm(t,e){return[...e.path,t]}function Cd(t,e,n=hm){qS(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Cpe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&vG(t,e)})}(t,e),function Tpe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function bpe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&vG(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Dpe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function gm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function qS(t,e){const n=function uG(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(aG(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function cG(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(aG(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();gm(e._rawValidators,i),gm(e._rawAsyncValidators,i)}function vG(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Rpe={provide:ln,useExisting:xe(()=>ym)},bd=(()=>Promise.resolve())();let ym=(()=>{class t extends ln{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ze,this.form=new zS({},LS(n),VS(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){bd.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Cd(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){bd.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){bd.then(()=>{const r=this._findContainer(n.path),i=new zS({});(function wG(t,e){qS(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){bd.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){bd.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function EG(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(C(Xt,10),C(gs,10),C(Tu,8))},t.\u0275dir=H({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&he("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ue([Rpe]),we]}),t})();function IG(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function DG(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const CG=class extends _G{constructor(e=null,n,r){super(HS(n),GS(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=DG(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){IG(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){IG(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){DG(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let bG=(()=>{class t extends ln{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return fm(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=wt(t)))(r||t)}}(),t.\u0275dir=H({type:t,features:[we]}),t})();const Npe={provide:ln,useExisting:xe(()=>YS)};let YS=(()=>{class t extends bG{constructor(n,r,i){super(),this.name="",this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){}}return t.\u0275fac=function(n){return new(n||t)(C(ln,5),C(Xt,10),C(gs,10))},t.\u0275dir=H({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[Ue([Npe]),we]}),t})();const Ppe={provide:ms,useExisting:xe(()=>_m)},TG=(()=>Promise.resolve())();let _m=(()=>{class t extends ms{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new CG,this._registered=!1,this.name="",this.update=new ze,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function QS(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Ed?n=s:function Mpe(t){return Object.getPrototypeOf(t.constructor)===bo}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function KS(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Cd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){TG.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&wa(r);TG.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?fm(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(C(ln,9),C(Xt,10),C(gs,10),C(qr,10),C(sf,8),C(Tu,8))},t.\u0275dir=H({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ue([Ppe]),we,Bn]}),t})(),AG=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Lt({}),t})();const zpe={provide:qr,useExisting:xe(()=>vm),multi:!0};function OG(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let vm=(()=>{class t extends bo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=OG(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function qpe(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=wt(t)))(r||t)}}(),t.\u0275dir=H({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&he("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ue([zpe]),we]}),t})(),FG=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(OG(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(C(kn),C(ni),C(vm,9))},t.\u0275dir=H({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Wpe={provide:qr,useExisting:xe(()=>eA),multi:!0};function LG(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let eA=(()=>{class t extends bo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Kpe(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=wt(t)))(r||t)}}(),t.\u0275dir=H({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&he("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ue([Wpe]),we]}),t})(),VG=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(LG(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(LG(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(C(kn),C(ni),C(eA,9))},t.\u0275dir=H({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),To=(()=>{class t{constructor(){this._validator=am}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):am,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=H({type:t,features:[Bn]}),t})();const Xpe={provide:Xt,useExisting:xe(()=>wm),multi:!0};let wm=(()=>{class t extends To{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=wa,this.createValidator=n=>KH}enabled(n){return n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=wt(t)))(r||t)}}(),t.\u0275dir=H({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&Sr("required",r._enabled?"":null)},inputs:{required:"required"},features:[Ue([Xpe]),we]}),t})(),rge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Lt({imports:[AG]}),t})(),sge=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Tu,useValue:n.callSetDisabledState??hm}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Lt({imports:[rge]}),t})(),oge=(()=>{class t{constructor(n){this.service=n,this.Priority="3"}log(n){console.log(n)}onSubmit(n){const r=n.value.formGroupValues;this.addTasks({Title:r.title,DueDt:r.dueDt,Priority:this.Priority,Description:r.description,Progress:"1"})}addTasks(n){try{this.service.addTask(n).then(r=>{null!==r&&alert("Task saved Successfully!")})}catch(r){return console.log(r),!1}}onRadioChange(n){this.Priority=n.target.value}}return t.\u0275fac=function(n){return new(n||t)(C(em))},t.\u0275cmp=Es({type:t,selectors:[["app-input"]],decls:33,vars:0,consts:[["ngNativeValidate","",3,"ngSubmit"],["myForm","ngForm"],["ngModelGroup","formGroupValues"],[1,"flex","flex-col","text-xs","lg:text-base"],[1,"flex","flex-row","text-center","bg-blue-500","text-white","text-2xl"],[1,"items-center","grow"],["type","text","required","","id","title","ngModel","","name","title","placeholder","Title",1,"border","rounded-lg","drop-shadow-lg","m-5","p-2"],["required","","name","description","ngModel","","placeholder","Description",1,"border","rounded-lg","drop-shadow-lg","m-5","p-2"],["description",""],[1,"lg:flex","lg:flex-row","lg:justify-between","w-full"],[1,"flex","flex-row","border","mx-5","my-2","px-2","justify-between","align-middle","rounded-lg","shadow-lg"],["for","dueDt",1,"p-1","align-middle","m-2"],["required","","ngModel","","type","date","name","dueDt","id","dueDt",1,"w-fit","align-middle","p-1","m-2"],["dueDt",""],[1,"flex","flex-row","border","mx-5","my-2","px-2","justify-between","rounded-lg","shadow-lg"],[1,"p-4"],[1,"flex","items-center","p-2"],["type","radio","name","priority","value","1","id","list-radio-high",1,"peer","hidden",3,"change"],["for","list-radio-high",1,"block","cursor-pointer","select-none","rounded-xl","p-2","text-center","peer-checked:bg-red-600","font-bold","peer-checked:text-white"],["type","radio","name","priority","value","2","id","list-radio-medium",1,"peer","hidden",3,"change"],["for","list-radio-medium",1,"block","cursor-pointer","select-none","rounded-xl","p-2","text-center","peer-checked:bg-yellow-600","font-bold","peer-checked:text-white"],["checked","","type","radio","value","3","name","priority","id","list-radio-low",1,"peer","hidden",3,"change"],["for","list-radio-low",1,"block","cursor-pointer","select-none","rounded-xl","p-2","text-center","peer-checked:bg-green-600","font-bold","peer-checked:text-white"],["type","submit",1,"border","rounded-lg","drop-shadow-lg","m-5","p-2","bg-blue-600","text-white","font-bold"]],template:function(n,r){if(1&n){const i=qh();Y(0,"form",0,1),he("ngSubmit",function(){Ni(i);const o=function hk(t){return function Fo(t,e){return t[e]}(function sq(){return j.lFrame.contextLView}(),ie+t)}(1);return Pi(r.onSubmit(o))}),Gh(2,2),Y(3,"div",3)(4,"h2",4)(5,"div",5),be(6,"Add Task"),G()(),er(7,"input",6)(8,"textarea",7,8),Y(10,"div",9)(11,"div",10)(12,"label",11),be(13,"Due Date : "),G(),er(14,"input",12,13),G(),Y(16,"div",14)(17,"div",15),be(18,"Priority :"),G(),Y(19,"div",16)(20,"input",17),he("change",function(o){return r.onRadioChange(o)}),G(),Y(21,"label",18),be(22," High"),G()(),Y(23,"div",16)(24,"input",19),he("change",function(o){return r.onRadioChange(o)}),G(),Y(25,"label",20),be(26,"Medium"),G()(),Y(27,"div",16)(28,"input",21),he("change",function(o){return r.onRadioChange(o)}),G(),Y(29,"label",22),be(30,"Low"),G()()()(),Y(31,"button",23),be(32,"Save"),G()(),zh(),G()}},dependencies:[Ed,BS,pG,wm,_m,YS,ym]}),t})();function age(t,e){if(1&t&&er(0,"div",13),2&t){const n=si();vn("ngClass","1"===n.task.Priority?"bg-red-600":"2"===n.task.Priority?"bg-yellow-500":"bg-green-600")}}function uge(t,e){if(1&t){const n=qh();Y(0,"div",21)(1,"div",22)(2,"input",23),he("change",function(i){return Ni(n),Pi(si(2).onRadioChange(i))}),G(),Y(3,"label",24),be(4,"High"),G()(),Y(5,"div",22)(6,"input",25),he("change",function(i){return Ni(n),Pi(si(2).onRadioChange(i))}),G(),Y(7,"label",26),be(8,"Medium"),G()(),Y(9,"div",22)(10,"input",27),he("change",function(i){return Ni(n),Pi(si(2).onRadioChange(i))}),G(),Y(11,"label",28),be(12,"Low"),G()(),er(13,"br"),G()}}function cge(t,e){if(1&t){const n=qh();Y(0,"div",14)(1,"label",15),be(2,"Description:"),G(),Y(3,"textarea",16),he("ngModelChange",function(i){return Ni(n),Pi(si().modelChangeDescription(i))}),G(),Y(4,"div",17),dc(5,uge,14,0,"div",18),Y(6,"div",19),he("click",function(){return Ni(n),Pi(si().toggleEdit())}),be(7),G(),Y(8,"div",20),he("click",function(){return Ni(n),Pi(si().deleteT())}),be(9,"Delete"),G()()()}if(2&t){const n=si();_n(3),vn("disabled",!n.edit)("ngModel",n.task.Description),_n(2),vn("ngIf",n.edit),_n(2),pc(" ",n.edit?"Save":"Edit"," ")}}let lge=(()=>{class t{constructor(n){this.service=n,this.updatedTask={},this.visible=!1,this.edit=!1}toggleCollapse(){this.visible=!this.visible,this.edit=!1}toggleEdit(){this.edit&&this.save(),this.edit=!this.edit}onRadioChange(n){this.updatedTask.Priority=n.target.value}modelChangeTitle(n){this.updatedTask.Title=n}modelChangeDescription(n){this.updatedTask.Description=n}modelChangeDueDt(n){this.updatedTask.DueDt=n}modelChangeProgress(n){this.updatedTask.Progress=n}modelChangePriority(n){this.updatedTask.Priority=n}save(){console.log(this.updatedTask),this.service.updateTask(this.task.Id,this.updatedTask)}deleteT(){this.service.deleteTask(this.task.Id)}}return t.\u0275fac=function(n){return new(n||t)(C(em))},t.\u0275cmp=Es({type:t,selectors:[["app-task-item"]],inputs:{task:"task"},decls:18,vars:10,consts:[[1,"m-0.5","max-md:px-1","max-md:mx-0","shadow-lg","p-2","rounded-xl","max-md:text-[10px]","border-slate-500","border-2",3,"ngClass"],[1,"flex","flex-row","flex-wrap"],[1,"m-1","p-1","text-center","max-md:px-0","max-md:mx-0","w-[10%]"],["type","text","placeholder","Edit Title",1,"m-1","w-[20%]","text-clip","overflow-hidden","max-md:w-[30%]","border","rounded-lg","shadow","max-md:px-1","p-1",3,"disabled","ngModel","ngModelChange"],[1,"w-[20%]","max-md:w-[8%]","m-1","p-1"],["class","w-4 h-4 m-auto  p-2 max-md:px-1  rounded-[50%]",3,"ngClass",4,"ngIf"],["id","status",1,"w-[20%]","max-md:w-[10%]","text-clip","overflow-hidden","bg-gray-50","border","shadow","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","max-md:px-0","p-1","m-1",3,"disabled","ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],["type","date",1,"p-1","max-md:px-1","rounded-md","shadow","text-clip","overflow-hidden","max-sm:w-1/5","w-[20%]",3,"disabled","ngModel","ngModelChange"],[1,"rounded-lg","bg-blue-500","font-extrabold","px-3","p-1","m-1",3,"click"],["class","w-full",4,"ngIf"],[1,"w-4","h-4","m-auto","p-2","max-md:px-1","rounded-[50%]",3,"ngClass"],[1,"w-full"],["for","description",1,"p-2"],["id","description",1,"rounded-md","w-full","p-2","border-gray-500","shadow-lg",3,"disabled","ngModel","ngModelChange"],[1,"flex","text-white","font-bold","text-center","flex-row","items-end","justify-between"],["class","w-fit my-5 p-5 text-black flex flex-row",4,"ngIf"],[1,"m-auto","my-5","p-5","w-1/5","bg-green-600","rounded-lg","shadow",3,"click"],[1,"m-auto","my-5","p-5","w-1/5","bg-red-600","rounded-lg","shadow",3,"click"],[1,"w-fit","my-5","p-5","text-black","flex","flex-row"],[1,"flex","items-center","p-2"],["type","radio","name","priority","value","1","id","list-radio-high",1,"peer","hidden",3,"change"],["for","list-radio-high",1,"block","cursor-pointer","select-none","rounded-xl","p-2","text-center","peer-checked:bg-red-600","peer-checked:text-white"],["type","radio","name","priority","value","2","id","list-radio-medium",1,"peer","hidden",3,"change"],["for","list-radio-medium",1,"block","cursor-pointer","select-none","rounded-xl","p-2","text-center","peer-checked:bg-yellow-600","peer-checked:text-white"],["type","radio","value","3","name","priority","id","list-radio-low",1,"peer","hidden",3,"change"],["for","list-radio-low",1,"block","cursor-pointer","select-none","rounded-xl","p-2","text-center","peer-checked:bg-green-600","peer-checked:text-white"]],template:function(n,r){1&n&&(Y(0,"div",0)(1,"div",1)(2,"div",2),be(3),G(),Y(4,"input",3),he("ngModelChange",function(s){return r.modelChangeTitle(s)}),G(),Y(5,"div",4),dc(6,age,1,1,"div",5),G(),Y(7,"select",6),he("ngModelChange",function(s){return r.modelChangeProgress(s)}),Y(8,"option",7),be(9,"Pending"),G(),Y(10,"option",8),be(11,"In Progress"),G(),Y(12,"option",9),be(13,"Completed"),G()(),Y(14,"input",10),he("ngModelChange",function(s){return r.modelChangeDueDt(s)}),G(),Y(15,"div",11),he("click",function(){return r.toggleCollapse()}),be(16," ... "),G()(),dc(17,cge,10,4,"div",12),G()),2&n&&(vn("ngClass",r.visible?"bg-slate-300":"bg-transparent"),_n(3),A_(r.task.Sl),_n(1),vn("disabled",!r.edit)("ngModel",r.task.Title),_n(2),vn("ngIf",!r.edit),_n(1),vn("disabled",!r.edit)("ngModel",r.task.Progress),_n(7),vn("disabled",!r.edit)("ngModel",r.task.DueDt),_n(3),vn("ngIf",r.visible))},dependencies:[Mv,kP,FG,VG,Ed,vm,BS,_m]}),t})();function dge(t,e){if(1&t&&(Y(0,"ul")(1,"li"),er(2,"app-task-item",8),G()()),2&t){const n=e.$implicit;_n(2),vn("task",n)}}const hge=[{path:"",component:cpe,children:[{path:"add",component:oge},{path:"",component:(()=>{class t{constructor(n,r){this.service=n,this.store=r,this.tasks=[],this.order=[!0,!0,!0,!0,!0]}fetchData(){const n=this.store.select(ope),r=this.store.select(spe),i=this.store.select(ape);Cf([r,n]).subscribe(s=>{console.log(s),!s[0]&&!s[1]&&(this.store.dispatch(new Xfe),this.service.getTask().subscribe(o=>{this.store.dispatch(new Jfe({data:o}))}))}),i.subscribe(s=>{console.log(s),this.tasks=s})}sortSlNo(){this.tasks=this.order[0]?this.tasks.slice().sort((n,r)=>(n.Sl??0)-(r.Sl??0)):this.tasks.slice().sort((n,r)=>(r.Sl??0)-(n.Sl??0)),this.order[0]=!this.order[0]}sortTitle(){this.tasks=this.order[1]?this.tasks.slice().sort((n,r)=>n.Title.localeCompare(r.Title)):this.tasks.slice().sort((n,r)=>r.Title.localeCompare(n.Title)),this.order[1]=!this.order[1]}sortPriority(){this.tasks=this.order[2]?this.tasks.slice().sort((n,r)=>n.Priority.localeCompare(r.Priority)):this.tasks.slice().sort((n,r)=>r.Priority.localeCompare(n.Priority)),this.order[2]=!this.order[2]}sortDueDate(){this.tasks=this.tasks.sort(this.order[3]?(n,r)=>{const i=new Date(n.DueDt),s=new Date(r.DueDt);return i.getTime()-s.getTime()}:(n,r)=>{const i=new Date(r.DueDt),s=new Date(n.DueDt);return i.getTime()-s.getTime()}),this.order[3]=!this.order[3]}sortStatus(){this.tasks=this.order[4]?this.tasks.slice().sort((n,r)=>n.Progress.localeCompare(r.Progress)):this.tasks.slice().sort((n,r)=>r.Progress.localeCompare(n.Progress)),this.order[4]=!this.order[4]}ngOnInit(){this.fetchData()}}return t.\u0275fac=function(n){return new(n||t)(C(em),C(vd))},t.\u0275cmp=Es({type:t,selectors:[["app-task-list"]],decls:16,vars:1,consts:[[1,"flex","h-[15%]","flex-row","max-md:text-xs","w-full","p-2","m-0.5","shadow","text-center"],[1,"w-[10%]","m-1","p-1",3,"click"],[1,"w-[30%]","m-1","p-1",3,"click"],[1,"w-[20%]","m-1","p-1",3,"click"],[1,"w-[12%]","m-1","p-1"],["src","../../../assets/sort.png","alt","Sort","srcset","",1,"w-[4vh]","m-auto"],[4,"ngFor","ngForOf"],[1,"w-full","fixed","bottom-0","max-md:p-2","max-md:text-xs","p-4","text-lg","text-black","bg-slate-400","text-center"],[3,"task"]],template:function(n,r){1&n&&(Y(0,"div",0)(1,"div",1),he("click",function(){return r.sortSlNo()}),be(2,"Sl No."),G(),Y(3,"div",2),he("click",function(){return r.sortTitle()}),be(4,"Title"),G(),Y(5,"div",3),he("click",function(){return r.sortPriority()}),be(6,"Priority"),G(),Y(7,"div",3),he("click",function(){return r.sortStatus()}),be(8,"Status"),G(),Y(9,"div",3),he("click",function(){return r.sortDueDate()}),be(10,"Due Date"),G(),Y(11,"div",4),er(12,"img",5),G()(),dc(13,dge,3,1,"ul",6),Y(14,"div",7),be(15," rsunirban@gmail.com "),G()),2&n&&(_n(13),vn("ngForOf",r.tasks))},dependencies:[xP,lge]}),t})()}]}];let fge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Lt({imports:[pF.forRoot(hge),pF]}),t})();const pge={apiKey:"AIzaSyDQyp-e9fUXf5bcE0ApenHYu4dn3ocmXHE",authDomain:"task-management-system-sr.firebaseapp.com",projectId:"task-management-system-sr",storageBucket:"task-management-system-sr.appspot.com",messagingSenderId:"591575752605",appId:"1:591575752605:web:619e372a4c6809fb929974",measurementId:"G-EMXVN8Q2W3"};let gge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zt({type:t,bootstrap:[gZ]}),t.\u0275inj=Lt({providers:[em],imports:[PY,sge,die(()=>hie(pge)),Nhe(()=>Vhe()),Yfe.forRoot(ipe),fge]}),t})();kY().bootstrapModule(gge).catch(t=>console.error(t))}},Ce=>{Ce(Ce.s=429)}]);