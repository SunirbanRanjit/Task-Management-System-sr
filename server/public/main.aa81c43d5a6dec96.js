(self.webpackChunktask_management_system_sr=self.webpackChunktask_management_system_sr||[]).push([[179],{66:(Rs,ka,hr)=>{"use strict";function xe(t){return"function"==typeof t}function Hr(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Wi=Hr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ke(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class wt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(xe(r))try{r()}catch(s){e=s instanceof Wi?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Do(s)}catch(o){e=e??[],o instanceof Wi?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Wi(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Do(e);else{if(e instanceof wt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ke(n,e)}remove(e){const{_finalizers:n}=this;n&&ke(n,e),e instanceof wt&&e._removeParent(this)}}wt.EMPTY=(()=>{const t=new wt;return t.closed=!0,t})();const Gr=wt.EMPTY;function Zt(t){return t instanceof wt||t&&"closed"in t&&xe(t.remove)&&xe(t.add)&&xe(t.unsubscribe)}function Do(t){xe(t)?t():t.unsubscribe()}const Q={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ye={setTimeout(t,e,...n){const{delegate:r}=ye;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=ye;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function _e(t){ye.setTimeout(()=>{const{onUnhandledError:e}=Q;if(!e)throw t;e(t)})}function zt(){}const Ne=Ki("C",void 0,void 0);function Ki(t,e,n){return{kind:t,value:e,error:n}}let hn=null;function zr(t){if(Q.useDeprecatedSynchronousErrorHandling){const e=!hn;if(e&&(hn={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=hn;if(hn=null,n)throw r}}else t()}class Mr extends wt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Zt(e)&&e.add(this)):this.destination=$}static create(e,n,r){return new Oe(e,n,r)}next(e){this.isStopped?R(function ks(t){return Ki("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?R(function Mt(t){return Ki("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?R(Ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const kh=Function.prototype.bind;function bo(t,e){return kh.call(t,e)}class pi{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){E(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){E(r)}else E(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){E(n)}}}class Oe extends Mr{constructor(e,n,r){let i;if(super(),xe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Q.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&bo(e.next,s),error:e.error&&bo(e.error,s),complete:e.complete&&bo(e.complete,s)}):i=e}this.destination=new pi(i)}}function E(t){Q.useDeprecatedSynchronousErrorHandling?function Co(t){Q.useDeprecatedSynchronousErrorHandling&&hn&&(hn.errorThrown=!0,hn.error=t)}(t):_e(t)}function R(t,e){const{onStoppedNotification:n}=Q;n&&ye.setTimeout(()=>n(t,e))}const $={closed:!0,next:zt,error:function v(t){throw t},complete:zt},z="function"==typeof Symbol&&Symbol.observable||"@@observable";function Y(t){return t}function Ut(t){return 0===t.length?Y:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Z=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function ee(t){return t&&t instanceof Mr||function pt(t){return t&&xe(t.next)&&xe(t.error)&&xe(t.complete)}(t)&&Zt(t)}(n)?n:new Oe(n,r,i);return zr(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=W(r))((i,s)=>{const o=new Oe({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[z](){return this}pipe(...n){return Ut(n)(this)}toPromise(n){return new(n=W(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function W(t){var e;return null!==(e=t??Q.Promise)&&void 0!==e?e:Promise}const fr=Hr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ye=(()=>{class t extends Z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new H(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new fr}next(n){zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Gr:(this.currentObservers=null,s.push(n),new wt(()=>{this.currentObservers=null,ke(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Z;return n.source=this,n}}return t.create=(e,n)=>new H(e,n),t})();class H extends Ye{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Gr}}class ve extends Ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function qt(t){return xe(t?.lift)}function pe(t){return e=>{if(qt(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(t,e,n,r,i){return new Bt(t,e,n,r,i)}class Bt extends Mr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function X(t,e){return pe((n,r)=>{let i=0;n.subscribe(we(r,s=>{r.next(t.call(e,s,i++))}))})}function gt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function fn(t){return this instanceof fn?(this.v=t,this):new fn(t)}function Vn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function qr(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const KA=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function QA(t){return xe(t?.then)}function YA(t){return xe(t[z])}function JA(t){return Symbol.asyncIterator&&xe(t?.[Symbol.asyncIterator])}function XA(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ZA=function Uz(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function eM(t){return xe(t?.[ZA])}function tM(t){return function Kr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof fn?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield fn(n.read());if(i)return yield fn(void 0);yield yield fn(r)}}finally{n.releaseLock()}})}function nM(t){return xe(t?.getReader)}function gr(t){if(t instanceof Z)return t;if(null!=t){if(YA(t))return function Bz(t){return new Z(e=>{const n=t[z]();if(xe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(KA(t))return function jz(t){return new Z(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(QA(t))return function $z(t){return new Z(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,_e)})}(t);if(JA(t))return rM(t);if(eM(t))return function Hz(t){return new Z(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(nM(t))return function Gz(t){return rM(tM(t))}(t)}throw XA(t)}function rM(t){return new Z(e=>{(function zz(t,e){var n,r,i,s;return function kr(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Vn(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Yi(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function pn(t,e,n=1/0){return xe(e)?pn((r,i)=>X((s,o)=>e(r,s,i,o))(gr(t(r,i))),n):("number"==typeof e&&(n=e),pe((r,i)=>function qz(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let y=!1;gr(n(g,l++)).subscribe(we(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const I=u.shift();o?Yi(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(we(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Oa(t=1/0){return pn(Y,t)}const mi=new Z(t=>t.complete());function Ty(t){return t[t.length-1]}function Sy(t){return xe(Ty(t))?t.pop():void 0}function Fc(t){return function Kz(t){return t&&xe(t.schedule)}(Ty(t))?t.pop():void 0}function Lc(t,e=0){return pe((n,r)=>{n.subscribe(we(r,i=>Yi(r,t,()=>r.next(i),e),()=>Yi(r,t,()=>r.complete(),e),i=>Yi(r,t,()=>r.error(i),e)))})}function Oh(t,e=0){return pe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function iM(t,e){if(!t)throw new Error("Iterable cannot be null");return new Z(n=>{Yi(n,e,()=>{const r=t[Symbol.asyncIterator]();Yi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function tn(t,e){return e?function t4(t,e){if(null!=t){if(YA(t))return function Yz(t,e){return gr(t).pipe(Oh(e),Lc(e))}(t,e);if(KA(t))return function Xz(t,e){return new Z(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(QA(t))return function Jz(t,e){return gr(t).pipe(Oh(e),Lc(e))}(t,e);if(JA(t))return iM(t,e);if(eM(t))return function Zz(t,e){return new Z(n=>{let r;return Yi(n,e,()=>{r=t[ZA](),Yi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>xe(r?.return)&&r.return()})}(t,e);if(nM(t))return function e4(t,e){return iM(tM(t),e)}(t,e)}throw XA(t)}(t,e):gr(t)}function se(...t){return tn(t,Fc(t))}function sM(t={}){const{connector:e=(()=>new Ye),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return pe((g,y)=>{c++,!d&&!l&&h();const I=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Ay(p,i))}),I.subscribe(y),!o&&c>0&&(o=new Oe({next:_=>I.next(_),error:_=>{d=!0,h(),a=Ay(f,n,_),I.error(_)},complete:()=>{l=!0,h(),a=Ay(f,r),I.complete()}}),gr(g).subscribe(o))})(s)}}function Ay(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Oe({next:()=>{r.unsubscribe(),t()}});return gr(e(...n)).subscribe(r)}function yi(t,e){return pe((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(we(r,u=>{i?.unsubscribe();let c=0;const l=s++;gr(t(u,l)).subscribe(i=we(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function oM(t,e=Y){return t=t??r4,pe((n,r)=>{let i,s=!0;n.subscribe(we(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function r4(t,e){return t===e}function Ge(t){for(let e in t)if(t[e]===Ge)return e;throw Error("Could not find renamed property on target object.")}function Ph(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function My(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const i4=Ge({__forward_ref__:Ge});function rt(t){return t.__forward_ref__=rt,t.toString=function(){return Wt(this())},t}function oe(t){return xy(t)?t():t}function xy(t){return"function"==typeof t&&t.hasOwnProperty(i4)&&t.__forward_ref__===rt}function Ry(t){return t&&!!t.\u0275providers}const aM="https://g.co/ng/security#xss";class M extends Error{constructor(e,n){super(function Fh(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ce(t){return"string"==typeof t?t:null==t?"":String(t)}function Lh(t,e){throw new M(-201,!1)}function Nr(t,e){null==t&&function Le(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function K(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Dn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Vh(t){return uM(t,Uh)||uM(t,lM)}function uM(t,e){return t.hasOwnProperty(e)?t[e]:null}function cM(t){return t&&(t.hasOwnProperty(ky)||t.hasOwnProperty(h4))?t[ky]:null}const Uh=Ge({\u0275prov:Ge}),ky=Ge({\u0275inj:Ge}),lM=Ge({ngInjectableDef:Ge}),h4=Ge({ngInjectorDef:Ge});var Ee=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ee||{});let Ny;function dM(){return Ny}function Xn(t){const e=Ny;return Ny=t,e}function hM(t,e,n){const r=Vh(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ee.Optional?null:void 0!==e?e:void Lh(Wt(t))}const Ze=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Vc={},Oy="__NG_DI_FLAG__",Bh="ngTempTokenPath",p4=/\n/gm,fM="__source";let Pa;function Os(t){const e=Pa;return Pa=t,e}function y4(t,e=Ee.Default){if(void 0===Pa)throw new M(-203,!1);return null===Pa?hM(t,void 0,e):Pa.get(t,e&Ee.Optional?null:void 0,e)}function F(t,e=Ee.Default){return(dM()||y4)(oe(t),e)}function k(t,e=Ee.Default){return F(t,jh(e))}function jh(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Py(t){const e=[];for(let n=0;n<t.length;n++){const r=oe(t[n]);if(Array.isArray(r)){if(0===r.length)throw new M(900,!1);let i,s=Ee.Default;for(let o=0;o<r.length;o++){const a=r[o],u=_4(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(F(i,s))}else e.push(F(r))}return e}function Uc(t,e){return t[Oy]=e,t.prototype[Oy]=e,t}function _4(t){return t[Oy]}function Ji(t){return{toString:t}.toString()}var $h=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}($h||{}),Qr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qr||{});const _i={},Pe=[],Hh=Ge({\u0275cmp:Ge}),Fy=Ge({\u0275dir:Ge}),Ly=Ge({\u0275pipe:Ge}),gM=Ge({\u0275mod:Ge}),Xi=Ge({\u0275fac:Ge}),Bc=Ge({__NG_ELEMENT_ID__:Ge}),mM=Ge({__NG_ENV_ID__:Ge});function yM(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Vy(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];vM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function _M(t){return 3===t||4===t||6===t}function vM(t){return 64===t.charCodeAt(0)}function jc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||wM(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function wM(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const EM="ng-template";function E4(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==yM(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function IM(t){return 4===t.type&&t.value!==EM}function I4(t,e,n){return e===(4!==t.type||n?t.value:EM)}function D4(t,e,n){let r=4;const i=t.attrs||[],s=function T4(t){for(let e=0;e<t.length;e++)if(_M(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!I4(t,u,n)||""===u&&1===e.length){if(Yr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!E4(t.attrs,c,n)){if(Yr(r))return!1;o=!0}continue}const d=C4(8&r?"class":u,i,IM(t),n);if(-1===d){if(Yr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==yM(f,c,0)||2&r&&c!==h){if(Yr(r))return!1;o=!0}}}}else{if(!o&&!Yr(r)&&!Yr(u))return!1;if(o&&Yr(u))continue;o=!1,r=u|1&r}}return Yr(r)||o}function Yr(t){return 0==(1&t)}function C4(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function S4(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function DM(t,e,n=!1){for(let r=0;r<e.length;r++)if(D4(t,e[r],n))return!0;return!1}function CM(t,e){return t?":not("+e.trim()+")":e}function M4(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Yr(o)&&(e+=CM(s,i),i=""),r=o,s=s||!Yr(r);n++}return""!==i&&(e+=CM(s,i)),e}function So(t){return Ji(()=>{const e=TM(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===$h.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qr.Emulated,styles:t.styles||Pe,_:null,schemas:t.schemas||null,tView:null,id:""};SM(n);const r=t.dependencies;return n.directiveDefs=Gh(r,!1),n.pipeDefs=Gh(r,!0),n.id=function L4(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function N4(t){return Ve(t)||Cn(t)}function O4(t){return null!==t}function Un(t){return Ji(()=>({type:t.type,bootstrap:t.bootstrap||Pe,declarations:t.declarations||Pe,imports:t.imports||Pe,exports:t.exports||Pe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function bM(t,e){if(null==t)return _i;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function re(t){return Ji(()=>{const e=TM(t);return SM(e),e})}function Ve(t){return t[Hh]||null}function Cn(t){return t[Fy]||null}function er(t){return t[Ly]||null}function yr(t,e){const n=t[gM]||null;if(!n&&!0===e)throw new Error(`Type ${Wt(t)} does not have '\u0275mod' property.`);return n}function TM(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||_i,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Pe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bM(t.inputs,e),outputs:bM(t.outputs)}}function SM(t){t.features?.forEach(e=>e(t))}function Gh(t,e){if(!t)return null;const n=e?er:N4;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(O4)}const Kt=0,V=1,de=2,mt=3,Jr=4,$c=5,bn=6,La=7,xt=8,Va=9,Ao=10,he=11,Hc=12,AM=13,Ua=14,Rt=15,Gc=16,Ba=17,vi=18,zc=19,MM=20,Ps=21,Zi=22,zh=23,qh=24,Ie=25,Uy=1,xM=2,wi=7,ja=9,Tn=11;function _r(t){return Array.isArray(t)&&"object"==typeof t[Uy]}function tr(t){return Array.isArray(t)&&!0===t[Uy]}function By(t){return 0!=(4&t.flags)}function Mo(t){return t.componentOffset>-1}function Kh(t){return 1==(1&t.flags)}function Xr(t){return!!t.template}function jy(t){return 0!=(512&t[de])}function xo(t,e){return t.hasOwnProperty(Xi)?t[Xi]:null}const NM=Symbol("SIGNAL");function $y(t,e,n={}){return e[NM]=t,Object.assign(e,n)}function OM(t,e){return(null===t||"object"!=typeof t)&&Object.is(t,e)}let H4=Ze.WeakRef??class $4{constructor(e){this.ref=e}deref(){return this.ref}},z4=0,Ei=null,Qh=!1;function nn(t){const e=Ei;return Ei=t,e}class Yh{constructor(){this.id=z4++,this.ref=function G4(t){return new H4(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Qh;Qh=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{Qh=e}}producerAccessed(){if(Qh)throw new Error("");if(null===Ei)return;let e=Ei.producers.get(this.id);void 0===e?(e={consumerNode:Ei.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ei.trackingVersion},Ei.producers.set(this.id,e),this.consumers.set(Ei.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Ei.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Ei?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}function PM(t,e){const n=new q4(t,e?.equal??OM);return $y(n,n.signal.bind(n))}const Hy=Symbol("UNSET"),Gy=Symbol("COMPUTING"),Jh=Symbol("ERRORED");class q4 extends Yh{constructor(e,n){super(),this.computation=e,this.equal=n,this.value=Hy,this.error=null,this.stale=!0,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){this.stale||(this.stale=!0,this.producerMayHaveChanged())}onProducerUpdateValueVersion(){if(this.stale){if(this.value!==Hy&&this.value!==Gy&&!this.consumerPollProducersForChange())return void(this.stale=!1);this.recomputeValue()}}recomputeValue(){if(this.value===Gy)throw new Error("Detected cycle in computations.");const e=this.value;this.value=Gy,this.trackingVersion++;const n=nn(this);let r;try{r=this.computation()}catch(i){r=Jh,this.error=i}finally{nn(n)}this.stale=!1,e!==Hy&&e!==Jh&&r!==Jh&&this.equal(e,r)?this.value=e:(this.value=r,this.valueVersion++)}signal(){if(this.onProducerUpdateValueVersion(),this.producerAccessed(),this.value===Jh)throw this.error;return this.value}}let FM=function W4(){throw new Error};function zy(){FM()}class Q4 extends Yh{constructor(e,n){super(),this.value=e,this.equal=n,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){}onProducerUpdateValueVersion(){}set(e){this.producerUpdatesAllowed||zy(),this.equal(this.value,e)||(this.value=e,this.valueVersion++,this.producerMayHaveChanged())}update(e){this.producerUpdatesAllowed||zy(),this.set(e(this.value))}mutate(e){this.producerUpdatesAllowed||zy(),e(this.value),this.valueVersion++,this.producerMayHaveChanged()}asReadonly(){return void 0===this.readonlySignal&&(this.readonlySignal=$y(this,()=>this.signal())),this.readonlySignal}signal(){return this.producerAccessed(),this.value}}const UM=()=>{};class Y4 extends Yh{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=UM,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=nn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=UM,this.watch(this.registerOnCleanup)}finally{nn(e)}}cleanup(){this.cleanupFn()}}class J4{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Or(){return BM}function BM(t){return t.type.prototype.ngOnChanges&&(t.setInput=Z4),X4}function X4(){const t=$M(this),e=t?.current;if(e){const n=t.previous;if(n===_i)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Z4(t,e,n,r){const i=this.declaredInputs[n],s=$M(t)||function eq(t,e){return t[jM]=e}(t,{previous:_i,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new J4(u&&u.currentValue,e,a===_i),t[r]=e}Or.ngInherit=!0;const jM="__ngSimpleChanges__";function $M(t){return t[jM]||null}const Ii=function(t,e,n){};function at(t){for(;Array.isArray(t);)t=t[Kt];return t}function Zh(t,e){return at(e[t])}function nr(t,e){return at(e[t.index])}function zM(t,e){return t.data[e]}function vr(t,e){const n=e[t];return _r(n)?n:n[Kt]}function Fs(t,e){return null==e?null:t[e]}function qM(t){t[Ba]=0}function aq(t){1024&t[de]||(t[de]|=1024,KM(t,1))}function WM(t){1024&t[de]&&(t[de]&=-1025,KM(t,-1))}function KM(t,e){let n=t[mt];if(null===n)return;n[$c]+=e;let r=n;for(n=n[mt];null!==n&&(1===e&&1===r[$c]||-1===e&&0===r[$c]);)n[$c]+=e,r=n,n=n[mt]}function QM(t,e){if(256==(256&t[de]))throw new M(911,!1);null===t[Ps]&&(t[Ps]=[]),t[Ps].push(e)}const ne={lFrame:sx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function JM(){return ne.bindingsEnabled}function C(){return ne.lFrame.lView}function Te(){return ne.lFrame.tView}function Ls(t){return ne.lFrame.contextLView=t,t[xt]}function Vs(t){return ne.lFrame.contextLView=null,t}function gn(){let t=XM();for(;null!==t&&64===t.type;)t=t.parent;return t}function XM(){return ne.lFrame.currentTNode}function Di(t,e){const n=ne.lFrame;n.currentTNode=t,n.isParent=e}function Wy(){return ne.lFrame.isParent}function Ky(){ne.lFrame.isParent=!1}function Ga(){return ne.lFrame.bindingIndex++}function vq(t,e){const n=ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,Qy(e)}function Qy(t){ne.lFrame.currentDirectiveIndex=t}function nx(){return ne.lFrame.currentQueryIndex}function Jy(t){ne.lFrame.currentQueryIndex=t}function Eq(t){const e=t[V];return 2===e.type?e.declTNode:1===e.type?t[bn]:null}function rx(t,e,n){if(n&Ee.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&Ee.Host||(i=Eq(s),null===i||(s=s[Ua],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ne.lFrame=ix();return r.currentTNode=e,r.lView=t,!0}function Xy(t){const e=ix(),n=t[V];ne.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ix(){const t=ne.lFrame,e=null===t?null:t.child;return null===e?sx(t):e}function sx(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ox(){const t=ne.lFrame;return ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ax=ox;function Zy(){const t=ox();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function jn(){return ne.lFrame.selectedIndex}function Ro(t){ne.lFrame.selectedIndex=t}function yt(){const t=ne.lFrame;return zM(t.tView,t.selectedIndex)}let cx=!0;function ef(){return cx}function Us(t){cx=t}function tf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function nf(t,e,n){lx(t,e,3,n)}function rf(t,e,n,r){(3&t[de])===n&&lx(t,e,n,r)}function e_(t,e){let n=t[de];(3&n)===e&&(n&=8191,n+=1,t[de]=n)}function lx(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Ba]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Ba]+=65536),(a<s||-1==s)&&(Mq(t,n,e,u),t[Ba]=(4294901760&t[Ba])+u+2),u++}function dx(t,e){Ii(4,t,e);const n=nn(null);try{e.call(t)}finally{nn(n),Ii(5,t,e)}}function Mq(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[de]>>13<t[Ba]>>16&&(3&t[de])===e&&(t[de]+=8192,dx(a,s)):dx(a,s)}const za=-1;class Kc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function hx(t){return t!==za}function sf(t){return 32767&t}function af(t,e){let n=function Nq(t){return t>>16}(t),r=e;for(;n>0;)r=r[Ua],n--;return r}let n_=!0;function uf(t){const e=n_;return n_=t,e}const fx=255,px=5;let Oq=0;const Ci={};function cf(t,e){const n=gx(t,e);if(-1!==n)return n;const r=e[V];r.firstCreatePass&&(t.injectorIndex=e.length,r_(r.data,t),r_(e,null),r_(r.blueprint,null));const i=i_(t,e),s=t.injectorIndex;if(hx(i)){const o=sf(i),a=af(i,e),u=a[V].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function r_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function gx(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function i_(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Ix(i),null===r)return za;if(n++,i=i[Ua],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return za}function s_(t,e,n){!function Pq(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Bc)&&(r=n[Bc]),null==r&&(r=n[Bc]=Oq++);const i=r&fx;e.data[t+(i>>px)]|=1<<i}(t,e,n)}function mx(t,e,n){if(n&Ee.Optional||void 0!==t)return t;Lh()}function yx(t,e,n,r){if(n&Ee.Optional&&void 0===r&&(r=null),!(n&(Ee.Self|Ee.Host))){const i=t[Va],s=Xn(void 0);try{return i?i.get(e,r,n&Ee.Optional):hM(e,r,n&Ee.Optional)}finally{Xn(s)}}return mx(r,0,n)}function _x(t,e,n,r=Ee.Default,i){if(null!==t){if(2048&e[de]&&!(r&Ee.Self)){const o=function Bq(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[de]&&!(512&o[de]);){const a=vx(s,o,n,r|Ee.Self,Ci);if(a!==Ci)return a;let u=s.parent;if(!u){const c=o[MM];if(c){const l=c.get(n,Ci,r);if(l!==Ci)return l}u=Ix(o),o=o[Ua]}s=u}return i}(t,e,n,r,Ci);if(o!==Ci)return o}const s=vx(t,e,n,r,Ci);if(s!==Ci)return s}return yx(e,n,r,i)}function vx(t,e,n,r,i){const s=function Vq(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Bc)?t[Bc]:void 0;return"number"==typeof e?e>=0?e&fx:Uq:e}(n);if("function"==typeof s){if(!rx(e,t,r))return r&Ee.Host?mx(i,0,r):yx(e,n,r,i);try{const o=s(r);if(null!=o||r&Ee.Optional)return o;Lh()}finally{ax()}}else if("number"==typeof s){let o=null,a=gx(t,e),u=za,c=r&Ee.Host?e[Rt][bn]:null;for((-1===a||r&Ee.SkipSelf)&&(u=-1===a?i_(t,e):e[a+8],u!==za&&Ex(r,!1)?(o=e[V],a=sf(u),e=af(u,e)):a=-1);-1!==a;){const l=e[V];if(wx(s,a,l.data)){const d=Lq(a,e,n,o,r,c);if(d!==Ci)return d}u=e[a+8],u!==za&&Ex(r,e[V].data[a+8]===c)&&wx(s,a,e)?(o=l,a=sf(u),e=af(u,e)):a=-1}}return i}function Lq(t,e,n,r,i,s){const o=e[V],a=o.data[t+8],l=lf(a,o,n,null==r?Mo(a)&&n_:r!=o&&0!=(3&a.type),i&Ee.Host&&s===a);return null!==l?ko(e,o,l,a):Ci}function lf(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Xr(f)&&f.type===n)return u}return null}function ko(t,e,n,r){let i=t[n];const s=e.data;if(function xq(t){return t instanceof Kc}(i)){const o=i;o.resolving&&function s4(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new M(-200,`Circular dependency in DI detected for ${t}${n}`)}(function $e(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ce(t)}(s[n]));const a=uf(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Xn(o.injectImpl):null;rx(t,r,Ee.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Aq(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=BM(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&Xn(u),uf(a),o.resolving=!1,ax()}}return i}function wx(t,e,n){return!!(n[e+(t>>px)]&1<<t)}function Ex(t,e){return!(t&Ee.Self||t&Ee.Host&&e)}class qa{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return _x(this._tNode,this._lView,e,jh(r),n)}}function Uq(){return new qa(gn(),C())}function rn(t){return Ji(()=>{const e=t.prototype.constructor,n=e[Xi]||o_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Xi]||o_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function o_(t){return xy(t)?()=>{const e=o_(oe(t));return e&&e()}:xo(t)}function Ix(t){const e=t[V],n=e.type;return 2===n?e.declTNode:1===n?t[bn]:null}const Ka="__parameters__";function Ya(t,e,n){return Ji(()=>{const r=function a_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Ka)?u[Ka]:Object.defineProperty(u,Ka,{value:[]})[Ka];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Yc(t,e){t.forEach(n=>Array.isArray(n)?Yc(n,e):e(n))}function Cx(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function wr(t,e,n){let r=Xa(t,e);return r>=0?t[1|r]=n:(r=~r,function Wq(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function u_(t,e){const n=Xa(t,e);if(n>=0)return t[1|n]}function Xa(t,e){return function bx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const l_=Uc(Ya("Inject",t=>({token:t})),-1),rr=Uc(Ya("Optional"),8),pf=Uc(Ya("SkipSelf"),4);function vf(t){return 128==(128&t.flags)}var Bs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Bs||{});const f3=/^>|^->|<!--|-->|--!>|<!-$/g,p3=/(<|>)/,g3="\u200b$1\u200b";const p_=new Map;let m3=0;const m_="__ngContext__";function Sn(t,e){_r(e)?(t[m_]=e[zc],function _3(t){p_.set(t[zc],t)}(e)):t[m_]=e}let y_;function __(t,e){return y_(t,e)}function el(t){const e=t[mt];return tr(e)?e[mt]:e}function zx(t){return Wx(t[Hc])}function qx(t){return Wx(t[Jr])}function Wx(t){for(;null!==t&&!tr(t);)t=t[Jr];return t}function tu(t,e,n,r,i){if(null!=r){let s,o=!1;tr(r)?s=r:_r(r)&&(o=!0,r=r[Kt]);const a=at(r);0===t&&null!==n?null==i?Xx(e,n,a):No(e,n,a,i||null,!0):1===t&&null!==n?No(e,n,a,i||null,!0):2===t?function bf(t,e,n){const r=Df(t,e);r&&function L3(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function B3(t,e,n,r,i){const s=n[wi];s!==at(n)&&tu(e,t,r,s,i);for(let a=Tn;a<n.length;a++){const u=n[a];nl(u[V],u,t,e,r,s)}}(e,t,s,n,i)}}function v_(t,e){return t.createComment(function Lx(t){return t.replace(f3,e=>e.replace(p3,g3))}(e))}function If(t,e,n){return t.createElement(e,n)}function Qx(t,e){const n=t[ja],r=n.indexOf(e);WM(e),n.splice(r,1)}function w_(t,e){if(t.length<=Tn)return;const n=Tn+e,r=t[n];if(r){const i=r[Gc];null!==i&&i!==t&&Qx(i,r),e>0&&(t[n-1][Jr]=r[Jr]);const s=hf(t,Tn+e);!function M3(t,e){nl(t,e,e[he],2,null,null),e[Kt]=null,e[bn]=null}(r[V],r);const o=s[vi];null!==o&&o.detachView(s[V]),r[mt]=null,r[Jr]=null,r[de]&=-129}return r}function Yx(t,e){if(!(256&e[de])){const n=e[he];e[zh]?.destroy(),e[qh]?.destroy(),n.destroyNode&&nl(t,e,n,3,null,null),function k3(t){let e=t[Hc];if(!e)return E_(t[V],t);for(;e;){let n=null;if(_r(e))n=e[Hc];else{const r=e[Tn];r&&(n=r)}if(!n){for(;e&&!e[Jr]&&e!==t;)_r(e)&&E_(e[V],e),e=e[mt];null===e&&(e=t),_r(e)&&E_(e[V],e),n=e&&e[Jr]}e=n}}(e)}}function E_(t,e){if(!(256&e[de])){e[de]&=-129,e[de]|=256,function F3(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Kc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Ii(4,a,u);try{u.call(a)}finally{Ii(5,a,u)}}else{Ii(4,i,s);try{s.call(i)}finally{Ii(5,i,s)}}}}}(t,e),function P3(t,e){const n=t.cleanup,r=e[La];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[La]=null);const i=e[Ps];if(null!==i){e[Ps]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[V].type&&e[he].destroy();const n=e[Gc];if(null!==n&&tr(e[mt])){n!==e[mt]&&Qx(n,e);const r=e[vi];null!==r&&r.detachView(t)}!function v3(t){p_.delete(t[zc])}(e)}}function I_(t,e,n){return function Jx(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Kt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Qr.None||s===Qr.Emulated)return null}return nr(r,n)}}(t,e.parent,n)}function No(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Xx(t,e,n){t.appendChild(e,n)}function Zx(t,e,n,r,i){null!==r?No(t,e,n,r,i):Xx(t,e,n)}function Df(t,e){return t.parentNode(e)}let D_,S_,Sf,nR=function tR(t,e,n){return 40&t.type?nr(t,n):null};function Cf(t,e,n,r){const i=I_(t,r,e),s=e[he],a=function eR(t,e,n){return nR(t,e,n)}(r.parent||e[bn],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Zx(s,i,n[u],a,!1);else Zx(s,i,n,a,!1);void 0!==D_&&D_(s,r,e,n,i)}function tl(t,e){if(null!==e){const n=e.type;if(3&n)return nr(e,t);if(4&n)return C_(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return tl(t,r);{const i=t[e.index];return tr(i)?C_(-1,i):at(i)}}if(32&n)return __(e,t)()||at(t[e.index]);{const r=iR(t,e);return null!==r?Array.isArray(r)?r[0]:tl(el(t[Rt]),r):tl(t,e.next)}}return null}function iR(t,e){return null!==e?t[Rt][bn].projection[e.projection]:null}function C_(t,e){const n=Tn+t+1;if(n<e.length){const r=e[n],i=r[V].firstChild;if(null!==i)return tl(r,i)}return e[wi]}function b_(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Sn(at(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)b_(t,e,n.child,r,i,s,!1),tu(e,t,i,a,s);else if(32&u){const c=__(n,r);let l;for(;l=c();)tu(e,t,i,l,s);tu(e,t,i,a,s)}else 16&u?oR(t,e,r,n,i,s):tu(e,t,i,a,s);n=o?n.projectionNext:n.next}}function nl(t,e,n,r,i,s){b_(n,r,t.firstChild,e,i,s,!1)}function oR(t,e,n,r,i,s){const o=n[Rt],u=o[bn].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)tu(e,t,i,u[c],s);else{let c=u;const l=o[mt];vf(r)&&(c.flags|=128),b_(t,e,c,l,i,s,!0)}}function aR(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function uR(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Vy(t,e,r),null!==i&&aR(t,e,i),null!==s&&function $3(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function dR(t){return function A_(){if(void 0===Sf&&(Sf=null,Ze.trustedTypes))try{Sf=Ze.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Sf}()?.createScriptURL(t)||t}class hR{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${aM})`}}function js(t){return t instanceof hR?t.changingThisBreaksApplicationSecurity:t}function il(t,e){const n=function X3(t){return t instanceof hR&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${aM})`)}return n===e}const n6=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ru=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ru||{});function vR(t){const e=ol();return e?e.sanitize(ru.URL,t)||"":il(t,"URL")?js(t):function M_(t){return(t=String(t)).match(n6)?t:"unsafe:"+t}(ce(t))}function wR(t){const e=ol();if(e)return dR(e.sanitize(ru.RESOURCE_URL,t)||"");if(il(t,"ResourceURL"))return dR(js(t));throw new M(904,!1)}function ol(){const t=C();return t&&t[Ao].sanitizer}class x{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=K({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Oo=new x("ENVIRONMENT_INITIALIZER"),IR=new x("INJECTOR",-1),DR=new x("INJECTOR_DEF_TYPES");class CR{get(e,n=Vc){if(n===Vc){const r=new Error(`NullInjectorError: No provider for ${Wt(e)}!`);throw r.name="NullInjectorError",r}return n}}function g6(...t){return{\u0275providers:TR(0,t),\u0275fromNgModule:!0}}function TR(t,...e){const n=[],r=new Set;let i;return Yc(e,s=>{const o=s;N_(o,n,[],r)&&(i||=[],i.push(o))}),void 0!==i&&SR(i,n),n}function SR(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];O_(i,s=>{e.push(s)})}}function N_(t,e,n,r){if(!(t=oe(t)))return!1;let i=null,s=cM(t);const o=!s&&Ve(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=cM(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)N_(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Yc(s.imports,l=>{N_(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&SR(c,e)}if(!a){const c=xo(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Pe},{provide:DR,useValue:i,multi:!0},{provide:Oo,useValue:()=>F(i),multi:!0})}const u=s.providers;null==u||a||O_(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function O_(t,e){for(let n of t)Ry(n)&&(n=n.\u0275providers),Array.isArray(n)?O_(n,e):e(n)}const m6=Ge({provide:String,useValue:Ge});function P_(t){return null!==t&&"object"==typeof t&&m6 in t}function Po(t){return"function"==typeof t}const F_=new x("Set Injector scope."),Mf={},_6={};let L_;function xf(){return void 0===L_&&(L_=new CR),L_}class rs{}class V_ extends rs{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,B_(e,o=>this.processProvider(o)),this.records.set(IR,iu(void 0,this)),i.has("environment")&&this.records.set(rs,iu(void 0,this));const s=this.records.get(F_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(DR.multi,Pe,Ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Os(this),r=Xn(void 0);try{return e()}finally{Os(n),Xn(r)}}get(e,n=Vc,r=Ee.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(mM))return e[mM](this);r=jh(r);const i=Os(this),s=Xn(void 0);try{if(!(r&Ee.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function D6(t){return"function"==typeof t||"object"==typeof t&&t instanceof x}(e)&&Vh(e);a=u&&this.injectableDefInScope(u)?iu(U_(e),Mf):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Ee.Self?xf():this.parent).get(e,n=r&Ee.Optional&&n===Vc?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Bh]=o[Bh]||[]).unshift(Wt(e)),i)throw o;return function v4(t,e,n,r){const i=t[Bh];throw e[fM]&&i.unshift(e[fM]),t.message=function w4(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Wt(e);if(Array.isArray(e))i=e.map(Wt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Wt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(p4,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Bh]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Xn(s),Os(i)}}resolveInjectorInitializers(){const e=Os(this),n=Xn(void 0);try{const r=this.get(Oo.multi,Pe,Ee.Self);for(const i of r)i()}finally{Os(e),Xn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Wt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(e){let n=Po(e=oe(e))?e:oe(e&&e.provide);const r=function w6(t){return P_(t)?iu(void 0,t.useValue):iu(xR(t),Mf)}(e);if(Po(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=iu(void 0,Mf,!0),i.factory=()=>Py(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Mf&&(n.value=_6,n.value=n.factory()),"object"==typeof n.value&&n.value&&function I6(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=oe(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function U_(t){const e=Vh(t),n=null!==e?e.factory:xo(t);if(null!==n)return n;if(t instanceof x)throw new M(204,!1);if(t instanceof Function)return function v6(t){const e=t.length;if(e>0)throw function Jc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new M(204,!1);const n=function d4(t){return t&&(t[Uh]||t[lM])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new M(204,!1)}function xR(t,e,n){let r;if(Po(t)){const i=oe(t);return xo(i)||U_(i)}if(P_(t))r=()=>oe(t.useValue);else if(function MR(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Py(t.deps||[]));else if(function AR(t){return!(!t||!t.useExisting)}(t))r=()=>F(oe(t.useExisting));else{const i=oe(t&&(t.useClass||t.provide));if(!function E6(t){return!!t.deps}(t))return xo(i)||U_(i);r=()=>new i(...Py(t.deps))}return r}function iu(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function B_(t,e){for(const n of t)Array.isArray(n)?B_(n,e):n&&Ry(n)?B_(n.\u0275providers,e):e(n)}const Rf=new x("AppId",{providedIn:"root",factory:()=>C6}),C6="ng",RR=new x("Platform Initializer"),$s=new x("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),kR=new x("CSP nonce",{providedIn:"root",factory:()=>function rl(){if(void 0!==S_)return S_;if(typeof document<"u")return document;throw new M(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let OR=(t,e)=>null;function PR(t,e){return OR(t,e)}class N6{}class VR{}class P6{resolveComponentFactory(e){throw function O6(t){const e=Error(`No component factory found for ${Wt(t)}.`);return e.ngComponent=t,e}(e)}}let Ff=(()=>{class t{}return t.NULL=new P6,t})();function F6(){return ou(gn(),C())}function ou(t,e){return new Er(nr(t,e))}let Er=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=F6,t})();function L6(t){return t instanceof Er?t.nativeElement:t}class BR{}let is=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function V6(){const t=C(),n=vr(gn().index,t);return(_r(n)?n:t)[he]}(),t})(),U6=(()=>{class t{}return t.\u0275prov=K({token:t,providedIn:"root",factory:()=>null}),t})();class au{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const jR=new au("16.1.6"),J_={};function cl(t){for(;t;){t[de]|=64;const e=el(t);if(jy(t)&&!e)return t;t=e}return null}function X_(t){return t.ngOriginalError}class Fo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&X_(e);for(;n&&X_(n);)n=X_(n);return n||null}}const GR=new x("",{providedIn:"root",factory:()=>!1});function ss(t){return t instanceof Function?t():t}class QR extends Yh{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){cl(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=nn(this);this.trackingVersion++;try{e(n,r)}finally{nn(i)}}destroy(){this.trackingVersion++}}let Vf=null;function YR(){return Vf??=new QR,Vf}function JR(t,e){return t[e]??YR()}function XR(t,e){const n=YR();n.hasReadASignal&&(t[e]=Vf,n.lView=t,Vf=new QR)}const fe={};function sr(t){ZR(Te(),C(),jn()+t,!1)}function ZR(t,e,n,r){if(!r)if(3==(3&e[de])){const s=t.preOrderCheckHooks;null!==s&&nf(e,s,n)}else{const s=t.preOrderHooks;null!==s&&rf(e,s,0,n)}Ro(n)}function ik(t,e=null,n=null,r){const i=sk(t,e,n,r);return i.resolveInjectorInitializers(),i}function sk(t,e=null,n=null,r,i=new Set){const s=[n||Pe,g6(t)];return r=r||("object"==typeof t?void 0:Wt(t)),new V_(s,e||xf(),r||null,i)}let Ir=(()=>{class t{static create(n,r){if(Array.isArray(n))return ik({name:""},r,n,"");{const i=n.name??"";return ik({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Vc,t.NULL=new CR,t.\u0275prov=K({token:t,providedIn:"any",factory:()=>F(IR)}),t.__NG_ELEMENT_ID__=-1,t})();function T(t,e=Ee.Default){const n=C();return null===n?F(t,e):_x(gn(),n,oe(t),e)}function Uf(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Kt]=i,d[de]=140|r,(null!==c||t&&2048&t[de])&&(d[de]|=2048),qM(d),d[mt]=d[Ua]=t,d[xt]=n,d[Ao]=o||t&&t[Ao],d[he]=a||t&&t[he],d[Va]=u||t&&t[Va]||null,d[bn]=s,d[zc]=function y3(){return m3++}(),d[Zi]=l,d[MM]=c,d[Rt]=2==e.type?t[Rt]:d,d}function cu(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Z_(t,e,n,r,i){const s=XM(),o=Wy(),u=t.data[e]=function s5(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Ha(){return null!==ne.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function _q(){return ne.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Wc(){const t=ne.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Di(s,!0),s}function ll(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ak(t,e,n,r,i){const s=JR(e,zh),o=jn(),a=2&r;try{if(Ro(-1),a&&e.length>Ie&&ZR(t,e,Ie,!1),Ii(a?2:0,i),a)s.runInContext(n,r,i);else{const c=nn(null);try{n(r,i)}finally{nn(c)}}}finally{a&&null===e[zh]&&XR(e,zh),Ro(o),Ii(a?3:1,i)}}function ev(t,e,n){if(By(e)){const r=nn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{nn(r)}}}function tv(t,e,n){JM()&&(function h5(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Mo(n)&&function v5(t,e,n){const r=nr(e,t),i=uk(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Bf(t,Uf(t,i,null,o,r,e,null,t[Ao].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||cf(n,e),Sn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=ko(e,t,a,n);Sn(c,e),null!==o&&w5(0,a-i,c,u,0,o),Xr(u)&&(vr(n.index,e)[xt]=ko(e,t,a,n))}}(t,e,n,nr(n,e)),64==(64&n.flags)&&fk(t,e,n))}function nv(t,e,n=nr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function uk(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=rv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function rv(t,e,n,r,i,s,o,a,u,c,l){const d=Ie+r,h=d+i,f=function Z6(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:fe);return n}(d,h),p="function"==typeof c?c():c;return f[V]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let ck=t=>null;function lk(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?dk(n,e,i,s):r.hasOwnProperty(i)&&dk(n,e,r[i],s)}return n}function dk(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function iv(t,e,n,r){if(JM()){const i=null===r?null:{"":-1},s=function p5(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(DM(e,o.selectors,!1))if(r||(r=[]),Xr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),sv(t,e,a.length)}else r.unshift(o),sv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&hk(t,e,n,o,i,a),i&&function g5(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new M(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=jc(n.mergedAttrs,n.attrs)}function hk(t,e,n,r,i,s){for(let c=0;c<r.length;c++)s_(cf(n,e),t,r[c].type);!function y5(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=ll(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=jc(n.mergedAttrs,l.hostAttrs),_5(t,n,e,u,l),m5(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function o5(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=lk(d.inputs,l,u,h?h.inputs:null),c=lk(d.outputs,l,c,p);const g=null===u||null===o||IM(e)?null:E5(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function fk(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function wq(){return ne.lFrame.currentDirectiveIndex}();try{Ro(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Qy(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&f5(u,c)}}finally{Ro(-1),Qy(o)}}function f5(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function sv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function m5(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Xr(e)&&(n[""]=t)}}function _5(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=xo(i.type)),o=new Kc(s,Xr(i),T);t.blueprint[r]=o,n[r]=o,function l5(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function d5(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,ll(t,n,i.hostVars,fe),i)}function bi(t,e,n,r,i,s){const o=nr(t,e);!function ov(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?ce(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[he],o,s,t.value,n,r,i)}function w5(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)pk(r,n,o[a++],o[a++],o[a++])}function pk(t,e,n,r,i){const s=nn(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{nn(s)}}function E5(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function gk(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function mk(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Jy(n[r]),o.contentQueries(2,e[s],s)}}}function Bf(t,e){return t[Hc]?t[AM][Jr]=e:t[Hc]=e,t[AM]=e,e}function av(t,e,n){Jy(0);const r=nn(null);try{e(t,n)}finally{nn(r)}}function yk(t){return t[La]||(t[La]=[])}function _k(t){return t.cleanup||(t.cleanup=[])}function wk(t,e){const n=t[Va],r=n?n.get(Fo,null):null;r&&r.handleError(e)}function uv(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];pk(t.data[o],e[o],r,a,i)}}function I5(t,e){const n=vr(e,t),r=n[V];!function D5(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Kt];null!==i&&null===n[Zi]&&(n[Zi]=PR(i,n[Va])),cv(r,n,n[xt])}function cv(t,e,n){Xy(e);try{const r=t.viewQuery;null!==r&&av(1,r,n);const i=t.template;null!==i&&ak(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&mk(t,e),t.staticViewQueries&&av(2,t.viewQuery,n);const s=t.components;null!==s&&function C5(t,e){for(let n=0;n<e.length;n++)I5(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[de]&=-5,Zy()}}let jf=(()=>{class t{}return t.__NG_ELEMENT_ID__=T5,t.__NG_ENV_ID__=e=>e,t})();class b5 extends jf{constructor(e){super(),this._lView=e}onDestroy(e){return QM(this._lView,e),()=>function uq(t,e){if(null===t[Ps])return;const n=t[Ps].indexOf(e);-1!==n&&t[Ps].splice(n,1)}(this._lView,e)}}function T5(){return new b5(C())}let Ek=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new Y4(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=K({token:t,providedIn:"root",factory:()=>new t}),t})();function $f(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=My(i,a):2==s&&(r=My(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function dl(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(at(s)),tr(s)){for(let a=Tn;a<s.length;a++){const u=s[a],c=u[V].firstChild;null!==c&&dl(u[V],u,c,r)}s[wi]!==s[Kt]&&r.push(s[wi])}const o=n.type;if(8&o)dl(t,e,n.child,r);else if(32&o){const a=__(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=iR(e,n);if(Array.isArray(a))r.push(...a);else{const u=el(e[Rt]);dl(u[V],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Hf(t,e,n,r=!0){const i=e[Ao].rendererFactory;i.begin&&i.begin();try{Ik(t,e,t.template,n)}catch(o){throw r&&wk(e,o),o}finally{i.end&&i.end(),e[Ao].effectManager?.flush()}}function Ik(t,e,n,r){const i=e[de];if(256!=(256&i)){e[Ao].effectManager?.flush(),Xy(e);try{qM(e),function ex(t){return ne.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&ak(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&nf(e,c,null)}else{const c=t.preOrderHooks;null!==c&&rf(e,c,0,null),e_(e,0)}if(function M5(t){for(let e=zx(t);null!==e;e=qx(e)){if(!e[xM])continue;const n=e[ja];for(let r=0;r<n.length;r++){aq(n[r])}}}(e),Dk(e,2),null!==t.contentQueries&&mk(t,e),o){const c=t.contentCheckHooks;null!==c&&nf(e,c)}else{const c=t.contentHooks;null!==c&&rf(e,c,1),e_(e,1)}!function X6(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=JR(e,qh);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Ro(~s);else{const o=s,a=n[++i],u=n[++i];vq(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[qh]&&XR(e,qh),Ro(-1)}}(t,e);const a=t.components;null!==a&&bk(e,a,0);const u=t.viewQuery;if(null!==u&&av(2,u,r),o){const c=t.viewCheckHooks;null!==c&&nf(e,c)}else{const c=t.viewHooks;null!==c&&rf(e,c,2),e_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[de]&=-73,WM(e)}finally{Zy()}}}function Dk(t,e){for(let n=zx(t);null!==n;n=qx(n))for(let r=Tn;r<n.length;r++)Ck(n[r],e)}function x5(t,e,n){Ck(vr(e,t),n)}function Ck(t,e){if(!function sq(t){return 128==(128&t[de])}(t))return;const n=t[V];if(80&t[de]&&0===e||1024&t[de]||2===e)Ik(n,t,n.template,t[xt]);else if(t[$c]>0){Dk(t,1);const i=t[V].components;null!==i&&bk(t,i,1)}}function bk(t,e,n){for(let r=0;r<e.length;r++)x5(t,e[r],n)}class hl{get rootNodes(){const e=this._lView,n=e[V];return dl(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xt]}set context(e){this._lView[xt]=e}get destroyed(){return 256==(256&this._lView[de])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[mt];if(tr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(w_(e,r),hf(n,r))}this._attachedToViewContainer=!1}Yx(this._lView[V],this._lView)}onDestroy(e){QM(this._lView,e)}markForCheck(){cl(this._cdRefInjectingView||this._lView)}detach(){this._lView[de]&=-129}reattach(){this._lView[de]|=128}detectChanges(){Hf(this._lView[V],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function R3(t,e){nl(t,e,e[he],2,null,null)}(this._lView[V],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=e}}class R5 extends hl{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Hf(e[V],e,e[xt],!1)}checkNoChanges(){}get context(){return null}}class Tk extends Ff{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ve(e);return new fl(n,this.ngModule)}}function Sk(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class N5{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=jh(r);const i=this.injector.get(e,J_,r);return i!==J_||n===J_?i:this.parentInjector.get(e,n,r)}}class fl extends VR{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=Sk(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Sk(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function x4(t){return t.map(M4).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof rs?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new N5(e,s):e,a=o.get(BR,null);if(null===a)throw new M(407,!1);const l={rendererFactory:a,sanitizer:o.get(U6,null),effectManager:o.get(Ek,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function e5(t,e,n,r){const s=r.get(GR,!1)||n===Qr.ShadowDom,o=t.selectRootElement(e,s);return function t5(t){ck(t)}(o),o}(d,r,this.componentDef.encapsulation,o):If(d,h,function k5(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528,I=rv(0,null,null,1,0,null,null,null,null,null,null),_=Uf(null,I,null,y,null,null,l,d,o,null,null);let S,U;Xy(_);try{const j=this.componentDef;let ue,At=null;j.findHostDirectiveDefs?(ue=[],At=new Map,j.findHostDirectiveDefs(j,ue,At),ue.push(j)):ue=[j];const fi=function P5(t,e){const n=t[V],r=Ie;return t[r]=e,cu(n,r,2,"#host",null)}(_,f),Io=function F5(t,e,n,r,i,s,o){const a=i[V];!function L5(t,e,n,r){for(const i of t)e.mergedAttrs=jc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&($f(e,e.mergedAttrs,!0),null!==n&&uR(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=PR(e,i[Va]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Uf(i,uk(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&sv(a,t,r.length-1),Bf(i,d),i[t.index]=d}(fi,f,j,ue,_,l,d);U=zM(I,Ie),f&&function U5(t,e,n,r){if(r)Vy(t,n,["ng-version",jR.full]);else{const{attrs:i,classes:s}=function R4(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Yr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Vy(t,n,i),s&&s.length>0&&aR(t,n,s.join(" "))}}(d,j,f,r),void 0!==n&&function B5(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(U,this.ngContentSelectors,n),S=function V5(t,e,n,r,i,s){const o=gn(),a=i[V],u=nr(o,i);hk(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Sn(ko(i,a,o.directiveStart+l,o),i);fk(a,i,o),u&&Sn(u,i);const c=ko(i,a,o.directiveStart+o.componentOffset,o);if(t[xt]=i[xt]=c,null!==s)for(const l of s)l(c,e);return ev(a,o,t),c}(Io,j,ue,At,_,[j5]),cv(I,_,null)}finally{Zy()}return new O5(this.componentType,S,ou(U,_),_,U)}}class O5 extends N6{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new R5(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;uv(s[V],s,i,e,n),this.previousInputValues.set(e,n),cl(vr(this._tNode.index,s))}}get injector(){return new qa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function j5(){const t=gn();tf(C()[V],t)}function ze(t){let e=function Ak(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Xr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new M(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Gf(t.inputs),o.inputTransforms=Gf(t.inputTransforms),o.declaredInputs=Gf(t.declaredInputs),o.outputs=Gf(t.outputs);const a=i.hostBindings;a&&z5(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&H5(t,u),c&&G5(t,c),Ph(t.inputs,i.inputs),Ph(t.declaredInputs,i.declaredInputs),Ph(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Ph(o.inputTransforms,i.inputTransforms)),Xr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===ze&&(n=!1)}}e=Object.getPrototypeOf(e)}!function $5(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=jc(i.hostAttrs,n=jc(n,i.hostAttrs))}}(r)}function Gf(t){return t===_i?{}:t===Pe?[]:t}function H5(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function G5(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function z5(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function kk(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function zf(t){return!!lv(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function lv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function An(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Si(t,e,n,r){const i=C();return An(i,Ga(),e)&&(Te(),bi(yt(),i,t,e,n,r)),Si}function _l(t,e,n,r,i,s,o,a){const u=C(),c=Te(),l=t+Ie,d=c.firstCreatePass?function m9(t,e,n,r,i,s,o,a,u){const c=e.consts,l=cu(e,t,4,o||null,Fs(c,a));iv(e,n,l,Fs(c,u)),tf(e,l);const d=l.tView=rv(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Di(d,!1);const h=zk(c,u,d,t);ef()&&Cf(c,u,h,d),Sn(h,u),Bf(u,u[l]=gk(h,u,h,d)),Kh(d)&&tv(c,u,d),null!=o&&nv(u,d,a)}let zk=function qk(t,e,n,r){return Us(!0),e[he].createComment("")};function or(t,e,n){const r=C();return An(r,Ga(),e)&&function Dr(t,e,n,r,i,s,o,a){const u=nr(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(uv(t,n,l,r,i),Mo(e)&&function u5(t,e){const n=vr(e,t);16&n[de]||(n[de]|=64)}(n,e.index)):3&e.type&&(r=function a5(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(Te(),yt(),r,t,e,r[he],n,!1),or}function mv(t,e,n,r,i){const o=i?"class":"style";uv(t,n,e.inputs[o],o,r)}function ie(t,e,n,r){const i=C(),s=Te(),o=Ie+t,a=i[he],u=s.firstCreatePass?function w9(t,e,n,r,i,s){const o=e.consts,u=cu(e,t,2,r,Fs(o,i));return iv(e,n,u,Fs(o,s)),null!==u.attrs&&$f(u,u.attrs,!1),null!==u.mergedAttrs&&$f(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=Kk(s,i,u,a,e,t);i[o]=c;const l=Kh(u);return Di(u,!0),uR(a,c,u),32!=(32&u.flags)&&ef()&&Cf(s,i,c,u),0===function cq(){return ne.lFrame.elementDepthCount}()&&Sn(c,i),function lq(){ne.lFrame.elementDepthCount++}(),l&&(tv(s,i,u),ev(s,u,i)),null!==r&&nv(i,u),ie}function te(){let t=gn();Wy()?Ky():(t=t.parent,Di(t,!1));const e=t;(function hq(t){return ne.skipHydrationRootTNode===t})(e)&&function mq(){ne.skipHydrationRootTNode=null}(),function dq(){ne.lFrame.elementDepthCount--}();const n=Te();return n.firstCreatePass&&(tf(n,t),By(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Rq(t){return 0!=(8&t.flags)}(e)&&mv(n,e,C(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function kq(t){return 0!=(16&t.flags)}(e)&&mv(n,e,C(),e.stylesWithoutHost,!1),te}function Zr(t,e,n,r){return ie(t,e,n,r),te(),Zr}let Kk=(t,e,n,r,i,s)=>(Us(!0),If(r,i,function ux(){return ne.lFrame.currentNamespace}()));function Yf(t,e,n){const r=C(),i=Te(),s=t+Ie,o=i.firstCreatePass?function D9(t,e,n,r,i){const s=e.consts,o=Fs(s,r),a=cu(e,t,8,"ng-container",o);return null!==o&&$f(a,o,!0),iv(e,n,a,Fs(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Di(o,!0);const a=Yk(i,r,o,t);return r[s]=a,ef()&&Cf(i,r,a,o),Sn(a,r),Kh(o)&&(tv(i,r,o),ev(i,o,r)),null!=n&&nv(r,o),Yf}function Jf(){let t=gn();const e=Te();return Wy()?Ky():(t=t.parent,Di(t,!1)),e.firstCreatePass&&(tf(e,t),By(t)&&e.queries.elementEnd(t)),Jf}let Yk=(t,e,n,r)=>(Us(!0),v_(e[he],""));function Xf(){return C()}function vl(t){return!!t&&"function"==typeof t.then}function Jk(t){return!!t&&"function"==typeof t.subscribe}function Se(t,e,n,r){const i=C(),s=Te(),o=gn();return function Zk(t,e,n,r,i,s,o){const a=Kh(r),c=t.firstCreatePass&&_k(t),l=e[xt],d=yk(e);let h=!0;if(3&r.type||o){const g=nr(r,e),y=o?o(g):g,I=d.length,_=o?U=>o(at(U[r.index])):r.index;let S=null;if(!o&&a&&(S=function T9(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[La],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=s,S.__ngLastListenerFn__=s,h=!1;else{s=tN(r,e,l,s,!1);const U=n.listen(y,i,s);d.push(s,U),c&&c.push(i,_,I,I+1)}}else s=tN(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const j=e[p[y]][p[y+1]].subscribe(s),ue=d.length;d.push(s,j),c&&c.push(i,r.index,ue,-(ue+1))}}}(s,i,i[he],o,t,e,r),Se}function eN(t,e,n,r){try{return Ii(6,e,n),!1!==n(r)}catch(i){return wk(t,i),!1}finally{Ii(7,e,n)}}function tN(t,e,n,r,i){return function s(o){if(o===Function)return r;cl(t.componentOffset>-1?vr(t.index,e):e);let u=eN(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=eN(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function as(t=1){return function Iq(t){return(ne.lFrame.contextLView=function Dq(t,e){for(;t>0;)e=e[Ua],t--;return e}(t,ne.lFrame.contextLView))[xt]}(t)}function Zf(t,e){return t<<17|e<<2}function Hs(t){return t>>17&32767}function _v(t){return 2|t}function Vo(t){return(131068&t)>>2}function vv(t,e){return-131069&t|e<<2}function wv(t){return 1|t}function dN(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Hs(s):Vo(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];P9(t[a],e)&&(u=!0,t[a+1]=r?wv(l):_v(l)),a=r?Hs(l):Vo(l)}u&&(t[n+1]=r?_v(s):wv(s))}function P9(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Xa(t,e)>=0}function ep(t,e){return function ei(t,e,n,r){const i=C(),s=Te(),o=function ts(t){const e=ne.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function wN(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[jn()],o=function vN(t,e){return e>=t.expandoStartIndex}(t,n);(function CN(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function G9(t,e,n,r){const i=function Yy(t){const e=ne.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=wl(n=Ev(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Ev(i,t,e,n,r),null===s){let u=function z9(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Vo(r))return t[Hs(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Ev(null,t,e,u[1],r),u=wl(u,e.attrs,r),function q9(t,e,n,r){t[Hs(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function W9(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=wl(r,t[s].hostAttrs,n);return wl(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function N9(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Hs(o),u=Vo(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Xa(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Hs(t[a+1]);t[r+1]=Zf(h,a),0!==h&&(t[h+1]=vv(t[h+1],r)),t[a+1]=function R9(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Zf(a,0),0!==a&&(t[a+1]=vv(t[a+1],r)),a=r;else t[r+1]=Zf(u,0),0===a?a=r:t[u+1]=vv(t[u+1],r),u=r;c&&(t[r+1]=_v(t[r+1])),dN(t,l,r,!0),dN(t,l,r,!1),function O9(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Xa(s,e)>=0&&(n[r+1]=wv(n[r+1]))}(e,l,t,r,s),o=Zf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==fe&&An(i,o,e)&&function IN(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function k9(t){return 1==(1&t)}(c)?DN(u,e,n,i,Vo(c),o):void 0;tp(l)||(tp(s)||function x9(t){return 2==(2&t)}(c)&&(s=DN(u,null,n,i,a,o)),function j3(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Bs.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Bs.Important),t.setStyle(n,r,i,s))}}(r,o,Zh(jn(),n),i,s))}(s,s.data[jn()],i,i[he],t,i[o+1]=function J9(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Wt(js(t)))),t}(e,n),r,o)}(t,e,null,!0),ep}function Ev(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=wl(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function wl(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),wr(t,o,!!n||e[++s]))}return void 0===t?null:t}function DN(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===fe&&(h=d?Pe:void 0);let f=d?u_(h,r):l===r?h:void 0;if(c&&!tp(f)&&(f=u_(u,r)),tp(f)&&(a=f,o))return a;const p=t[i+1];i=o?Hs(p):Vo(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=u_(u,r))}return a}function tp(t){return void 0!==t}function He(t,e=""){const n=C(),r=Te(),i=t+Ie,s=r.firstCreatePass?cu(r,i,1,e,null):r.data[i],o=bN(r,n,s,e,t);n[i]=o,ef()&&Cf(r,n,o,s),Di(s,!1)}let bN=(t,e,n,r,i)=>(Us(!0),function Ef(t,e){return t.createText(e)}(e[he],r));function Iv(t){return El("",t,""),Iv}function El(t,e,n){const r=C(),i=function du(t,e,n,r){return An(t,Ga(),n)?e+ce(n)+r:fe}(r,t,e,n);return i!==fe&&function os(t,e,n){const r=Zh(e,t);!function Kx(t,e,n){t.setValue(e,n)}(t[he],r,n)}(r,jn(),i),El}const Eu="en-US";let WN=Eu;function bv(t,e,n,r,i){if(t=oe(t),Array.isArray(t))for(let s=0;s<t.length;s++)bv(t[s],e,n,r,i);else{const s=Te(),o=C();let a=Po(t)?t:oe(t.provide),u=xR(t);const c=gn(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Po(t)||!t.multi){const f=new Kc(u,i,T),p=Sv(a,e,i?l:l+h,d);-1===p?(s_(cf(c,o),s,a),Tv(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Sv(a,e,l+h,d),p=Sv(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){s_(cf(c,o),s,a);const I=function y7(t,e,n,r,i){const s=new Kc(t,n,T);return s.multi=[],s.index=e,s.componentProviders=0,_1(s,i,r&&!n),s}(i?m7:g7,n.length,i,r,u);!i&&y&&(n[p].providerFactory=I),Tv(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)}else Tv(s,t,f>-1?f:p,_1(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function Tv(t,e,n,r){const i=Po(e),s=function y6(t){return!!t.useClass}(e);if(i||s){const u=(s?oe(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function _1(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Sv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function g7(t,e,n,r){return Av(this.multi,[])}function m7(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ko(n,n[V],this.providerFactory.index,r);s=a.slice(0,o),Av(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Av(i,s);return s}function Av(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ht(t,e=[]){return n=>{n.providersResolver=(r,i)=>function p7(t,e,n){const r=Te();if(r.firstCreatePass){const i=Xr(t);bv(n,r.data,r.blueprint,i,!0),bv(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Iu{}class v1{}class Mv extends Iu{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Tk(this);const i=yr(e);this._bootstrapComponents=ss(i.bootstrap),this._r3Injector=sk(e,n,[{provide:Iu,useValue:this},{provide:Ff,useValue:this.componentFactoryResolver},...r],Wt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class xv extends v1{constructor(e){super(),this.moduleType=e}create(e){return new Mv(this.moduleType,e,[])}}class w1 extends Iu{constructor(e){super(),this.componentFactoryResolver=new Tk(this),this.instance=null;const n=new V_([...e.providers,{provide:Iu,useValue:this},{provide:Ff,useValue:this.componentFactoryResolver}],e.parent||xf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Rv(t,e,n=null){return new w1({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let w7=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=TR(0,n.type),i=r.length>0?Rv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=K({token:t,providedIn:"environment",factory:()=>new t(F(rs))}),t})();function E1(t){t.getStandaloneInjector=e=>e.get(w7).getOrCreateStandaloneInjector(t)}function A1(t,e,n){const r=function Bn(){const t=ne.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=C();return i[r]===fe?function Ti(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function pl(t,e){return t[e]}(i,r)}function Nv(t){return e=>{setTimeout(t,void 0,e)}}const Dt=class z7 extends Ye{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Nv(s),i&&(i=Nv(i)),o&&(o=Nv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof wt&&e.add(a),a}};function q7(){return this._results[Symbol.iterator]()}class Ov{get changes(){return this._changes||(this._changes=new Dt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Ov.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=q7)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function Pr(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function zq(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let us=(()=>{class t{}return t.__NG_ELEMENT_ID__=Q7,t})();const W7=us,K7=class extends W7{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const o=this._declarationTContainer.tView,a=Uf(this._declarationLView,o,e,4096&this._declarationLView[de]?4096:16,null,o.declTNode,null,null,null,n||null,r||null);a[Gc]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[vi];return null!==c&&(a[vi]=c.createEmbeddedView(o)),cv(o,a,e),new hl(a)}};function Q7(){return op(gn(),C())}function op(t,e){return 4&t.type?new K7(e,t,ou(t,e)):null}let ni=(()=>{class t{}return t.__NG_ELEMENT_ID__=n8,t})();function n8(){return U1(gn(),C())}const r8=ni,L1=class extends r8{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ou(this._hostTNode,this._hostLView)}get injector(){return new qa(this._hostTNode,this._hostLView)}get parentInjector(){const e=i_(this._hostTNode,this._hostLView);if(hx(e)){const n=af(e,this._hostLView),r=sf(e);return new qa(n[V].data[r+8],n)}return new qa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=V1(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Tn}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Qc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new fl(Ve(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(o?c:this.parentInjector).get(rs,null);y&&(s=y)}Ve(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,s=i[V];if(function oq(t){return tr(t[mt])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[mt],l=new L1(c,c[bn],c[mt]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;if(function N3(t,e,n,r){const i=Tn+r,s=n.length;r>0&&(n[i-1][Jr]=e),r<s-Tn?(e[Jr]=n[i],Cx(n,Tn+r,e)):(n.push(e),e[Jr]=null),e[mt]=n;const o=e[Gc];null!==o&&n!==o&&function O3(t,e){const n=t[ja];e[Rt]!==e[mt][mt][Rt]&&(t[xM]=!0),null===n?t[ja]=[e]:n.push(e)}(o,e);const a=e[vi];null!==a&&a.insertView(t),e[de]|=128}(s,i,a,o),!r){const u=C_(o,a),c=i[he],l=Df(c,a[wi]);null!==l&&function x3(t,e,n,r,i,s){r[Kt]=i,r[bn]=e,nl(t,r,n,1,i,s)}(s,a[bn],c,i,l,u)}return e.attachToViewContainerRef(),Cx(Fv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=V1(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=w_(this._lContainer,n);r&&(hf(Fv(this._lContainer),n),Yx(r[V],r))}detach(e){const n=this._adjustIndex(e,-1),r=w_(this._lContainer,n);return r&&null!=hf(Fv(this._lContainer),n)?new hl(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function V1(t){return t[8]}function Fv(t){return t[8]||(t[8]=[])}function U1(t,e){let n;const r=e[t.index];return tr(r)?n=r:(n=gk(r,e,null,t),e[t.index]=n,Bf(e,n)),B1(n,e,t,r),new L1(n,t,e)}let B1=function j1(t,e,n,r){if(t[wi])return;let i;i=8&n.type?at(r):function i8(t,e){const n=t[he],r=n.createComment(""),i=nr(e,t);return No(n,Df(n,i),r,function V3(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[wi]=i};class Lv{constructor(e){this.queryList=e,this.matches=null}clone(){return new Lv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Vv(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==Q1(e,n).matches&&this.queries[n].setDirty()}}class $1{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Uv{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Uv(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Bv{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Bv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,a8(n,s)),this.matchTNodeWithReadOption(e,n,lf(n,e,s,!1,!1))}else r===us?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,lf(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Er||i===ni||i===us&&4&n.type)this.addMatch(n.index,-2);else{const s=lf(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function a8(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function c8(t,e,n,r){return-1===n?function u8(t,e){return 11&t.type?ou(t,e):4&t.type?op(t,e):null}(e,t):-2===n?function l8(t,e,n){return n===Er?ou(e,t):n===us?op(e,t):n===ni?U1(e,t):void 0}(t,e,r):ko(t,t[V],n,e)}function H1(t,e,n,r){const i=e[vi].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:c8(e,s[c],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function jv(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=H1(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=Tn;d<l.length;d++){const h=l[d];h[Gc]===h[mt]&&jv(h[V],h,c,r)}if(null!==l[ja]){const d=l[ja];for(let h=0;h<d.length;h++){const f=d[h];jv(f[V],f,c,r)}}}}}return r}function G1(t){const e=C(),n=Te(),r=nx();Jy(r+1);const i=Q1(n,r);if(t.dirty&&function iq(t){return 4==(4&t[de])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?jv(n,e,r,[]):H1(n,e,i,r);t.reset(s,L6),t.notifyOnChanges()}return!0}return!1}function z1(t,e,n,r){const i=Te();if(i.firstCreatePass){const s=gn();(function K1(t,e,n){null===t.queries&&(t.queries=new Uv),t.queries.track(new Bv(e,n))})(i,new $1(e,n,r),s.index),function f8(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function W1(t,e,n){const r=new Ov(4==(4&n));(function i5(t,e,n,r){const i=yk(e);i.push(n),t.firstCreatePass&&_k(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[vi]&&(e[vi]=new Vv),e[vi].queries.push(new Lv(r))}(i,C(),n)}function Q1(t,e){return t.queries.getByIndex(e)}const Wv=new x("Application Initializer");let Kv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=k(Wv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(vl(s))n.push(s);else if(Jk(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),hO=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const cs=new x("LocaleId",{providedIn:"root",factory:()=>k(cs,Ee.Optional|Ee.SkipSelf)||function P8(){return typeof $localize<"u"&&$localize.locale||Eu}()});let fO=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ve(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class V8{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let pO=(()=>{class t{compileModuleSync(n){return new xv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=ss(yr(n).declarations).reduce((o,a)=>{const u=Ve(a);return u&&o.push(new fl(u)),o},[]);return new V8(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yO(...t){}class et{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dt(!1),this.onMicrotaskEmpty=new Dt(!1),this.onStable=new Dt(!1),this.onError=new Dt(!1),typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function j8(){const t="function"==typeof Ze.requestAnimationFrame;let e=Ze[t?"requestAnimationFrame":"setTimeout"],n=Ze[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function G8(t){const e=()=>{!function H8(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ze,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Yv(t),t.isCheckStableRunning=!0,Qv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Yv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return _O(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),vO(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return _O(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),vO(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Yv(t),Qv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!et.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(et.isInAngularZone())throw new M(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,$8,yO,yO);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const $8={};function Qv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function _O(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function vO(t){t._nesting--,Qv(t)}class z8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dt,this.onMicrotaskEmpty=new Dt,this.onStable=new Dt,this.onError=new Dt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const wO=new x("",{providedIn:"root",factory:EO});function EO(){const t=k(et);let e=!0;return function n4(...t){const e=Fc(t),n=function Qz(t,e){return"number"==typeof Ty(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?gr(r[0]):Oa(n)(tn(r,e)):mi}(new Z(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Z(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{et.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{et.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(sM()))}const IO=new x(""),up=new x("");let Zv,Jv=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Zv||(function q8(t){Zv=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{et.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(F(et),F(Xv),F(up))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),Xv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Zv?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Gs=null;const DO=new x("AllowMultipleToken"),ew=new x("PlatformDestroyListeners"),tw=new x("appBootstrapListener");class bO{constructor(e,n){this.name=e,this.token=n}}function SO(t,e,n=[]){const r=`Platform: ${e}`,i=new x(r);return(s=[])=>{let o=nw();if(!o||o.injector.get(DO,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function Q8(t){if(Gs&&!Gs.get(DO,!1))throw new M(400,!1);(function CO(){!function K4(t){FM=t}(()=>{throw new M(600,!1)})})(),Gs=t;const e=t.get(MO);(function TO(t){t.get(RR,null)?.forEach(n=>n())})(t)}(function AO(t=[],e){return Ir.create({name:e,providers:[{provide:F_,useValue:"platform"},{provide:ew,useValue:new Set([()=>Gs=null])},...t]})}(a,r))}return function J8(t){const e=nw();if(!e)throw new M(401,!1);return e}()}}function nw(){return Gs?.get(MO)??null}let MO=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function X8(t="zone.js",e){return"noop"===t?new z8:"zone.js"===t?new et(e):t}(r?.ngZone,function xO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function v7(t,e,n){return new Mv(t,e,n)}(n.moduleType,this.injector,function PO(t){return[{provide:et,useFactory:t},{provide:Oo,multi:!0,useFactory:()=>{const e=k(eK,{optional:!0});return()=>e.initialize()}},{provide:OO,useFactory:Z8},{provide:wO,useFactory:EO}]}(()=>i)),o=s.injector.get(Fo,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{cp(this._modules,s),a.unsubscribe()})}),function RO(t,e,n){try{const r=n();return vl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Kv);return a.runInitializers(),a.donePromise.then(()=>(function KN(t){Nr(t,"Expected localeId to be defined"),"string"==typeof t&&(WN=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(cs,Eu)||Eu),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=kO({},r);return function W8(t,e,n){const r=new xv(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(bu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new M(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(ew,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(F(Ir))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function kO(t,e){return Array.isArray(e)?e.reduce(kO,t):{...t,...e}}let bu=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(OO),this.zoneIsStable=k(wO),this.componentTypes=[],this.components=[],this.isStable=k(fO).hasPendingTasks.pipe(yi(n=>n?se(!1):this.zoneIsStable),oM(),sM()),this._injector=k(rs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof VR;if(!this._injector.get(Kv).done)throw!i&&function Fa(t){const e=Ve(t)||Cn(t)||er(t);return null!==e&&e.standalone}(n),new M(405,!1);let o;o=i?n:this._injector.get(Ff).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function K8(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Iu),c=o.create(Ir.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(IO,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),cp(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new M(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;cp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(tw,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>cp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new M(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function cp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const OO=new x("",{providedIn:"root",factory:()=>k(Fo).handleError.bind(void 0)});function Z8(){const t=k(et),e=k(Fo);return n=>t.runOutsideAngular(()=>e.handleError(n))}let eK=(()=>{class t{constructor(){this.zone=k(et),this.applicationRef=k(bu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let lp=(()=>{class t{}return t.__NG_ELEMENT_ID__=rK,t})();function rK(t){return function iK(t,e,n){if(Mo(t)&&!n){const r=vr(t.index,e);return new hl(r,r)}return 47&t.type?new hl(e[Rt],e):null}(gn(),C(),16==(16&t))}class UO{constructor(){}supports(e){return zf(e)}create(e){return new lK(e)}}const cK=(t,e)=>e;class lK{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||cK}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<jO(r,i,s)?n:r,a=jO(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!zf(e))throw new M(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function X5(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new dK(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new BO),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new BO),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class dK{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hK{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class BO{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new hK,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jO(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class $O{constructor(){}supports(e){return e instanceof Map||lv(e)}create(){return new fK}}class fK{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||lv(e)))throw new M(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new pK(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class pK{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function HO(){return new fp([new UO])}let fp=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||HO()),deps:[[t,new pf,new rr]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new M(901,!1)}}return t.\u0275prov=K({token:t,providedIn:"root",factory:HO}),t})();function GO(){return new xl([new $O])}let xl=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||GO()),deps:[[t,new pf,new rr]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new M(901,!1)}}return t.\u0275prov=K({token:t,providedIn:"root",factory:GO}),t})();const yK=SO(null,"core",[]);let _K=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(F(bu))},t.\u0275mod=Un({type:t}),t.\u0275inj=Dn({}),t})();function Tu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let cw=null;function zs(){return cw}class xK{}const Lr=new x("DocumentToken");let lw=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return k(kK)},providedIn:"platform"}),t})();const RK=new x("Location Initialized");let kK=(()=>{class t extends lw{constructor(){super(),this._doc=k(Lr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zs().getBaseHref(this._doc)}onPopState(n){const r=zs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=zs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function dw(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function JO(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ls(t){return t&&"?"!==t[0]?"?"+t:t}let jo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return k(ZO)},providedIn:"root"}),t})();const XO=new x("appBaseHref");let ZO=(()=>{class t extends jo{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(Lr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return dw(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ls(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+ls(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+ls(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(F(lw),F(XO,8))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),NK=(()=>{class t extends jo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=dw(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+ls(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+ls(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(F(lw),F(XO,8))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),hw=(()=>{class t{constructor(n){this._subject=new Dt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function FK(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(JO(eP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ls(r))}normalize(n){return t.stripTrailingSlash(function PK(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,eP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ls(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ls(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=ls,t.joinWithSlash=dw,t.stripTrailingSlash=JO,t.\u0275fac=function(n){return new(n||t)(F(jo))},t.\u0275prov=K({token:t,factory:function(){return function OK(){return new hw(F(jo))}()},providedIn:"root"}),t})();function eP(t){return t.replace(/\/index.html$/,"")}const Iw=/\s+/,cP=[];let Dw=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=cP,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Iw):cP}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Iw):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Iw).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(T(fp),T(xl),T(Er),T(is))},t.\u0275dir=re({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class IQ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dP=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new IQ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),hP(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{hP(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(T(ni),T(us),T(fp))},t.\u0275dir=re({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function hP(t,e){t.context.$implicit=e.item}let fP=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new DQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){pP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){pP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(T(ni),T(us))},t.\u0275dir=re({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class DQ{constructor(){this.$implicit=null,this.ngIf=null}}function pP(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Wt(e)}'.`)}let KQ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Un({type:t}),t.\u0275inj=Dn({}),t})();function _P(t){return"server"===t}let XQ=(()=>{class t{}return t.\u0275prov=K({token:t,providedIn:"root",factory:()=>new ZQ(F(Lr),window)}),t})();class ZQ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function eY(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=vP(this.window.history)||vP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vP(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class CY extends xK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xw extends CY{static makeCurrent(){!function MK(t){cw||(cw=t)}(new xw)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function bY(){return Ol=Ol||document.querySelector("base"),Ol?Ol.getAttribute("href"):null}();return null==n?null:function TY(t){Sp=Sp||document.createElement("a"),Sp.setAttribute("href",t);const e=Sp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ol=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function wQ(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Sp,Ol=null,AY=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const Rw=new x("EventManagerPlugins");let CP=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)(F(Rw),F(et))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();class bP{constructor(e){this._doc=e}}const kw="ng-app-id";let TP=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_P(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${kw}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(kw),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(kw,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(F(Lr),F(Rf),F(kR,8),F($s))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const Nw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ow=/%COMP%/g,kY=new x("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function AP(t,e){return e.map(n=>n.replace(Ow,t))}let MP=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=_P(a),this.defaultRenderer=new Pw(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Qr.ShadowDom&&(r={...r,encapsulation:Qr.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof RP?i.applyToHost(n):i instanceof Fw&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Qr.Emulated:s=new RP(u,c,r,this.appId,l,o,a,d);break;case Qr.ShadowDom:return new FY(u,c,n,r,o,a,this.nonce,d);default:s=new Fw(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)(F(CP),F(TP),F(Rf),F(kY),F(Lr),F($s),F(et),F(kR))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();class Pw{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Nw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(xP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(xP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new M(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Nw[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Nw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Bs.DashCase|Bs.Important)?e.style.setProperty(n,r,i&Bs.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Bs.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=zs().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function xP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class FY extends Pw{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=AP(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Fw extends Pw{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?AP(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class RP extends Fw{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function NY(t){return"_ngcontent-%COMP%".replace(Ow,t)}(c),this.hostAttr=function OY(t){return"_nghost-%COMP%".replace(Ow,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let LY=(()=>{class t extends bP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(F(Lr))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const kP=["alt","control","meta","shift"],VY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let BY=(()=>{class t extends bP{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zs().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),kP.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=VY[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),kP.forEach(o=>{o!==i&&(0,UY[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(F(Lr))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const OP=[{provide:$s,useValue:"browser"},{provide:RR,useValue:function jY(){xw.makeCurrent()},multi:!0},{provide:Lr,useFactory:function HY(){return function q3(t){S_=t}(document),document},deps:[]}],GY=SO(yK,"browser",OP),zY=new x(""),PP=[{provide:up,useClass:class SY{addToWindow(e){Ze.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new M(5103,!1);return s},Ze.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ze.getAllAngularRootElements=()=>e.getAllRootElements(),Ze.frameworkStabilizers||(Ze.frameworkStabilizers=[]),Ze.frameworkStabilizers.push(r=>{const i=Ze.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?zs().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:IO,useClass:Jv,deps:[et,Xv,up]},{provide:Jv,useClass:Jv,deps:[et,Xv,up]}],FP=[{provide:F_,useValue:"root"},{provide:Fo,useFactory:function $Y(){return new Fo},deps:[]},{provide:Rw,useClass:LY,multi:!0,deps:[Lr,et,$s]},{provide:Rw,useClass:BY,multi:!0,deps:[Lr]},MP,TP,CP,{provide:BR,useExisting:MP},{provide:class tY{},useClass:AY,deps:[]},[]];let qY=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Rf,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)(F(zY,12))},t.\u0275mod=Un({type:t}),t.\u0275inj=Dn({providers:[...FP,...PP],imports:[KQ,_K]}),t})(),LP=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(F(Lr))},t.\u0275prov=K({token:t,factory:function(n){let r=null;return r=n?new n:function KY(){return new LP(F(Lr))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:eJ}=Array,{getPrototypeOf:tJ,prototype:nJ,keys:rJ}=Object;function jP(t){if(1===t.length){const e=t[0];if(eJ(e))return{args:e,keys:null};if(function iJ(t){return t&&"object"==typeof t&&tJ(t)===nJ}(e)){const n=rJ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:sJ}=Array;function $P(t){return X(e=>function oJ(t,e){return sJ(e)?t(...e):t(e)}(t,e))}function HP(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ap(...t){const e=Fc(t),n=Sy(t),{args:r,keys:i}=jP(t);if(0===r.length)return tn([],e);const s=new Z(function aJ(t,e,n=Y){return r=>{GP(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)GP(e,()=>{const c=tn(t[u],e);let l=!1;c.subscribe(we(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>HP(i,o):Y));return n?s.pipe($P(n)):s}function GP(t,e,n){t?Yi(n,t,e):e()}const Mp=Hr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Vw(...t){return function uJ(){return Oa(1)}()(tn(t,Fc(t)))}function zP(t){return new Z(e=>{gr(t()).subscribe(e)})}function Pl(t,e){const n=xe(t)?t:()=>t,r=i=>i.error(n());return new Z(e?i=>e.schedule(r,0,i):r)}function Uw(){return pe((t,e)=>{let n=null;t._refCount++;const r=we(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class qP extends Z{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,qt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wt;const n=this.getSubject();e.add(this.source.subscribe(we(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wt.EMPTY)}return e}refCount(){return Uw()(this)}}function Au(t){return t<=0?()=>mi:pe((e,n)=>{let r=0;e.subscribe(we(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ws(t,e){return pe((n,r)=>{let i=0;n.subscribe(we(r,s=>t.call(e,s,i++)&&r.next(s)))})}function xp(t){return pe((e,n)=>{let r=!1;e.subscribe(we(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function WP(t=lJ){return pe((e,n)=>{let r=!1;e.subscribe(we(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function lJ(){return new Mp}function $o(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ws((i,s)=>t(i,s,r)):Y,Au(1),n?xp(e):WP(()=>new Mp))}function Fl(t,e){return xe(e)?pn(t,e,1):pn(t,1)}function Mn(t,e,n){const r=xe(t)||e||n?{next:t,error:e,complete:n}:t;return r?pe((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(we(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Y}function Ho(t){return pe((e,n)=>{let s,r=null,i=!1;r=e.subscribe(we(n,void 0,void 0,o=>{s=gr(t(o,Ho(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function KP(t,e){return pe(function dJ(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(we(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}function Bw(t){return t<=0?()=>mi:pe((e,n)=>{let r=[];e.subscribe(we(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function jw(t){return pe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ge="primary",Ll=Symbol("RouteTitle");class pJ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Mu(t){return new pJ(t)}function gJ(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function xi(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!QP(t[i],e[i]))return!1;return!0}function QP(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function YP(t){return t.length>0?t[t.length-1]:null}function Ks(t){return function ZY(t){return!!t&&(t instanceof Z||xe(t.lift)&&xe(t.subscribe))}(t)?t:vl(t)?tn(Promise.resolve(t)):se(t)}const yJ={exact:function ZP(t,e,n){if(!Go(t.segments,e.segments)||!Rp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!ZP(t.children[r],e.children[r],n))return!1;return!0},subset:eF},JP={exact:function _J(t,e){return xi(t,e)},subset:function vJ(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>QP(t[n],e[n]))},ignored:()=>!0};function XP(t,e,n){return yJ[n.paths](t.root,e.root,n.matrixParams)&&JP[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function eF(t,e,n){return tF(t,e,e.segments,n)}function tF(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Go(i,n)||e.hasChildren()||!Rp(i,n,r))}if(t.segments.length===n.length){if(!Go(t.segments,n)||!Rp(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!eF(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Go(t.segments,i)&&Rp(t.segments,i,r)&&t.children[ge])&&tF(t.children[ge],e,s,r)}}function Rp(t,e,n){return e.every((r,i)=>JP[n](t[i].parameters,r.parameters))}class xu{constructor(e=new qe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mu(this.queryParams)),this._queryParamMap}toString(){return IJ.serialize(this)}}class qe{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kp(this)}}class Vl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Mu(this.parameters)),this._parameterMap}toString(){return iF(this)}}function Go(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Ul=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return new $w},providedIn:"root"}),t})();class $w{parse(e){const n=new NJ(e);return new xu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Bl(e.root,!0)}`,r=function bJ(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Np(n)}=${Np(i)}`).join("&"):`${Np(n)}=${Np(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function DJ(t){return encodeURI(t)}(e.fragment)}`:""}`}}const IJ=new $w;function kp(t){return t.segments.map(e=>iF(e)).join("/")}function Bl(t,e){if(!t.hasChildren())return kp(t);if(e){const n=t.children[ge]?Bl(t.children[ge],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ge&&r.push(`${i}:${Bl(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function EJ(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ge&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ge&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ge?[Bl(t.children[ge],!1)]:[`${i}:${Bl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ge]?`${kp(t)}/${n[0]}`:`${kp(t)}/(${n.join("//")})`}}function nF(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Np(t){return nF(t).replace(/%3B/gi,";")}function Hw(t){return nF(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Op(t){return decodeURIComponent(t)}function rF(t){return Op(t.replace(/\+/g,"%20"))}function iF(t){return`${Hw(t.path)}${function CJ(t){return Object.keys(t).map(e=>`;${Hw(e)}=${Hw(t[e])}`).join("")}(t.parameters)}`}const TJ=/^[^\/()?;#]+/;function Gw(t){const e=t.match(TJ);return e?e[0]:""}const SJ=/^[^\/()?;=#]+/,MJ=/^[^=?&#]+/,RJ=/^[^&#]+/;class NJ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qe([],{}):new qe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ge]=new qe(e,n)),r}parseSegment(){const e=Gw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(e),new Vl(Op(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function AJ(t){const e=t.match(SJ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Gw(this.remaining);i&&(r=i,this.capture(r))}e[Op(n)]=Op(r)}parseQueryParam(e){const n=function xJ(t){const e=t.match(MJ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function kJ(t){const e=t.match(RJ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=rF(n),s=rF(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Gw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new M(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ge);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ge]:new qe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new M(4011,!1)}}function sF(t){return t.segments.length>0?new qe([],{[ge]:t}):t}function oF(t){const e={};for(const r of Object.keys(t.children)){const s=oF(t.children[r]);if(r===ge&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function OJ(t){if(1===t.numberOfChildren&&t.children[ge]){const e=t.children[ge];return new qe(t.segments.concat(e.segments),e.children)}return t}(new qe(t.segments,e))}function zo(t){return t instanceof xu}function aF(t){let e;const i=sF(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new qe(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function uF(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return zw(i,i,i,n,r);const s=function FJ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new lF(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new lF(n,e,r)}(e);if(s.toRoot())return zw(i,i,new qe([],{}),n,r);const o=function LJ(t,e,n){if(t.isAbsolute)return new Fp(e,!0,0);if(!n)return new Fp(e,!1,NaN);if(null===n.parent)return new Fp(n,!0,0);const r=Pp(t.commands[0])?0:1;return function VJ(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new Fp(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?$l(o.segmentGroup,o.index,s.commands):dF(o.segmentGroup,o.index,s.commands);return zw(i,o.segmentGroup,a,n,r)}function Pp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function jl(t){return"object"==typeof t&&null!=t&&t.outlets}function zw(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:cF(t,e,n);const a=sF(oF(o));return new xu(a,s,i)}function cF(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:cF(s,e,n)}),new qe(t.segments,r)}class lF{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Pp(r[0]))throw new M(4003,!1);const i=r.find(jl);if(i&&i!==YP(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fp{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function dF(t,e,n){if(t||(t=new qe([],{})),0===t.segments.length&&t.hasChildren())return $l(t,e,n);const r=function BJ(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(jl(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!fF(u,c,o))return s;r+=2}else{if(!fF(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new qe(t.segments.slice(0,r.pathIndex),{});return s.children[ge]=new qe(t.segments.slice(r.pathIndex),t.children),$l(s,0,i)}return r.match&&0===i.length?new qe(t.segments,{}):r.match&&!t.hasChildren()?qw(t,e,n):r.match?$l(t,0,i):qw(t,e,n)}function $l(t,e,n){if(0===n.length)return new qe(t.segments,{});{const r=function UJ(t){return jl(t[0])?t[0].outlets:{[ge]:t}}(n),i={};if(!r[ge]&&t.children[ge]&&1===t.numberOfChildren&&0===t.children[ge].segments.length){const s=$l(t.children[ge],e,n);return new qe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=dF(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new qe(t.segments,i)}}function qw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(jl(s)){const u=jJ(s.outlets);return new qe(r,u)}if(0===i&&Pp(n[0])){r.push(new Vl(t.segments[e].path,hF(n[0]))),i++;continue}const o=jl(s)?s.outlets[ge]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Pp(a)?(r.push(new Vl(o,hF(a))),i+=2):(r.push(new Vl(o,{})),i++)}return new qe(r,{})}function jJ(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=qw(new qe([],{}),0,r))}),e}function hF(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function fF(t,e,n){return t==n.path&&xi(e,n.parameters)}const Hl="imperative";class Ri{constructor(e,n){this.id=e,this.url=n}}class Ww extends Ri{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qo extends Ri{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Lp extends Ri{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gl extends Ri{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Kw extends Ri{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $J extends Ri{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HJ extends Ri{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GJ extends Ri{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zJ extends Ri{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qJ extends Ri{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WJ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class KJ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class QJ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YJ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JJ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XJ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pF{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ZJ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zl,this.attachRef=null}}let zl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ZJ,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class gF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Qw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Qw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Yw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Yw(e,this._root).map(n=>n.value)}}function Qw(t,e){if(t===e.value)return e;for(const n of e.children){const r=Qw(t,n);if(r)return r}return null}function Yw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Yw(t,n);if(r.length)return r.unshift(e),r}return[]}class fs{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ru(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class mF extends gF{constructor(e,n){super(e),this.snapshot=n,Jw(this,e)}toString(){return this.snapshot.toString()}}function yF(t,e){const n=function eX(t,e){const o=new Vp([],{},{},"",{},ge,e,null,{});return new vF("",new fs(o,[]))}(0,e),r=new ve([new Vl("",{})]),i=new ve({}),s=new ve({}),o=new ve({}),a=new ve(""),u=new ku(r,i,o,a,s,ge,e,n.root);return u.snapshot=n.root,new mF(new fs(u,[]),n)}class ku{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(X(c=>c[Ll]))??se(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(X(e=>Mu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(X(e=>Mu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _F(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function tX(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Vp{get title(){return this.data?.[Ll]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vF extends gF{constructor(e,n){super(n),this.url=e,Jw(this,n)}toString(){return wF(this._root)}}function Jw(t,e){e.value._routerState=t,e.children.forEach(n=>Jw(t,n))}function wF(t){const e=t.children.length>0?` { ${t.children.map(wF).join(", ")} } `:"";return`${t.value}${e}`}function Xw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,xi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),xi(e.params,n.params)||t.paramsSubject.next(n.params),function mJ(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!xi(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),xi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Zw(t,e){const n=xi(t.params,e.params)&&function wJ(t,e){return Go(t,e)&&t.every((n,r)=>xi(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Zw(t.parent,e.parent))}let Up=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ge,this.activateEvents=new Dt,this.deactivateEvents=new Dt,this.attachEvents=new Dt,this.detachEvents=new Dt,this.parentContexts=k(zl),this.location=k(ni),this.changeDetector=k(lp),this.environmentInjector=k(rs),this.inputBinder=k(Bp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new nX(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=re({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Or]}),t})();class nX{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ku?this.route:e===zl?this.childContexts:this.parent.get(e,n)}}const Bp=new x("");let EF=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Ap([r.queryParams,r.params,r.data]).pipe(yi(([s,o,a],u)=>(a={...s,...o,...a},0===u?se(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function AK(t){const e=Ve(t);if(!e)return null;const n=new fl(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();function ql(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function iX(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ql(t,r,i);return ql(t,r)})}(t,e,n);return new fs(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ql(t,a)),o}}const r=function sX(t){return new ku(new ve(t.url),new ve(t.params),new ve(t.queryParams),new ve(t.fragment),new ve(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>ql(t,s));return new fs(r,i)}}const eE="ngNavigationCancelingError";function IF(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=zo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=DF(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function DF(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[eE]=!0,r.cancellationCode=e,n&&(r.url=n),r}function CF(t){return bF(t)&&zo(t.url)}function bF(t){return t&&t[eE]}let TF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=So({type:t,selectors:[["ng-component"]],standalone:!0,features:[E1],decls:1,vars:0,template:function(n,r){1&n&&Zr(0,"router-outlet")},dependencies:[Up],encapsulation:2}),t})();function tE(t){const e=t.children&&t.children.map(tE),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ge&&(n.component=TF),n}function oi(t){return t.outlet||ge}function Wl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class hX{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Xw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ru(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ru(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ru(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ru(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new XJ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new YJ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Xw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Xw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Wl(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class SF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class jp{constructor(e,n){this.component=e,this.route=n}}function fX(t,e,n){const r=t._root;return Kl(r,e?e._root:null,n,[r.value])}function Nu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function l4(t){return null!==Vh(t)}(t)?e.get(t):t:r}function Kl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ru(e);return t.children.forEach(o=>{(function gX(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function mX(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Go(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Go(t.url,e.url)||!xi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zw(t,e)||!xi(t.queryParams,e.queryParams);default:return!Zw(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new SF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Kl(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new jp(a.outlet.component,o))}else o&&Ql(e,a,i),i.canActivateChecks.push(new SF(r)),Kl(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ql(a,n.getContext(o),i)),i}function Ql(t,e,n){const r=Ru(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Ql(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new jp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Yl(t){return"function"==typeof t}function AF(t){return t instanceof Mp||"EmptyError"===t?.name}const $p=Symbol("INITIAL_VALUE");function Ou(){return yi(t=>Ap(t.map(e=>e.pipe(Au(1),function cJ(...t){const e=Fc(t);return pe((n,r)=>{(e?Vw(t,n,e):Vw(t,n)).subscribe(r)})}($p)))).pipe(X(e=>{for(const n of e)if(!0!==n){if(n===$p)return $p;if(!1===n||n instanceof xu)return n}return!0}),Ws(e=>e!==$p),Au(1)))}function MF(t){return function De(...t){return Ut(t)}(Mn(e=>{if(zo(e))throw IF(0,e)}),X(e=>!0===e))}class Hp{constructor(e){this.segmentGroup=e||null}}class xF{constructor(e){this.urlTree=e}}function Pu(t){return Pl(new Hp(t))}function RF(t){return Pl(new xF(t))}class FX{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new M(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return se(r);if(i.numberOfChildren>1||!i.children[ge])return Pl(new M(4e3,!1));i=i.children[ge]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new xu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new qe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new M(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const nE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function LX(t,e,n,r,i){const s=rE(t,e,n);return s.matched?(r=function oX(t,e){return t.providers&&!t._injector&&(t._injector=Rv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function NX(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?se(i.map(o=>{const a=Nu(o,t);return Ks(function IX(t){return t&&Yl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ou(),MF()):se(!0)}(r,e,n).pipe(X(o=>!0===o?s:{...nE}))):se(s)}function rE(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...nE}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||gJ)(n,t,e);if(!i)return{...nE};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function kF(t,e,n,r){return n.length>0&&function BX(t,e,n){return n.some(r=>Gp(t,e,r)&&oi(r)!==ge)}(t,n,r)?{segmentGroup:new qe(e,UX(r,new qe(n,t.children))),slicedSegments:[]}:0===n.length&&function jX(t,e,n){return n.some(r=>Gp(t,e,r))}(t,n,r)?{segmentGroup:new qe(t.segments,VX(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new qe(t.segments,t.children),slicedSegments:n}}function VX(t,e,n,r,i){const s={};for(const o of r)if(Gp(t,n,o)&&!i[oi(o)]){const a=new qe([],{});s[oi(o)]=a}return{...i,...s}}function UX(t,e){const n={};n[ge]=e;for(const r of t)if(""===r.path&&oi(r)!==ge){const i=new qe([],{});n[oi(r)]=i}return n}function Gp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class zX{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new FX(this.urlSerializer,this.urlTree)}noMatchError(e){return new M(4002,!1)}recognize(){const e=kF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ge).pipe(Ho(n=>{if(n instanceof xF)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Hp?this.noMatchError(n):n}),X(n=>{const r=new Vp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ge,this.rootComponentType,null,{}),i=new fs(r,n),s=new vF("",i),o=function PJ(t,e,n=null,r=null){return uF(aF(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ge).pipe(Ho(r=>{throw r instanceof Hp?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=_F(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return tn(i).pipe(Fl(s=>{const o=r.children[s],a=function lX(t,e){const n=t.filter(r=>oi(r)===e);return n.push(...t.filter(r=>oi(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),KP((s,o)=>(s.push(...o),s)),xp(null),function hJ(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ws((i,s)=>t(i,s,r)):Y,Bw(1),n?xp(e):WP(()=>new Mp))}(),pn(s=>{if(null===s)return Pu(r);const o=NF(s);return function qX(t){t.sort((e,n)=>e.value.outlet===ge?-1:n.value.outlet===ge?1:e.value.outlet.localeCompare(n.value.outlet))}(o),se(o)}))}processSegment(e,n,r,i,s,o){return tn(n).pipe(Fl(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ho(u=>{if(u instanceof Hp)return se(null);throw u}))),$o(a=>!!a),Ho(a=>{if(AF(a))return function HX(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?se([]):Pu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function $X(t,e,n,r){return!!(oi(t)===r||r!==ge&&Gp(e,n,t))&&("**"===t.path||rE(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Pu(i):Pu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?RF(s):this.applyRedirects.lineralizeSegments(r,s).pipe(pn(o=>{const a=new qe(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=rE(n,i,s);if(!a)return Pu(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?RF(d):this.applyRedirects.lineralizeSegments(i,d).pipe(pn(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?YP(i).parameters:{};a=se({snapshot:new Vp(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,OF(r),oi(r),r.component??r._loadedComponent??null,r,PF(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=LX(n,r,i,e).pipe(X(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Vp(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,OF(r),oi(r),r.component??r._loadedComponent??null,r,PF(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(yi(u=>null===u?Pu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(yi(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=kF(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(X(I=>null===I?null:[new fs(d,I)]));if(0===c.length&&0===g.length)return se([new fs(d,[])]);const y=oi(r)===s;return this.processSegment(l,c,p,g,y?ge:s,!0).pipe(X(I=>[new fs(d,I)]))}))))}getChildConfig(e,n,r){return n.children?se({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?se({routes:n._loadedRoutes,injector:n._loadedInjector}):function kX(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?se(!0):se(i.map(o=>{const a=Nu(o,t);return Ks(function _X(t){return t&&Yl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ou(),MF())}(e,n,r).pipe(pn(i=>i?this.configLoader.loadChildren(e,n).pipe(Mn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function PX(t){return Pl(DF(!1,3))}())):se({routes:[],injector:e})}}function WX(t){const e=t.value.routeConfig;return e&&""===e.path}function NF(t){const e=[],n=new Set;for(const r of t){if(!WX(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=NF(r.children);e.push(new fs(r.value,i))}return e.filter(r=>!n.has(r))}function OF(t){return t.data||{}}function PF(t){return t.resolve||{}}function FF(t){return"string"==typeof t.title||null===t.title}function iE(t){return yi(e=>{const n=t(e);return n?tn(n).pipe(X(()=>e)):se(e)})}const Fu=new x("ROUTES");let sE=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(pO)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return se(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ks(n.loadComponent()).pipe(X(LF),Mn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),jw(()=>{this.componentLoaders.delete(n)})),i=new qP(r,()=>new Ye).pipe(Uw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return se({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(X(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c;return Array.isArray(a)?c=a:(u=a.create(n).injector,c=u.get(Fu,[],Ee.Self|Ee.Optional).flat()),{routes:c.map(tE),injector:u}}),jw(()=>{this.childrenLoaders.delete(r)})),o=new qP(s,()=>new Ye).pipe(Uw());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Ks(n()).pipe(X(LF),pn(r=>r instanceof v1||Array.isArray(r)?se(r):tn(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function LF(t){return function eZ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let zp=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ye,this.configLoader=k(sE),this.environmentInjector=k(rs),this.urlSerializer=k(Ul),this.rootContexts=k(zl),this.inputBindingEnabled=null!==k(Bp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>se(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new KJ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new WJ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new ve({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hl,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ws(r=>0!==r.id),X(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),yi(r=>{let i=!1,s=!1;return se(r).pipe(Mn(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),yi(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new Gl(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),mi}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return VF(o.source)&&(n.browserUrlTree=o.extractedUrl),se(o).pipe(yi(l=>{const d=this.transitions?.getValue();return this.events.next(new Ww(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?mi:Promise.resolve(l)}),function KX(t,e,n,r,i,s){return pn(o=>function GX(t,e,n,r,i,s,o="emptyOnly"){return new zX(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(X(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Mn(l=>{if(r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new $J(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new Ww(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const y=yF(0,this.rootComponentType).snapshot;return se(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new Gl(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),mi}}),Mn(o=>{const a=new HJ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),X(o=>r={...o,guards:fX(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function CX(t,e){return pn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?se({...n,guardsResult:!0}):function bX(t,e,n,r){return tn(t).pipe(pn(i=>function RX(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?se(s.map(a=>{const u=Wl(e)??i,c=Nu(a,u);return Ks(function EX(t){return t&&Yl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe($o())})).pipe(Ou()):se(!0)}(i.component,i.route,n,e,r)),$o(i=>!0!==i,!0))}(o,r,i,t).pipe(pn(a=>a&&function yX(t){return"boolean"==typeof t}(a)?function TX(t,e,n,r){return tn(e).pipe(Fl(i=>Vw(function AX(t,e){return null!==t&&e&&e(new QJ(t)),se(!0)}(i.route.parent,r),function SX(t,e){return null!==t&&e&&e(new JJ(t)),se(!0)}(i.route,r),function xX(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function pX(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>zP(()=>se(o.guards.map(u=>{const c=Wl(o.node)??n,l=Nu(u,c);return Ks(function wX(t){return t&&Yl(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe($o())})).pipe(Ou())));return se(s).pipe(Ou())}(t,i.path,n),function MX(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return se(!0);const i=r.map(s=>zP(()=>{const o=Wl(e)??n,a=Nu(s,o);return Ks(function vX(t){return t&&Yl(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe($o())}));return se(i).pipe(Ou())}(t,i.route,n))),$o(i=>!0!==i,!0))}(r,s,t,e):se(a)),X(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Mn(o=>{if(r.guardsResult=o.guardsResult,zo(o.guardsResult))throw IF(0,o.guardsResult);const a=new GJ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Ws(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),iE(o=>{if(o.guards.canActivateChecks.length)return se(o).pipe(Mn(a=>{const u=new zJ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),yi(a=>{let u=!1;return se(a).pipe(function QX(t,e){return pn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return se(n);let s=0;return tn(i).pipe(Fl(o=>function YX(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!FF(i)&&(s[Ll]=i.title),function JX(t,e,n,r){const i=function XX(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return se({});const s={};return tn(i).pipe(pn(o=>function ZX(t,e,n,r){const i=Wl(e)??r,s=Nu(t,i);return Ks(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe($o(),Mn(a=>{s[o]=a}))),Bw(1),function fJ(t){return X(()=>t)}(s),Ho(o=>AF(o)?mi:Pl(o)))}(s,t,e,r).pipe(X(o=>(t._resolvedData=o,t.data=_F(t,n).resolve,i&&FF(i)&&(t.data[Ll]=i.title),null)))}(o.route,r,t,e)),Mn(()=>s++),Bw(1),pn(o=>s===i.length?se(n):mi))})}(n.paramsInheritanceStrategy,this.environmentInjector),Mn({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Mn(a=>{const u=new qJ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),iE(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Mn(l=>{u.component=l}),X(()=>{})));for(const l of u.children)c.push(...a(l));return c};return Ap(a(o.targetSnapshot.root)).pipe(xp(),Au(1))}),iE(()=>this.afterPreactivation()),X(o=>{const a=function rX(t,e,n){const r=ql(t,e._root,n?n._root:void 0);return new mF(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Mn(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n,r)=>X(i=>(new hX(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Au(1),Mn({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new qo(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),jw(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ho(o=>{if(s=!0,bF(o)){CF(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Lp(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),CF(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||VF(r.source)};n.scheduleNavigation(u,Hl,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new Kw(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return mi}))}))}cancelNavigationTransition(n,r,i){const s=new Lp(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function VF(t){return t!==Hl}let UF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ge);return r}getResolvedTitleForRoute(n){return n.data[Ll]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return k(tZ)},providedIn:"root"}),t})(),tZ=(()=>{class t extends UF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(F(LP))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),nZ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return k(iZ)},providedIn:"root"}),t})();class rZ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let iZ=(()=>{class t extends rZ{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=rn(t)))(r||t)}}(),t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const qp=new x("",{providedIn:"root",factory:()=>({})});let sZ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return k(oZ)},providedIn:"root"}),t})(),oZ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Jl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Jl||{});function BF(t,e){t.events.pipe(Ws(n=>n instanceof qo||n instanceof Lp||n instanceof Kw||n instanceof Gl),X(n=>n instanceof qo||n instanceof Gl?Jl.COMPLETE:n instanceof Lp&&(0===n.code||1===n.code)?Jl.REDIRECTING:Jl.FAILED),Ws(n=>n!==Jl.REDIRECTING),Au(1)).subscribe(()=>{e()})}function aZ(t){throw t}function uZ(t,e,n){return e.parse("/")}const cZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Br=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=k(hO),this.isNgZoneEnabled=!1,this.options=k(qp,{optional:!0})||{},this.pendingTasks=k(fO),this.errorHandler=this.options.errorHandler||aZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||uZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=k(sZ),this.routeReuseStrategy=k(nZ),this.titleStrategy=k(UF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=k(Fu,{optional:!0})?.flat()??[],this.navigationTransitions=k(zp),this.urlSerializer=k(Ul),this.location=k(hw),this.componentInputBindingEnabled=!!k(Bp,{optional:!0}),this.isNgZoneEnabled=k(et)instanceof et&&et.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=yF(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hl,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(tE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=aF(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return uF(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=zo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Hl,null,r)}navigate(n,r={skipLocationChange:!1}){return function dZ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new M(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...cZ}:!1===r?{...lZ}:r,zo(n))return XP(this.currentUrlTree,n,i);const s=this.parseUrl(n);return XP(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return BF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Wp=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Ye,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof qo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function ER(t,e,n){return function p6(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?wR:vR}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(T(Br),T(ku),function df(t){return function Fq(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(_M(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(gn(),t)}("tabindex"),T(is),T(Er),T(jo))},t.\u0275dir=re({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&Se("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&Si("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Tu],skipLocationChange:["skipLocationChange","skipLocationChange",Tu],replaceUrl:["replaceUrl","replaceUrl",Tu],routerLink:"routerLink"},standalone:!0,features:[kk,Or]}),t})(),jF=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,s,o){this.router=n,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Dt,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof qo&&this.update()})}ngAfterContentInit(){se(this.links.changes,se(null)).pipe(Oa()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=tn(n).pipe(Oa()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function hZ(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}}return t.\u0275fac=function(n){return new(n||t)(T(Br),T(Er),T(is),T(lp),T(Wp,8))},t.\u0275dir=re({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,i){if(1&n&&z1(i,Wp,5),2&n){let s;G1(s=function q1(){return function h8(t,e){return t[vi].queries[e].queryList}(C(),nx())}())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Or]}),t})();class $F{}let fZ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ws(n=>n instanceof qo),Fl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Rv(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return tn(i).pipe(Oa())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):se(null);const s=i.pipe(pn(o=>null===o?se(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?tn([s,this.loader.loadComponent(r)]).pipe(Oa()):s})}}return t.\u0275fac=function(n){return new(n||t)(F(Br),F(pO),F(rs),F($F),F(sE))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const oE=new x("");let HF=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ww?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof qo?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Gl&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof pF&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pF(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function ok(){throw new Error("invalid")}()},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();function ps(t,e){return{\u0275kind:t,\u0275providers:e}}function zF(){const t=k(Ir);return e=>{const n=t.get(bu);if(e!==n.components[0])return;const r=t.get(Br),i=t.get(qF);1===t.get(aE)&&r.initialNavigation(),t.get(WF,null,Ee.Optional)?.setUpPreloading(),t.get(oE,null,Ee.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const qF=new x("",{factory:()=>new Ye}),aE=new x("",{providedIn:"root",factory:()=>1}),WF=new x("");function yZ(t){return ps(0,[{provide:WF,useExisting:fZ},{provide:$F,useExisting:t}])}const KF=new x("ROUTER_FORROOT_GUARD"),vZ=[hw,{provide:Ul,useClass:$w},Br,zl,{provide:ku,useFactory:function GF(t){return t.routerState.root},deps:[Br]},sE,[]];function wZ(){return new bO("Router",Br)}let QF=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[vZ,[],{provide:Fu,multi:!0,useValue:n},{provide:KF,useFactory:CZ,deps:[[Br,new rr,new pf]]},{provide:qp,useValue:r||{}},r?.useHash?{provide:jo,useClass:NK}:{provide:jo,useClass:ZO},{provide:oE,useFactory:()=>{const t=k(XQ),e=k(et),n=k(qp),r=k(zp),i=k(Ul);return n.scrollOffset&&t.setOffset(n.scrollOffset),new HF(i,r,t,e,n)}},r?.preloadingStrategy?yZ(r.preloadingStrategy).\u0275providers:[],{provide:bO,multi:!0,useFactory:wZ},r?.initialNavigation?bZ(r):[],r?.bindToComponentInputs?ps(8,[EF,{provide:Bp,useExisting:EF}]).\u0275providers:[],[{provide:YF,useFactory:zF},{provide:tw,multi:!0,useExisting:YF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Fu,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(F(KF,8))},t.\u0275mod=Un({type:t}),t.\u0275inj=Dn({}),t})();function CZ(t){return"guarded"}function bZ(t){return["disabled"===t.initialNavigation?ps(3,[{provide:Wv,multi:!0,useFactory:()=>{const e=k(Br);return()=>{e.setUpLocationChangeListener()}}},{provide:aE,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?ps(2,[{provide:aE,useValue:0},{provide:Wv,multi:!0,deps:[Ir],useFactory:e=>{const n=e.get(RK,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Br),s=e.get(qF);BF(i,()=>{r(!0)}),e.get(zp).afterPreactivation=()=>(r(!0),s.closed?se(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const YF=new x("");let SZ=(()=>{class t{constructor(){this.title="task-management-system-sr"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=So({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&Zr(0,"router-outlet")},dependencies:[Up]}),t})();function JF(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){JF(s,r,i,o,a,"next",u)}function a(u){JF(s,r,i,o,a,"throw",u)}o(void 0)})}}const XF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},cE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new RZ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kp=function(t){return function(t){const e=XF(t);return cE.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Qp=function(t){try{return cE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Yp=()=>{try{return function OZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Qp(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},eL=()=>{var t;return null===(t=Yp())||void 0===t?void 0:t.config};class Jp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function br(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lE(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Wo(){try{return"object"==typeof indexedDB}catch{return!1}}function Xl(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function dE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ki.prototype.create)}}class ki{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function qZ(t,e){return t.replace(WZ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ai(i,`${this.serviceName}: ${o} (${i}).`,r)}}const WZ=/\{\$([^}]+)}/g;function hE(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(nL(s)&&nL(o)){if(!hE(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nL(t){return null!==t&&"object"==typeof t}function rL(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class QZ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function YZ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=fE),void 0===i.error&&(i.error=fE),void 0===i.complete&&(i.complete=fE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fE(){}const JZ=1e3,XZ=2,ZZ=144e5,eee=.5;function gE(t,e=JZ,n=XZ){const r=e*Math.pow(n,t),i=Math.round(eee*r*(Math.random()-.5)*2);return Math.min(ZZ,r+i)}function xn(t){return t&&t._delegate?t._delegate:t}class Rn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ko="[DEFAULT]";class nee{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Jp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function iee(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ko){return this.instances.has(e)}getOptions(e=Ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ko?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ko){return this.component?this.component.multipleInstances?e:Ko:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class see{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nee(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const mE=[];var Re=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Re||{});const iL={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},oee=Re.INFO,aee={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},uee=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=aee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Lu{constructor(e){this.name=e,this._logLevel=oee,this._logHandler=uee,this._userLogHandler=null,mE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?iL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const cee=(t,e)=>e.some(n=>t instanceof n);let sL,oL;const aL=new WeakMap,yE=new WeakMap,uL=new WeakMap,_E=new WeakMap,vE=new WeakMap;let wE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return yE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||uL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function mee(t){return"function"==typeof t?function gee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dee(){return oL||(oL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(EE(this),e),Qs(aL.get(this))}:function(...e){return Qs(t.apply(EE(this),e))}:function(e,...n){const r=t.call(EE(this),e,...n);return uL.set(r,e.sort?e.sort():[e]),Qs(r)}}(t):(t instanceof IDBTransaction&&function fee(t){if(yE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yE.set(t,e)}(t),cee(t,function lee(){return sL||(sL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,wE):t)}function Qs(t){if(t instanceof IDBRequest)return function hee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Qs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aL.set(n,t)}).catch(()=>{}),vE.set(e,t),e}(t);if(_E.has(t))return _E.get(t);const e=mee(t);return e!==t&&(_E.set(t,e),vE.set(e,t)),e}const EE=t=>vE.get(t),_ee=["get","getKey","getAll","getAllKeys","count"],vee=["put","add","delete","clear"],IE=new Map;function cL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(IE.get(e))return IE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!_ee.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return IE.set(e,s),s}!function pee(t){wE=t(wE)}(t=>({...t,get:(e,n,r)=>cL(e,n)||t.get(e,n,r),has:(e,n)=>!!cL(e,n)||t.has(e,n)}));class wee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Eee(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const DE="@firebase/app",Qo=new Lu("@firebase/app"),Zp="[DEFAULT]",Wee={[DE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yo=new Map,eg=new Map;function Kee(t,e){try{t.container.addComponent(e)}catch(n){Qo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zn(t){const e=t.name;if(eg.has(e))return Qo.debug(`There were multiple attempts to register component ${e}.`),!1;eg.set(e,t);for(const n of Yo.values())Kee(n,t);return!0}function tg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const gs=new ki("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Yee{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}const Zl="9.23.0";function dL(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Zp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw gs.create("bad-app-name",{appName:String(i)});if(n||(n=eL()),!n)throw gs.create("no-options");const s=Yo.get(i);if(s){if(hE(n,s.options)&&hE(r,s.config))return s;throw gs.create("duplicate-app",{appName:i})}const o=new see(i);for(const u of eg.values())o.addComponent(u);const a=new Yee(n,r,o);return Yo.set(i,a),a}function hL(t=Zp){const e=Yo.get(t);if(!e&&t===Zp&&eL())return dL();if(!e)throw gs.create("no-app",{appName:t});return e}function fL(){return Array.from(Yo.values())}function Ot(t,e,n){var r;let i=null!==(r=Wee[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Qo.warn(a.join(" "))}zn(new Rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Jee="firebase-heartbeat-database",Xee=1,ed="firebase-heartbeat-store";let bE=null;function pL(){return bE||(bE=function yee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Qs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Qs(o.result),u.oldVersion,u.newVersion,Qs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Jee,Xee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ed)}}).catch(t=>{throw gs.create("idb-open",{originalErrorMessage:t.message})})),bE}function TE(){return(TE=m(function*(t){try{return yield(yield pL()).transaction(ed).objectStore(ed).get(mL(t))}catch(e){if(e instanceof ai)Qo.warn(e.message);else{const n=gs.create("idb-get",{originalErrorMessage:e?.message});Qo.warn(n.message)}}})).apply(this,arguments)}function gL(t,e){return SE.apply(this,arguments)}function SE(){return(SE=m(function*(t,e){try{const r=(yield pL()).transaction(ed,"readwrite");yield r.objectStore(ed).put(e,mL(t)),yield r.done}catch(n){if(n instanceof ai)Qo.warn(n.message);else{const r=gs.create("idb-set",{originalErrorMessage:n?.message});Qo.warn(r.message)}}})).apply(this,arguments)}function mL(t){return`${t.name}!${t.options.appId}`}class nte{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ite(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=yL();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=yL(),{heartbeatsToSend:r,unsentEntries:i}=function rte(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),_L(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_L(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Kp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function yL(){return(new Date).toISOString().substring(0,10)}class ite{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!Wo()&&Xl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Zee(t){return TE.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return gL(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return gL(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function _L(t){return Kp(JSON.stringify({version:2,heartbeats:t})).length}!function ste(t){zn(new Rn("platform-logger",e=>new wee(e),"PRIVATE")),zn(new Rn("heartbeat",e=>new nte(e),"PRIVATE")),Ot(DE,"0.9.13",t),Ot(DE,"0.9.13","esm2017"),Ot("fire-js","")}(""),Ot("firebase","9.23.0","app");const ute=(t,e)=>e.some(n=>t instanceof n);let vL,wL;const EL=new WeakMap,AE=new WeakMap,IL=new WeakMap,ME=new WeakMap,xE=new WeakMap;let RE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return AE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||IL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ys(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function gte(t){return"function"==typeof t?function pte(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lte(){return wL||(wL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(kE(this),e),Ys(EL.get(this))}:function(...e){return Ys(t.apply(kE(this),e))}:function(e,...n){const r=t.call(kE(this),e,...n);return IL.set(r,e.sort?e.sort():[e]),Ys(r)}}(t):(t instanceof IDBTransaction&&function hte(t){if(AE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});AE.set(t,e)}(t),ute(t,function cte(){return vL||(vL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,RE):t)}function Ys(t){if(t instanceof IDBRequest)return function dte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ys(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&EL.set(n,t)}).catch(()=>{}),xE.set(e,t),e}(t);if(ME.has(t))return ME.get(t);const e=gte(t);return e!==t&&(ME.set(t,e),xE.set(e,t)),e}const kE=t=>xE.get(t),yte=["get","getKey","getAll","getAllKeys","count"],_te=["put","add","delete","clear"],NE=new Map;function DL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(NE.get(e))return NE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_te.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!yte.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return NE.set(e,s),s}!function fte(t){RE=t(RE)}(t=>({...t,get:(e,n,r)=>DL(e,n)||t.get(e,n,r),has:(e,n)=>!!DL(e,n)||t.has(e,n)}));const CL="@firebase/installations",OE="0.6.4",bL=1e4,TL=`w:${OE}`,SL="FIS_v2",vte="https://firebaseinstallations.googleapis.com/v1",wte=36e5,ms=new ki("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function AL(t){return t instanceof ai&&t.code.includes("request-failed")}function PE({projectId:t}){return`${vte}/projects/${t}/installations`}function ML(t){return{token:t.token,requestStatus:2,expiresIn:Cte(t.expiresIn),creationTime:Date.now()}}function FE(t,e){return LE.apply(this,arguments)}function LE(){return(LE=m(function*(t,e){const r=(yield e.json()).error;return ms.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function xL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function VE(t){return UE.apply(this,arguments)}function UE(){return(UE=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Cte(t){return Number(t.replace("s","000"))}function BE(){return(BE=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=PE(t),i=xL(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:SL,appId:t.appId,sdkVersion:TL})},u=yield VE(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:ML(c.authToken)}}throw yield FE("Create Installation",u)})).apply(this,arguments)}function kL(t){return new Promise(e=>{setTimeout(e,t)})}const Ate=/^[cdef][\w-]{21}$/,jE="";function Mte(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function xte(t){return function Ste(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Ate.test(n)?n:jE}catch{return jE}}function Vu(t){return`${t.appName}!${t.appId}`}const Uu=new Map;function NL(t,e){const n=Vu(t);OL(n,e),function Nte(t,e){const n=function PL(){return!Jo&&"BroadcastChannel"in self&&(Jo=new BroadcastChannel("[Firebase] FID Change"),Jo.onmessage=t=>{OL(t.data.key,t.data.fid)}),Jo}();n&&n.postMessage({key:t,fid:e}),function FL(){0===Uu.size&&Jo&&(Jo.close(),Jo=null)}()}(n,e)}function OL(t,e){const n=Uu.get(t);if(n)for(const r of n)r(e)}let Jo=null;const Ote="firebase-installations-database",Pte=1,Xo="firebase-installations-store";let $E=null;function HE(){return $E||($E=function mte(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ys(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ys(o.result),u.oldVersion,u.newVersion,Ys(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Ote,Pte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Xo)}})),$E}function ng(t,e){return GE.apply(this,arguments)}function GE(){return(GE=m(function*(t,e){const n=Vu(t),i=(yield HE()).transaction(Xo,"readwrite"),s=i.objectStore(Xo),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&NL(t,e.fid),e})).apply(this,arguments)}function zE(t){return qE.apply(this,arguments)}function qE(){return(qE=m(function*(t){const e=Vu(t),r=(yield HE()).transaction(Xo,"readwrite");yield r.objectStore(Xo).delete(e),yield r.done})).apply(this,arguments)}function td(t,e){return WE.apply(this,arguments)}function WE(){return(WE=m(function*(t,e){const n=Vu(t),i=(yield HE()).transaction(Xo,"readwrite"),s=i.objectStore(Xo),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&NL(t,a.fid),a})).apply(this,arguments)}function KE(t){return QE.apply(this,arguments)}function QE(){return QE=m(function*(t){let e;const n=yield td(t.appConfig,r=>{const i=function Fte(t){return VL(t||{fid:Mte(),registrationStatus:0})}(r),s=function Lte(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ms.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Vte(t,e){return YE.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Ute(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===jE?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),QE.apply(this,arguments)}function YE(){return YE=m(function*(t,e){try{const n=yield function Tte(t,e){return BE.apply(this,arguments)}(t,e);return ng(t.appConfig,n)}catch(n){throw AL(n)&&409===n.customData.serverCode?yield zE(t.appConfig):yield ng(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),YE.apply(this,arguments)}function Ute(t){return JE.apply(this,arguments)}function JE(){return(JE=m(function*(t){let e=yield LL(t.appConfig);for(;1===e.registrationStatus;)yield kL(100),e=yield LL(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield KE(t);return r||n}return e})).apply(this,arguments)}function LL(t){return td(t,e=>{if(!e)throw ms.create("installation-not-found");return VL(e)})}function VL(t){return function Bte(t){return 1===t.registrationStatus&&t.registrationTime+bL<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function XE(){return(XE=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function $te(t,{fid:e}){return`${PE(t)}/${e}/authTokens:generate`}(t,n),i=function RL(t,{refreshToken:e}){const n=xL(t);return n.append("Authorization",function bte(t){return`${SL} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:TL,appId:t.appId}})},u=yield VE(()=>fetch(r,a));if(u.ok)return ML(yield u.json());throw yield FE("Generate Auth Token",u)})).apply(this,arguments)}function ZE(t){return eI.apply(this,arguments)}function eI(){return eI=m(function*(t,e=!1){let n;const r=yield td(t.appConfig,s=>{if(!BL(s))throw ms.create("not-registered");const o=s.authToken;if(!e&&function zte(t){return 2===t.requestStatus&&!function qte(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+wte}(t)}(o))return s;if(1===o.requestStatus)return n=function Hte(t,e){return tI.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw ms.create("app-offline");const a=function Wte(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Gte(t,e){return nI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),eI.apply(this,arguments)}function tI(){return(tI=m(function*(t,e){let n=yield UL(t.appConfig);for(;1===n.authToken.requestStatus;)yield kL(100),n=yield UL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?ZE(t,e):r})).apply(this,arguments)}function UL(t){return td(t,e=>{if(!BL(e))throw ms.create("not-registered");return function Kte(t){return 1===t.requestStatus&&t.requestTime+bL<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function nI(){return nI=m(function*(t,e){try{const n=yield function jte(t,e){return XE.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield ng(t.appConfig,r),n}catch(n){if(!AL(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield ng(t.appConfig,r)}else yield zE(t.appConfig);throw n}}),nI.apply(this,arguments)}function BL(t){return void 0!==t&&2===t.registrationStatus}function rI(){return(rI=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield KE(e);return r?r.catch(console.error):ZE(e).catch(console.error),n.fid})).apply(this,arguments)}function iI(){return iI=m(function*(t,e=!1){const n=t;return yield function Jte(t){return sI.apply(this,arguments)}(n),(yield ZE(n,e)).token}),iI.apply(this,arguments)}function sI(){return(sI=m(function*(t){const{registrationPromise:e}=yield KE(t);e&&(yield e)})).apply(this,arguments)}function uI(t){return ms.create("missing-app-config-values",{valueName:t})}const jL="installations",nne=t=>{const e=t.getProvider("app").getImmediate(),n=function ene(t){if(!t||!t.options)throw uI("App Configuration");if(!t.name)throw uI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw uI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:tg(e,"heartbeat"),_delete:()=>Promise.resolve()}},rne=t=>{const n=tg(t.getProvider("app").getImmediate(),jL).getImmediate();return{getId:()=>function Qte(t){return rI.apply(this,arguments)}(n),getToken:i=>function Yte(t){return iI.apply(this,arguments)}(n,i)}};(function ine(){zn(new Rn(jL,nne,"PUBLIC")),zn(new Rn("installations-internal",rne,"PRIVATE"))})(),Ot(CL,OE),Ot(CL,OE,"esm2017");const cI="@firebase/remote-config",ur=new ki("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class gne{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function mne(t=navigator){return t.languages&&t.languages[0]||t.language}class yne{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:mne()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((I,_)=>{e.signal.addEventListener(()=>{const S=new Error("The operation was aborted.");S.name="AbortError",_(S)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(I){let _="fetch-client-network";throw"AbortError"===I?.name&&(_="fetch-timeout"),ur.create(_,{originalErrorMessage:I?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,y;if(200===h.status){let I;try{I=yield h.json()}catch(_){throw ur.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=I.entries,y=I.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(g={}),304!==f&&200!==f)throw ur.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class wne{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function _ne(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(ur.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function vne(t){if(!(t instanceof ai&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+gE(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Dne{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ig(t,e){const n=t.target.error||void 0;return ur.create(e,{originalErrorMessage:n&&n?.message})}const Zo="app_namespace_store";class Sne{constructor(e,n,r,i=function Tne(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(ig(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Zo,{keyPath:"compositeKey"})}}catch(n){e(ur.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Zo],"readonly").objectStore(Zo),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(ig(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(ur.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Zo],"readwrite").objectStore(Zo),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(ig(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(ur.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Zo],"readwrite").objectStore(Zo),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(ig(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(ur.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Ane{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function xne(){return pI.apply(this,arguments)}function pI(){return(pI=m(function*(){if(!Wo())return!1;try{return yield Xl()}catch{return!1}})).apply(this,arguments)}!function Mne(){zn(new Rn("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ur.create("registration-window");if(!Wo())throw ur.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw ur.create("registration-project-id");if(!o)throw ur.create("registration-api-key");if(!a)throw ur.create("registration-app-id");const u=new Sne(a,r.name,n=n||"firebase"),c=new Ane(u),l=new Lu(cI);l.logLevel=Re.ERROR;const d=new yne(i,Zl,n,s,o,a),h=new wne(d,u),f=new gne(h,u,c,l),p=new Dne(r,f,c,u,l);return function hne(t){const e=xn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ot(cI,"0.4.4"),Ot(cI,"0.4.4","esm2017")}();const Rne=(t,e)=>e.some(n=>t instanceof n);let zL,qL;const WL=new WeakMap,gI=new WeakMap,KL=new WeakMap,mI=new WeakMap,yI=new WeakMap;let _I={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return gI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||KL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ys(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Vne(t){return"function"==typeof t?function Lne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Nne(){return qL||(qL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(vI(this),e),ys(WL.get(this))}:function(...e){return ys(t.apply(vI(this),e))}:function(e,...n){const r=t.call(vI(this),e,...n);return KL.set(r,e.sort?e.sort():[e]),ys(r)}}(t):(t instanceof IDBTransaction&&function Pne(t){if(gI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});gI.set(t,e)}(t),Rne(t,function kne(){return zL||(zL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,_I):t)}function ys(t){if(t instanceof IDBRequest)return function One(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ys(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&WL.set(n,t)}).catch(()=>{}),yI.set(e,t),e}(t);if(mI.has(t))return mI.get(t);const e=Vne(t);return e!==t&&(mI.set(t,e),yI.set(e,t)),e}const vI=t=>yI.get(t);function QL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ys(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ys(o.result),u.oldVersion,u.newVersion,ys(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function wI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),ys(n).then(()=>{})}const Une=["get","getKey","getAll","getAllKeys","count"],Bne=["put","add","delete","clear"],EI=new Map;function YL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(EI.get(e))return EI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Bne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Une.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return EI.set(e,s),s}!function Fne(t){_I=t(_I)}(t=>({...t,get:(e,n,r)=>YL(e,n)||t.get(e,n,r),has:(e,n)=>!!YL(e,n)||t.has(e,n)}));const jne="/firebase-messaging-sw.js",$ne="/firebase-cloud-messaging-push-scope",JL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Hne="https://fcmregistrations.googleapis.com/v1",XL="google.c.a.c_id",Gne="google.c.a.c_l",zne="google.c.a.ts";var sg=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(sg||{});function _s(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Kne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const II="fcm_token_details_db",Qne=5,ZL="fcm_token_object_Store";function DI(){return DI=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(II))return null;let e=null;return(yield QL(II,Qne,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(ZL))return;const c=a.objectStore(ZL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:_s(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:_s(d.auth),p256dh:_s(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:_s(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:_s(d.auth),p256dh:_s(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:_s(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield wI(II),yield wI("fcm_vapid_details_db"),yield wI("undefined"),function Jne(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),DI.apply(this,arguments)}const Xne="firebase-messaging-database",Zne=1,ea="firebase-messaging-store";let CI=null;function bI(){return CI||(CI=QL(Xne,Zne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ea)}})),CI}function eV(t){return TI.apply(this,arguments)}function TI(){return TI=m(function*(t){const e=xI(t),r=yield(yield bI()).transaction(ea).objectStore(ea).get(e);if(r)return r;{const i=yield function Yne(t){return DI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield SI(t,i),i}}),TI.apply(this,arguments)}function SI(t,e){return AI.apply(this,arguments)}function AI(){return(AI=m(function*(t,e){const n=xI(t),i=(yield bI()).transaction(ea,"readwrite");return yield i.objectStore(ea).put(e,n),yield i.done,e})).apply(this,arguments)}function MI(){return(MI=m(function*(t){const e=xI(t),r=(yield bI()).transaction(ea,"readwrite");yield r.objectStore(ea).delete(e),yield r.done})).apply(this,arguments)}function xI({appConfig:t}){return t.appId}const mn=new ki("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function nre(t,e){return RI.apply(this,arguments)}function RI(){return(RI=m(function*(t,e){const n=yield PI(t),r=nV(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(OI(t.appConfig),i)).json()}catch(o){throw mn.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw mn.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw mn.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function kI(){return(kI=m(function*(t,e){const n=yield PI(t),r=nV(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${OI(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw mn.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw mn.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw mn.create("token-update-no-token");return s.token})).apply(this,arguments)}function tV(t,e){return NI.apply(this,arguments)}function NI(){return(NI=m(function*(t,e){const r={method:"DELETE",headers:yield PI(t)};try{const s=yield(yield fetch(`${OI(t.appConfig)}/${e}`,r)).json();if(s.error)throw mn.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw mn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function OI({projectId:t}){return`${Hne}/projects/${t}/registrations`}function PI(t){return FI.apply(this,arguments)}function FI(){return(FI=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function nV({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==JL&&(i.web.applicationPubKey=r),i}const ire=6048e5;function LI(){return LI=m(function*(t){const e=yield function are(t,e){return jI.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:_s(e.getKey("auth")),p256dh:_s(e.getKey("p256dh"))},r=yield eV(t.firebaseDependencies);if(r){if(function ure(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+ire?function ore(t,e){return UI.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield tV(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return iV(t.firebaseDependencies,n)}return iV(t.firebaseDependencies,n)}),LI.apply(this,arguments)}function VI(){return VI=m(function*(t){const e=yield eV(t.firebaseDependencies);e&&(yield tV(t.firebaseDependencies,e.token),yield function ere(t){return MI.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),VI.apply(this,arguments)}function UI(){return UI=m(function*(t,e){try{const n=yield function rre(t,e){return kI.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield SI(t.firebaseDependencies,r),n}catch(n){throw yield function rV(t){return VI.apply(this,arguments)}(t),n}}),UI.apply(this,arguments)}function iV(t,e){return BI.apply(this,arguments)}function BI(){return(BI=m(function*(t,e){const r={token:yield nre(t,e),createTime:Date.now(),subscriptionOptions:e};return yield SI(t,r),r.token})).apply(this,arguments)}function jI(){return(jI=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Kne(e)})})).apply(this,arguments)}function sV(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function cre(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function lre(t,e){e.data&&(t.data=e.data)}(e,t),function dre(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function oV(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function $I(t){return mn.create("missing-app-config-values",{valueName:t})}oV("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),oV("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pre{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function fre(t){if(!t||!t.options)throw $I("App Configuration Object");if(!t.name)throw $I("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw $I(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function HI(){return(HI=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(jne,{scope:$ne}),t.swRegistration.update().catch(()=>{})}catch(e){throw mn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function GI(){return(GI=m(function*(t,e){if(!e&&!t.swRegistration&&(yield function aV(t){return HI.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw mn.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function zI(){return(zI=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=JL)})).apply(this,arguments)}function qI(){return qI=m(function*(t,e){if(!navigator)throw mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mn.create("permission-blocked");return yield function mre(t,e){return zI.apply(this,arguments)}(t,e?.vapidKey),yield function gre(t,e){return GI.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function sre(t){return LI.apply(this,arguments)}(t)}),qI.apply(this,arguments)}function WI(){return(WI=m(function*(t,e,n){const r=function _re(t){switch(t){case sg.NOTIFICATION_CLICKED:return"notification_open";case sg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[XL],message_name:n[Gne],message_time:n[zne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function KI(){return KI=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===sg.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(sV(n)):t.onMessageHandler.next(sV(n)));const r=n.data;(function hre(t){return"object"==typeof t&&!!t&&XL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function yre(t,e,n){return WI.apply(this,arguments)}(t,n.messageType,r))}),KI.apply(this,arguments)}const cV="@firebase/messaging",wre=t=>{const e=new pre(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function vre(t,e){return KI.apply(this,arguments)}(e,n)),e},Ere=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function uV(t,e){return qI.apply(this,arguments)}(e,r)}};function dV(){return QI.apply(this,arguments)}function QI(){return(QI=m(function*(){try{yield Xl()}catch{return!1}return typeof window<"u"&&Wo()&&dE()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ire(){zn(new Rn("messaging",wre,"PUBLIC")),zn(new Rn("messaging-internal",Ere,"PRIVATE")),Ot(cV,"0.12.4"),Ot(cV,"0.12.4","esm2017")}();const og="analytics",bre="firebase_id",Tre="origin",Sre=6e4,Are="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",XI="https://www.googletagmanager.com/gtag/js",sn=new Lu("@firebase/analytics"),qn=new ki("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function xre(t){if(!t.startsWith(XI)){const e=qn.create("invalid-gtag-resource",{gtagURL:t});return sn.warn(e.message),""}return t}function hV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function ZI(){return(ZI=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield hV(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){sn.error(a)}t("config",i,s)})).apply(this,arguments)}function eD(){return(eD=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield hV(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){sn.error(s)}})).apply(this,arguments)}const Ure=30,fV=new class jre{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function $re(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function tD(){return(tD=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:$re(r)},s=Are.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw qn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function nD(){return(nD=m(function*(t,e=fV,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw qn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw qn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Wre;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:Sre),pV({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function pV(t,e,n){return rD.apply(this,arguments)}function rD(){return rD=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=fV){var s;const{appId:o,measurementId:a}=t;try{yield function zre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(qn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Hre(t){return tD.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function qre(t){if(!(t instanceof ai&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?gE(n,i.intervalMillis,Ure):gE(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),sn.debug(`Calling attemptFetch again in ${l} millis`),pV(t,d,r,i)}}),rD.apply(this,arguments)}class Wre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let iD,dD;function sD(){return(sD=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function hD(){return(hD=m(function*(){if(!Wo())return sn.warn(qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Xl()}catch(t){return sn.warn(qn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function fD(){return fD=m(function*(t,e,n,r,i,s,o){var a;const u=function Gre(t){return nD.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>sn.error(f)),e.push(u);const c=function eie(){return hD.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Vre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(XI)&&n.src.includes(t))return n;return null})(s)||function kre(t,e){const n=function Rre(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:xre}),r=document.createElement("script"),i=`${XI}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),dD&&(i("consent","default",dD),function gV(t){dD=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[Tre]="firebase",h.update=!0,null!=d&&(h[bre]=d),i("config",l.measurementId,h),iD&&(i("set",iD),function mV(t){iD=t}(void 0)),l.measurementId}),fD.apply(this,arguments)}class nie{constructor(e){this.app=e}_delete(){return delete Ni[this.app.options.appId],Promise.resolve()}}let Ni={},yV=[];const _V={};let wV,Oi,ag="dataLayer",pD=!1;function iie(t,e,n){!function rie(){const t=[];if(lE()&&t.push("This is a browser extension environment."),dE()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=qn.create("invalid-analytics-context",{errorInfo:e});sn.warn(n.message)}}();const r=t.options.appId;if(!r)throw qn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw qn.create("no-api-key");sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ni[r])throw qn.create("already-exists",{id:r});if(!pD){!function Nre(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(ag);const{wrappedGtag:s,gtagCore:o}=function Lre(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Fre(t,e,n,r){function s(){return s=m(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function Pre(t,e,n,r,i){return eD.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function Ore(t,e,n,r,i,s){return ZI.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){sn.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Ni,yV,_V,ag,"gtag");Oi=s,wV=o,pD=!0}return Ni[r]=function tie(t,e,n,r,i,s,o){return fD.apply(this,arguments)}(t,yV,_V,e,wV,ag,n),new nie(t)}function oie(){return gD.apply(this,arguments)}function gD(){return(gD=m(function*(){if(lE()||!dE()||!Wo())return!1;try{return yield Xl()}catch{return!1}})).apply(this,arguments)}const EV="@firebase/analytics";!function uie(){zn(new Rn(og,(e,{options:n})=>iie(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),zn(new Rn("analytics-internal",function t(e){try{const n=e.getProvider(og).getImmediate();return{logEvent:(r,i,s)=>function aie(t,e,n,r){t=xn(t),function Kre(t,e,n,r,i){return sD.apply(this,arguments)}(Oi,Ni[t.app.options.appId],e,n,r).catch(i=>sn.error(i))}(n,r,i,s)}}catch(n){throw qn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ot(EV,"0.10.0"),Ot(EV,"0.10.0","esm2017")}();class cie extends wt{constructor(e,n){super()}schedule(e,n=0){return this}}const ug={setInterval(t,e,...n){const{delegate:r}=ug;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=ug;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class DV extends cie{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ug.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&ug.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ke(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const CV={now:()=>(CV.delegate||Date).now(),delegate:void 0};class nd{constructor(e,n=nd.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}nd.now=CV.now;class bV extends nd{constructor(e,n=nd.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const TV=new class die extends bV{}(class lie extends DV{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),hie=new bV(DV),yD=new au("7.6.1"),_D="__angularfire_symbol__analyticsIsSupportedValue",vD="__angularfire_symbol__analyticsIsSupported",wD="__angularfire_symbol__remoteConfigIsSupportedValue",ED="__angularfire_symbol__remoteConfigIsSupported",ID="__angularfire_symbol__messagingIsSupportedValue",DD="__angularfire_symbol__messagingIsSupported";globalThis[vD]||(globalThis[vD]=oie().then(t=>globalThis[_D]=t).catch(()=>globalThis[_D]=!1)),globalThis[DD]||(globalThis[DD]=dV().then(t=>globalThis[ID]=t).catch(()=>globalThis[ID]=!1)),globalThis[ED]||(globalThis[ED]=xne().then(t=>globalThis[wD]=t).catch(()=>globalThis[wD]=!1));const TD=(t,e)=>{const n=e?[e]:fL(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Bu(){}class SV{constructor(e,n=TV){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class fie{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bu,{},Bu,Bu)),n.pipe(Mn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let AV=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new SV(Zone.current)),this.insideAngular=n.run(()=>new SV(Zone.current,hie)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(F(et))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ta(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function na(t){return ta().ngZone.run(()=>t())}function gie(t){return ta(),function mie(t){return function(n){return(n=n.lift(new fie(t.ngZone))).pipe(Oh(t.outsideAngular),Lc(t.insideAngular))}}(ta())(t)}const yie=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),na(()=>t.apply(void 0,r))},ui=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=na(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bu,{},Bu,Bu)))),r[s]=yie(r[s],n));const i=function pie(t){return ta().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Z){const s=ta();return i.pipe(Oh(s.outsideAngular),Lc(s.insideAngular))}return na(()=>i)}return i instanceof Z?i.pipe(gie):i instanceof Promise?na(()=>new Promise((s,o)=>i.then(a=>na(()=>s(a)),a=>na(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:na(()=>i)};class ju{constructor(e){return e}}class MV{constructor(){return fL()}}const SD=new x("angularfire2._apps"),vie={provide:ju,useFactory:function _ie(t){return t&&1===t.length?t[0]:new ju(hL())},deps:[[new rr,SD]]},wie={provide:MV,deps:[[new rr,SD]]};function Eie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ju(r)}}let Iie=(()=>{class t{constructor(n){Ot("angularfire",yD.full,"core"),Ot("angularfire",yD.full,"app"),Ot("angular",jR.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(F($s))},t.\u0275mod=Un({type:t}),t.\u0275inj=Dn({providers:[vie,wie]}),t})();function Die(t,...e){return{ngModule:Iie,providers:[{provide:SD,useFactory:Eie(t),multi:!0,deps:[et,Ir,AV,...e]}]}}const Cie=ui(dL,!0);const bie=function xV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},RV=new ki("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),cg=new Lu("@firebase/auth");function lg(t,...e){cg.logLevel<=Re.ERROR&&cg.error(`Auth (${Zl}): ${t}`,...e)}function cr(t,...e){throw AD(t,...e)}function Pi(t,...e){return AD(t,...e)}function AD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RV.create(t,...e)}function N(t,e,...n){if(!t)throw AD(e,...n)}function Fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lg(e),new Error(e)}function Js(t,e){t||Fi(e)}function NV(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class id{constructor(e,n){this.shortDelay=e,this.longDelay=n,Js(n>e,"Short delay should be less than long delay!"),this.isMobile=function $Z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(br())}()||function GZ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Sie(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function MD(){return"http:"===NV()||"https:"===NV()}()||lE()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class OV{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xie=new id(3e4,6e4);function Ct(t,e,n,r){return RD.apply(this,arguments)}function RD(){return(RD=m(function*(t,e,n,r,i={}){return PV(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=rL(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),OV.fetch()(FV(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function PV(t,e,n){return kD.apply(this,arguments)}function kD(){return(kD=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Mie),e);try{const i=new Rie(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw sd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw sd(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw sd(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw sd(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function kV(t,e,n){const r=Object.assign(Object.assign({},bie()),{[e]:n});return new ki("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);cr(t,l)}}catch(i){if(i instanceof ai)throw i;cr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function FV(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function xD(t,e){Js(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class Rie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pi(this.auth,"network-request-failed")),xie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pi(t,e,r);return i.customData._tokenResponse=n,i}function OD(){return(OD=m(function*(t,e){return Ct(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function FD(){return(FD=m(function*(t,e){return Ct(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function od(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function LD(){return(LD=m(function*(t,e=!1){const n=xn(t),r=yield n.getIdToken(e),i=dg(r);N(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:od(VD(i.auth_time)),issuedAtTime:od(VD(i.iat)),expirationTime:od(VD(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function VD(t){return 1e3*Number(t)}function dg(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return lg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Qp(n);return i?JSON.parse(i):(lg("Failed to decode base64 JWT payload"),null)}catch(i){return lg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ws(t,e){return UD.apply(this,arguments)}function UD(){return(UD=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof ai&&function Lie({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Vie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class LV{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=od(this.lastLoginAt),this.creationTime=od(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ad(t){return BD.apply(this,arguments)}function BD(){return BD=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ws(t,function Oie(t,e){return FD.apply(this,arguments)}(n,{idToken:r}));N(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function jie(t){return t.map(e=>{var{providerId:n}=e,r=gt(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Bie(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new LV(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),BD.apply(this,arguments)}function jD(){return(jD=m(function*(t){const e=xn(t);yield ad(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function $D(){return($D=m(function*(t,e){const n=yield PV(t,{},m(function*(){const r=rL({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=FV(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",OV.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class ud{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(typeof e.idToken<"u","internal-error"),N(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Fie(t){const e=dg(t);return N(e,"internal-error"),N(typeof e.exp<"u","internal-error"),N(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return N(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function $ie(t,e){return $D.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ud;return r&&(N("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(N("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(N("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ud,this.toJSON())}_performRefresh(){return Fi("not implemented")}}function Xs(t,e){N("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ra{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=gt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new LV(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield ws(n,n.stsTokenManager.getToken(n.auth,e));return N(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Pie(t){return LD.apply(this,arguments)}(this,e)}reload(){return function Uie(t){return jD.apply(this,arguments)}(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ra(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield ad(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield ws(e,function kie(t,e){return OD.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:S,emailVerified:U,isAnonymous:j,providerData:ue,stsTokenManager:At}=n;N(S&&At,e,"internal-error");const fi=ud.fromJSON(this.name,At);N("string"==typeof S,e,"internal-error"),Xs(d,e.name),Xs(h,e.name),N("boolean"==typeof U,e,"internal-error"),N("boolean"==typeof j,e,"internal-error"),Xs(f,e.name),Xs(p,e.name),Xs(g,e.name),Xs(y,e.name),Xs(I,e.name),Xs(_,e.name);const Io=new ra({uid:S,auth:e,email:h,emailVerified:U,displayName:d,isAnonymous:j,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:fi,createdAt:I,lastLoginAt:_});return ue&&Array.isArray(ue)&&(Io.providerData=ue.map(Nge=>Object.assign({},Nge))),y&&(Io._redirectEventId=y),Io}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new ud;i.updateFromServerResponse(n);const s=new ra({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ad(s),s})()}}const VV=new Map;function Es(t){Js(t instanceof Function,"Expected a class definition");let e=VV.get(t);return e?(Js(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VV.set(t,e),e)}const UV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function hg(t,e,n){return`firebase:${t}:${e}:${n}`}class Hu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=hg(this.userKey,i.apiKey,s),this.fullPersistenceKey=hg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ra._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new Hu(Es(UV),e,r);const i=(yield Promise.all(n.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Es(UV);const o=hg(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=ra._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=m(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Hu(s,e,r)):new Hu(s,e,r)})()}}function BV(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function HV(t=br()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function jV(t=br()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function zV(t=br()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function qV(t=br()){return/webos/i.test(t)}(e))return"Webos";if(function HD(t=br()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function $V(t=br()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function GV(t=br()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function WV(t,e=[]){let n;switch(t){case"Browser":n=BV(br());break;case"Worker":n=`${BV(br())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zl}/${r}`}function KV(t,e){return zD.apply(this,arguments)}function zD(){return(zD=m(function*(t,e){return Ct(t,"GET","/v2/recaptchaConfig",function _t(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function YV(t){return void 0!==t&&void 0!==t.enterprise}class JV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class ZV{constructor(e){this.type="recaptcha-enterprise",this.auth=on(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function s(){return s=m(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=m(function*(c,l){KV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new JV(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;YV(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&YV(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function qD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Pi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function qie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class Yie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Jie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e2(this),this.idTokenSubscription=new e2(this),this.beforeStateQueue=new Yie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Es(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Hu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return N(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield ad(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Aie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?xn(e):null;return r&&N(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&N(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(Es(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield KV(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new JV(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new ZV(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ki("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&Es(e)||n._popupRedirectResolver;N(r,n,"argument-error"),n.redirectPersistenceManager=yield Hu.create(n,[Es(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return N(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Tie(t,...e){cg.logLevel<=Re.WARN&&cg.warn(`Auth (${Zl}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function on(t){return xn(t)}class e2{constructor(e){this.auth=e,this.observer=null,this.addObserver=function KZ(t,e){const n=new QZ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function XV(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new id(3e4,6e4),new id(2e3,1e4),new id(3e4,6e4),new id(5e3,15e3),encodeURIComponent("fac");var M2="@firebase/auth";class Hoe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Yp(),function zoe(t){zn(new Rn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;N(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WV(t)},c=new Jie(r,i,s,u);return function Zie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Es);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zn(new Rn("auth-internal",e=>{const n=on(e.getProvider("auth").getImmediate());return new Hoe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ot(M2,"0.23.2",function Goe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Ot(M2,"0.23.2","esm2017")}("Browser");class N2{constructor(){return TD("auth")}}const Ob=new Map,O2={activated:!1,tokenObservers:[]},Xoe={initialized:!1,enabled:!1};function bt(t){return Ob.get(t)||Object.assign({},O2)}function bg(){return Xoe}const Pb="https://content-firebaseappcheck.googleapis.com/v1",nae="exchangeDebugToken",P2={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class iae{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new Jp,yield function sae(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Jp,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const yn=new ki("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Fb(t){if(!bt(t).activated)throw yn.create("use-before-activation",{appName:t.name})}function Ag(t,e){return Vb.apply(this,arguments)}function Vb(){return Vb=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw yn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw yn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw yn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw yn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),Vb.apply(this,arguments)}function F2(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Pb}/projects/${n}/apps/${r}:${nae}?key=${i}`,body:{debug_token:e}}}const cae="firebase-app-check-database",lae=1,fd="firebase-app-check-store";let Mg=null;function Ub(){return Ub=m(function*(t,e){const r=(yield function V2(){return Mg||(Mg=new Promise((t,e)=>{try{const n=indexedDB.open(cae,lae);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(yn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(fd,{keyPath:"compositeKey"})}}catch(n){e(yn.create("storage-open",{originalErrorMessage:n?.message}))}}),Mg)}()).transaction(fd,"readwrite"),s=r.objectStore(fd).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(yn.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),Ub.apply(this,arguments)}const pd=new Lu("@firebase/app-check");function $b(t,e){return Wo()?function hae(t,e){return function U2(t,e){return Ub.apply(this,arguments)}(function j2(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{pd.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Gb(){return bg().enabled}function zb(){return qb.apply(this,arguments)}function qb(){return qb=m(function*(){const t=bg();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),qb.apply(this,arguments)}const _ae={error:"UNKNOWN_ERROR"};function vae(t){return cE.encodeString(JSON.stringify(t),!1)}function xg(t){return Wb.apply(this,arguments)}function Wb(){return Wb=m(function*(t,e=!1){const n=t.app;Fb(n);const r=bt(n);let s,i=r.token;if(i&&!zu(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(zu(u)?i=u:yield $b(n,void 0))}if(!e&&i&&zu(i))return{token:i.token};let a,o=!1;if(Gb()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ag(F2(n,yield zb()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield $b(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield bt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?pd.warn(u.message):pd.error(u),s=u}return i?s?a=zu(i)?{token:i.token,internalError:s}:z2(s):(a={token:i.token},r.token=i,yield $b(n,i)):a=z2(s),o&&function G2(t,e){const n=bt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),Wb.apply(this,arguments)}function Kb(){return Kb=m(function*(t){const e=t.app;Fb(e);const{provider:n}=bt(e);if(Gb()){const r=yield zb(),{token:i}=yield Ag(F2(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),Kb.apply(this,arguments)}function Yb(t,e){const n=bt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function H2(t){const{app:e}=t,n=bt(e);let r=n.tokenRefresher;r||(r=function wae(t){const{app:e}=t;return new iae(m(function*(){let r;if(r=bt(e).token?yield xg(t,!0):yield xg(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=bt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},P2.RETRIAL_MIN_WAIT,P2.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function zu(t){return t.expireTimeMillis-Date.now()>0}function z2(t){return{token:vae(_ae),error:t}}class Eae{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=bt(this.app);for(const n of e)Yb(this.app,n.next);return Promise.resolve()}}const Z2="app-check-internal";!function Pae(){zn(new Rn("app-check",t=>function Iae(t,e){return new Eae(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Z2).initialize()})),zn(new Rn(Z2,t=>function Dae(t){return{getToken:e=>xg(t,e),getLimitedUseToken:()=>function $2(t){return Kb.apply(this,arguments)}(t),addTokenListener:e=>function Qb(t,e,n,r){const{app:i}=t,s=bt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&zu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),H2(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>H2(t))}(t,"INTERNAL",e),removeTokenListener:e=>Yb(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ot("@firebase/app-check","0.8.0")}();class tU{constructor(){return TD("app-check")}}typeof window<"u"&&window;var L,Bae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ci={},tT=tT||{},le=Bae||self;function kg(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function gd(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var nT="closure_uid_"+(1e9*Math.random()>>>0),$ae=0;function Hae(t,e,n){return t.call.apply(t.bind,arguments)}function Gae(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function kn(t,e,n){return(kn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hae:Gae).apply(null,arguments)}function Ng(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function an(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function eo(){this.s=this.s,this.o=this.o}eo.prototype.s=!1,eo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function jae(t){Object.prototype.hasOwnProperty.call(t,nT)&&t[nT]||(t[nT]=++$ae)}(this)},eo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nU=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function rT(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function rU(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(kg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Nn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Nn.prototype.h=function(){this.defaultPrevented=!0};var qae=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{le.addEventListener("test",()=>{},e),le.removeEventListener("test",()=>{},e)}catch{}return t}();function md(t){return/^[\s\xa0]*$/.test(t)}function Og(){var t=le.navigator;return t&&(t=t.userAgent)?t:""}function Li(t){return-1!=Og().indexOf(t)}function iT(t){return iT[" "](t),t}iT[" "]=function(){};var oT,Kae=Li("Opera"),qu=Li("Trident")||Li("MSIE"),iU=Li("Edge"),sT=iU||qu,sU=Li("Gecko")&&!(-1!=Og().toLowerCase().indexOf("webkit")&&!Li("Edge"))&&!(Li("Trident")||Li("MSIE"))&&!Li("Edge"),Qae=-1!=Og().toLowerCase().indexOf("webkit")&&!Li("Edge");function oU(){var t=le.document;return t?t.documentMode:void 0}e:{var aT="",uT=function(){var t=Og();return sU?/rv:([^\);]+)(\)|;)/.exec(t):iU?/Edge\/([\d\.]+)/.exec(t):qu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Qae?/WebKit\/(\S+)/.exec(t):Kae?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(uT&&(aT=uT?uT[1]:""),qu){var cT=oU();if(null!=cT&&cT>parseFloat(aT)){oT=String(cT);break e}}oT=aT}var Yae=le.document&&qu&&(oU()||parseInt(oT,10))||void 0;function yd(t,e){if(Nn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(sU){e:{try{iT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Jae[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&yd.$.h.call(this)}}an(yd,Nn);var Jae={2:"touch",3:"pen",4:"mouse"};yd.prototype.h=function(){yd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var _d="closure_listenable_"+(1e6*Math.random()|0),Xae=0;function Zae(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Xae,this.fa=this.ia=!1}function Pg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function dT(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function uU(t){const e={};for(const n in t)e[n]=t[n];return e}const cU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lU(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<cU.length;s++)n=cU[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Fg(t){this.src=t,this.g={},this.h=0}function hT(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=nU(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Pg(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function fT(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Fg.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=fT(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Zae(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var pT="closure_lm_"+(1e6*Math.random()|0),gT={};function dU(t,e,n,r,i){if(r&&r.once)return fU(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)dU(t,e[s],n,r,i);return null}return n=vT(n),t&&t[_d]?t.O(e,n,gd(r)?!!r.capture:!!r,i):hU(t,e,n,!1,r,i)}function hU(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=gd(i)?!!i.capture:!!i,a=yT(t);if(a||(t[pT]=a=new Fg(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function tue(){const e=nue;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qae||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gU(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function fU(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)fU(t,e[s],n,r,i);return null}return n=vT(n),t&&t[_d]?t.P(e,n,gd(r)?!!r.capture:!!r,i):hU(t,e,n,!0,r,i)}function pU(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)pU(t,e[s],n,r,i);else r=gd(r)?!!r.capture:!!r,n=vT(n),t&&t[_d]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=fT(s=t.g[e],n,r,i))&&(Pg(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=yT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=fT(e,n,r,i)),(n=-1<t?e[t]:null)&&mT(n))}function mT(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[_d])hT(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gU(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yT(e))?(hT(n,t),0==n.h&&(n.src=null,e[pT]=null)):Pg(t)}}}function gU(t){return t in gT?gT[t]:gT[t]="on"+t}function nue(t,e){if(t.fa)t=!0;else{e=new yd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&mT(t),t=n.call(r,e)}return t}function yT(t){return(t=t[pT])instanceof Fg?t:null}var _T="__closure_events_fn_"+(1e9*Math.random()>>>0);function vT(t){return"function"==typeof t?t:(t[_T]||(t[_T]=function(e){return t.handleEvent(e)}),t[_T])}function un(){eo.call(this),this.i=new Fg(this),this.S=this,this.J=null}function _n(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Nn(e,t);else if(e instanceof Nn)e.target=e.target||t;else{var i=e;lU(e=new Nn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Lg(o,r,!0,e)&&i}if(i=Lg(o=e.g=t,r,!0,e)&&i,i=Lg(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Lg(o=e.g=n[s],r,!1,e)&&i}function Lg(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&hT(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}an(un,eo),un.prototype[_d]=!0,un.prototype.removeEventListener=function(t,e,n,r){pU(this,t,e,n,r)},un.prototype.N=function(){if(un.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Pg(n[r]);delete t.g[e],t.h--}}this.J=null},un.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},un.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var wT=le.JSON.stringify;function iue(){var t=ET;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var mU=new class rue{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new oue,t=>t.reset());class oue{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function aue(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function uue(t){le.setTimeout(()=>{throw t},0)}let vd,wd=!1,ET=new class sue{constructor(){this.h=this.g=null}add(e,n){const r=mU.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},yU=()=>{const t=le.Promise.resolve(void 0);vd=()=>{t.then(cue)}};var cue=()=>{for(var t;t=iue();){try{t.h.call(t.g)}catch(n){uue(n)}var e=mU;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}wd=!1};function Vg(t,e){un.call(this),this.h=t||1,this.g=e||le,this.j=kn(this.qb,this),this.l=Date.now()}function IT(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function DT(t,e,n){if("function"==typeof t)n&&(t=kn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=kn(t.handleEvent,t)}return 2147483647<Number(e)?-1:le.setTimeout(t,e||0)}function _U(t){t.g=DT(()=>{t.g=null,t.i&&(t.i=!1,_U(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}an(Vg,un),(L=Vg.prototype).ga=!1,L.T=null,L.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),_n(this,"tick"),this.ga&&(IT(this),this.start()))}},L.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},L.N=function(){Vg.$.N.call(this),IT(this),delete this.g};class lue extends eo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_U(this)}N(){super.N(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ed(t){eo.call(this),this.h=t,this.g={}}an(Ed,eo);var vU=[];function wU(t,e,n,r){Array.isArray(n)||(n&&(vU[0]=n.toString()),n=vU);for(var i=0;i<n.length;i++){var s=dU(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function EU(t){dT(t.g,function(e,n){this.g.hasOwnProperty(n)&&mT(e)},t),t.g={}}function Ug(){this.g=!0}function Wu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pue(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return wT(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Ed.prototype.N=function(){Ed.$.N.call(this),EU(this)},Ed.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ug.prototype.Ea=function(){this.g=!1},Ug.prototype.info=function(){};var aa={},IU=null;function Bg(){return IU=IU||new un}function DU(t){Nn.call(this,aa.Ta,t)}function Id(t){const e=Bg();_n(e,new DU(e))}function CU(t,e){Nn.call(this,aa.STAT_EVENT,t),this.stat=e}function Wn(t){const e=Bg();_n(e,new CU(e,t))}function bU(t,e){Nn.call(this,aa.Ua,t),this.size=e}function Dd(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){t()},e)}aa.Ta="serverreachability",an(DU,Nn),aa.STAT_EVENT="statevent",an(CU,Nn),aa.Ua="timingevent",an(bU,Nn);var jg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},TU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function CT(){}function AU(){}CT.prototype.h=null;var ST,Cd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function bT(){Nn.call(this,"d")}function TT(){Nn.call(this,"c")}function $g(){}function bd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ed(this),this.P=gue,this.V=new Vg(t=sT?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new MU}function MU(){this.i=null,this.g="",this.h=!1}an(bT,Nn),an(TT,Nn),an($g,CT),$g.prototype.g=function(){return new XMLHttpRequest},$g.prototype.i=function(){return{}},ST=new $g;var gue=45e3,AT={},Hg={};function MT(t,e,n){t.L=1,t.v=Wg(Ds(e)),t.s=n,t.S=!0,xU(t,null)}function xU(t,e){t.G=Date.now(),Td(t),t.A=Ds(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),BU(n.i,"t",r),t.C=0,n=t.l.J,t.h=new MU,t.g=lB(t.l,n?e:null,!t.s),0<t.O&&(t.M=new lue(kn(t.Pa,t,t.g),t.O)),wU(t.U,t.g,"readystatechange",t.nb),e=t.I?uU(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Id(),function due(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function RU(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function kU(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=mue(t,n),i==Hg){4==e&&(t.o=4,Wn(14),r=!1),Wu(t.j,t.m,null,"[Incomplete Response]");break}if(i==AT){t.o=4,Wn(15),Wu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Wu(t.j,t.m,i,null),xT(t,i)}RU(t)&&i!=Hg&&i!=AT&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Wn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),LT(e),e.M=!0,Wn(11))):(Wu(t.j,t.m,n,"[Invalid Chunked Response]"),ua(t),Sd(t))}function mue(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Hg:(n=Number(e.substring(n,r)),isNaN(n)?AT:(r+=1)+n>e.length?Hg:(e=e.slice(r,r+n),t.C=r+n,e))}function Td(t){t.Y=Date.now()+t.P,NU(t,t.P)}function NU(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Dd(kn(t.lb,t),e)}function Gg(t){t.B&&(le.clearTimeout(t.B),t.B=null)}function Sd(t){0==t.l.H||t.J||oB(t.l,t)}function ua(t){Gg(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,IT(t.V),EU(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function xT(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||RT(n.i,t)))if(!t.K&&RT(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Zg(n),Jg(n)}FT(n),Wn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Dd(kn(n.ib,n),6e3));if(1>=HU(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else la(n,11)}else if((t.K||n.g==t)&&Zg(n),!md(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(kT(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ut(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=cB(r,r.J?r.pa:null,r.Y),o.K){GU(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Gg(a),Td(a)),r.g=o}else iB(r);0<n.j.length&&Xg(n)}else"stop"!=c[0]&&"close"!=c[0]||la(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?la(n,7):PT(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Id()}catch{}}function OU(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(kg(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function _ue(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(kg(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function yue(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(kg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(L=bd.prototype).setTimeout=function(t){this.P=t},L.nb=function(t){t=t.target;const e=this.M;e&&3==Vi(t)?e.l():this.Pa(t)},L.Pa=function(t){try{if(t==this.g)e:{const l=Vi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||sT||this.g&&(this.h.h||this.g.ja()||XU(this.g)))){this.J||4!=l||7==e||Id(),Gg(this);var n=this.g.da();this.ca=n;t:if(RU(this)){var r=XU(this.g);t="";var i=r.length,s=4==Vi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ua(this),Sd(this);var o="";break t}this.h.i=new le.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function hue(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!md(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Wn(12),ua(this),Sd(this);break e}Wu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xT(this,n)}this.S?(kU(this,l,o),sT&&this.i&&3==l&&(wU(this.U,this.V,"tick",this.mb),this.V.start())):(Wu(this.j,this.m,o,null),xT(this,o)),4==l&&ua(this),this.i&&!this.J&&(4==l?oB(this.l,this):(this.i=!1,Td(this)))}else(function Fue(t){const e={};t=(t.g&&2<=Vi(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(md(t[r]))continue;var n=aue(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function eue(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Wn(12)):(this.o=0,Wn(13)),ua(this),Sd(this)}}}catch{}},L.mb=function(){if(this.g){var t=Vi(this.g),e=this.g.ja();this.C<e.length&&(Gg(this),kU(this,t,e),this.i&&4!=t&&Td(this))}},L.cancel=function(){this.J=!0,ua(this)},L.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function fue(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Id(),Wn(17)),ua(this),this.o=2,Sd(this)):NU(this,this.Y-t)};var PU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ca){this.h=t.h,zg(this,t.j),this.s=t.s,this.g=t.g,qg(this,t.m),this.l=t.l;var e=t.i,n=new xd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),FU(this,n),this.o=t.o}else t&&(e=String(t).match(PU))?(this.h=!1,zg(this,e[1]||"",!0),this.s=Ad(e[2]||""),this.g=Ad(e[3]||"",!0),qg(this,e[4]),this.l=Ad(e[5]||"",!0),FU(this,e[6]||"",!0),this.o=Ad(e[7]||"")):(this.h=!1,this.i=new xd(null,this.h))}function Ds(t){return new ca(t)}function zg(t,e,n){t.j=n?Ad(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function qg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function FU(t,e,n){e instanceof xd?(t.i=e,function bue(t,e){e&&!t.j&&(to(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(VU(this,r),BU(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Md(e,Due)),t.i=new xd(e,t.h))}function ut(t,e,n){t.i.set(e,n)}function Wg(t){return ut(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ad(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Md(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,wue),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function wue(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ca.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Md(e,LU,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Md(e,LU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Md(n,"/"==n.charAt(0)?Iue:Eue,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Md(n,Cue)),t.join("")};var LU=/[#\/\?@]/g,Eue=/[#\?:]/g,Iue=/[#\?]/g,Due=/[#\?@]/g,Cue=/#/g;function xd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function to(t){t.g||(t.g=new Map,t.h=0,t.i&&function vue(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function VU(t,e){to(t),e=Ku(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function UU(t,e){return to(t),e=Ku(t,e),t.g.has(e)}function BU(t,e,n){VU(t,e),0<n.length&&(t.i=null,t.g.set(Ku(t,e),rT(n)),t.h+=n.length)}function Ku(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function jU(t){this.l=t||Sue,t=le.PerformanceNavigationTiming?0<(t=le.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(le.g&&le.g.Ka&&le.g.Ka()&&le.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(L=xd.prototype).add=function(t,e){to(this),this.i=null,t=Ku(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},L.forEach=function(t,e){to(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},L.ta=function(){to(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},L.Z=function(t){to(this);let e=[];if("string"==typeof t)UU(this,t)&&(e=e.concat(this.g.get(Ku(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},L.set=function(t,e){return to(this),this.i=null,UU(this,t=Ku(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},L.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Sue=10;function $U(t){return!!t.h||!!t.g&&t.g.size>=t.j}function HU(t){return t.h?1:t.g?t.g.size:0}function RT(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function kT(t,e){t.g?t.g.add(e):t.h=e}function GU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function zU(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return rT(t.i)}jU.prototype.cancel=function(){if(this.i=zU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Aue=class{stringify(t){return le.JSON.stringify(t,void 0)}parse(t){return le.JSON.parse(t,void 0)}};function Mue(){this.g=new Aue}function xue(t,e,n){const r=n||"";try{OU(t,function(i,s){let o=i;gd(i)&&(o=wT(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Kg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Rd(t){this.l=t.fc||null,this.j=t.ob||!1}function Qg(t,e){un.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=NT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}an(Rd,CT),Rd.prototype.g=function(){return new Qg(this.l,this.j)},Rd.prototype.i=function(t){return function(){return t}}({}),an(Qg,un);var NT=0;function qU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function kd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Nd(t)}function Nd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(L=Qg.prototype).open=function(t,e){if(this.readyState!=NT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Nd(this)},L.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,kd(this)),this.readyState=NT},L.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Nd(this)),this.g&&(this.readyState=3,Nd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},L.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?kd(this):Nd(this),3==this.readyState&&qU(this)}},L.Za=function(t){this.g&&(this.response=this.responseText=t,kd(this))},L.Ya=function(t){this.g&&(this.response=t,kd(this))},L.ka=function(){this.g&&kd(this)},L.setRequestHeader=function(t,e){this.v.append(t,e)},L.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},L.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Qg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var kue=le.JSON.parse;function Tt(t){un.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=WU,this.L=this.M=!1}an(Tt,un);var WU="",Nue=/^https?$/i,Oue=["POST","PUT"];function KU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,QU(t),Yg(t)}function QU(t){t.F||(t.F=!0,_n(t,"complete"),_n(t,"error"))}function YU(t){if(t.h&&typeof tT<"u"&&(!t.C[1]||4!=Vi(t)||2!=t.da()))if(t.v&&4==Vi(t))DT(t.La,0,t);else if(_n(t,"readystatechange"),4==Vi(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(PU)[1]||null;!i&&le.self&&le.self.location&&(i=le.self.location.protocol.slice(0,-1)),r=!Nue.test(i?i.toLowerCase():"")}n=r}if(n)_n(t,"complete"),_n(t,"success");else{t.m=6;try{var s=2<Vi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",QU(t)}}finally{Yg(t)}}}function Yg(t,e){if(t.g){JU(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||_n(t,"ready");try{n.onreadystatechange=r}catch{}}}function JU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(le.clearTimeout(t.A),t.A=null)}function Vi(t){return t.g?t.g.readyState:0}function XU(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case WU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function ZU(t){let e="";return dT(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function OT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ZU(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ut(t,e,n))}function Od(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function eB(t){this.Ga=0,this.j=[],this.l=new Ug,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Od("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Od("baseRetryDelayMs",5e3,t),this.hb=Od("retryDelaySeedMs",1e4,t),this.eb=Od("forwardChannelMaxRetries",2,t),this.xa=Od("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new jU(t&&t.concurrentRequestLimit),this.Ja=new Mue,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function PT(t){if(tB(t),3==t.H){var e=t.W++,n=Ds(t.I);if(ut(n,"SID",t.K),ut(n,"RID",e),ut(n,"TYPE","terminate"),Pd(t,n),(e=new bd(t,t.l,e)).L=2,e.v=Wg(Ds(n)),n=!1,le.navigator&&le.navigator.sendBeacon)try{n=le.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&le.Image&&((new Image).src=e.v,n=!0),n||(e.g=lB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Td(e)}uB(t)}function Jg(t){t.g&&(LT(t),t.g.cancel(),t.g=null)}function tB(t){Jg(t),t.u&&(le.clearTimeout(t.u),t.u=null),Zg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&le.clearTimeout(t.m),t.m=null)}function Xg(t){if(!$U(t.i)&&!t.m){t.m=!0;var e=t.Na;vd||yU(),wd||(vd(),wd=!0),ET.add(e,t),t.C=0}}function nB(t,e){var n;n=e?e.m:t.W++;const r=Ds(t.I);ut(r,"SID",t.K),ut(r,"RID",n),ut(r,"AID",t.V),Pd(t,r),t.o&&t.s&&OT(r,t.o,t.s),n=new bd(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=rB(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),kT(t.i,n),MT(n,r,e)}function Pd(t,e){t.na&&dT(t.na,function(n,r){ut(e,r,n)}),t.h&&OU({},function(n,r){ut(e,r,n)})}function rB(t,e,n){n=Math.min(t.j.length,n);var r=t.h?kn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{xue(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function iB(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;vd||yU(),wd||(vd(),wd=!0),ET.add(e,t),t.A=0}}function FT(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Dd(kn(t.Ma,t),aB(t,t.A)),t.A++,0))}function LT(t){null!=t.B&&(le.clearTimeout(t.B),t.B=null)}function sB(t){t.g=new bd(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ds(t.wa);ut(e,"RID","rpc"),ut(e,"SID",t.K),ut(e,"AID",t.V),ut(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ut(e,"TO",t.qa),ut(e,"TYPE","xmlhttp"),Pd(t,e),t.o&&t.s&&OT(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Wg(Ds(e)),n.s=null,n.S=!0,xU(n,t)}function Zg(t){null!=t.v&&(le.clearTimeout(t.v),t.v=null)}function oB(t,e){var n=null;if(t.g==e){Zg(t),LT(t),t.g=null;var r=2}else{if(!RT(t.i,e))return;n=e.F,GU(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;_n(r=Bg(),new bU(r,n)),Xg(t)}else iB(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Lue(t,e){return!(HU(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Dd(kn(t.Na,t,e),aB(t,t.C)),t.C++,0)))}(t,e)||2==r&&FT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:la(t,5);break;case 4:la(t,10);break;case 3:la(t,6);break;default:la(t,2)}}function aB(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function la(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=kn(t.pb,t);n||(n=new ca("//www.google.com/images/cleardot.gif"),le.location&&"http"==le.location.protocol||zg(n,"https"),Wg(n)),function Rue(t,e){const n=new Ug;if(le.Image){const r=new Image;r.onload=Ng(Kg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ng(Kg,n,r,"TestLoadImage: error",!1,e),r.onabort=Ng(Kg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ng(Kg,n,r,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Wn(2);t.H=0,t.h&&t.h.za(e),uB(t),tB(t)}function uB(t){if(t.H=0,t.ma=[],t.h){const e=zU(t.i);(0!=e.length||0!=t.j.length)&&(rU(t.ma,e),rU(t.ma,t.j),t.i.i.length=0,rT(t.j),t.j.length=0),t.h.ya()}}function cB(t,e,n){var r=n instanceof ca?Ds(n):new ca(n);if(""!=r.g)e&&(r.g=e+"."+r.g),qg(r,r.m);else{var i=le.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ca(null);r&&zg(s,r),e&&(s.g=e),i&&qg(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&ut(r,n,e),ut(r,"VER",t.ra),Pd(t,r),r}function lB(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tt(n&&t.Ha&&!t.va?new Rd({ob:!0}):t.va)).Oa(t.J),e}function dB(){}function em(){if(qu&&!(10<=Number(Yae)))throw Error("Environmental error: no available transport.")}function Tr(t,e){un.call(this),this.g=new eB(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!md(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!md(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Qu(this)}function hB(t){bT.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function fB(){TT.call(this),this.status=1}function Qu(t){this.g=t}function li(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function VT(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function We(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(L=Tt.prototype).Oa=function(t){this.M=t},L.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ST.g(),this.C=function SU(t){return t.h||(t.h=t.i())}(this.u?this.u:ST),this.g.onreadystatechange=kn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void KU(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=le.FormData&&t instanceof le.FormData,!(0<=nU(Oue,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{JU(this),0<this.B&&((this.L=function Pue(t){return qu&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kn(this.ua,this)):this.A=DT(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){KU(this,s)}},L.ua=function(){typeof tT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_n(this,"timeout"),this.abort(8))},L.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,_n(this,"complete"),_n(this,"abort"),Yg(this))},L.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yg(this,!0)),Tt.$.N.call(this)},L.La=function(){this.s||(this.G||this.v||this.l?YU(this):this.kb())},L.kb=function(){YU(this)},L.isActive=function(){return!!this.g},L.da=function(){try{return 2<Vi(this)?this.g.status:-1}catch{return-1}},L.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},L.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),kue(e)}},L.Ia=function(){return this.m},L.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(L=eB.prototype).ra=8,L.H=1,L.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new bd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=uU(s),lU(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=rB(this,i,e),ut(n=Ds(this.I),"RID",t),ut(n,"CVER",22),this.F&&ut(n,"X-HTTP-Session-Id",this.F),Pd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(ZU(s)))+"&"+e:this.o&&OT(n,this.o,s)),kT(this.i,i),this.bb&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",e),ut(n,"SID","null"),i.aa=!0,MT(i,n,null)):MT(i,n,e),this.H=2}}else 3==this.H&&(t?nB(this,t):0==this.j.length||$U(this.i)||nB(this))},L.Ma=function(){if(this.u=null,sB(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Dd(kn(this.jb,this),t)}},L.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wn(10),Jg(this),sB(this))},L.ib=function(){null!=this.v&&(this.v=null,Jg(this),FT(this),Wn(19))},L.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Wn(2)):(this.l.info("Failed to ping google.com"),Wn(1))},L.isActive=function(){return!!this.h&&this.h.isActive(this)},(L=dB.prototype).Ba=function(){},L.Aa=function(){},L.za=function(){},L.ya=function(){},L.isActive=function(){return!0},L.Va=function(){},em.prototype.g=function(t,e){return new Tr(t,e)},an(Tr,un),Tr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Wn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=cB(t,null,t.Y),Xg(t)},Tr.prototype.close=function(){PT(this.g)},Tr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=wT(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Xg(e)},Tr.prototype.N=function(){this.g.h=null,delete this.j,PT(this.g),delete this.g,Tr.$.N.call(this)},an(hB,bT),an(fB,TT),an(Qu,dB),Qu.prototype.Ba=function(){_n(this.g,"a")},Qu.prototype.Aa=function(t){_n(this.g,new hB(t))},Qu.prototype.za=function(t){_n(this.g,new fB)},Qu.prototype.ya=function(){_n(this.g,"b")},an(li,function Vue(){this.blockSize=-1}),li.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},li.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)VT(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){VT(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){VT(this,r),i=0;break}}this.h=i,this.i+=e},li.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Uue={};function UT(t){return-128<=t&&128>t?function Wae(t,e){var n=Uue;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new We([0|e],0>e?-1:0)}):new We([0|t],0>t?-1:0)}function Ui(t){if(isNaN(t)||!isFinite(t))return Yu;if(0>t)return vn(Ui(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=BT;return new We(e,0)}var BT=4294967296,Yu=UT(0),jT=UT(1),gB=UT(16777216);function Cs(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function $r(t){return-1==t.h}function vn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new We(n,~t.h).add(jT)}function tm(t,e){return t.add(vn(e))}function nm(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Fd(t,e){this.g=t,this.h=e}function rm(t,e){if(Cs(e))throw Error("division by zero");if(Cs(t))return new Fd(Yu,Yu);if($r(t))return e=rm(vn(t),e),new Fd(vn(e.g),vn(e.h));if($r(e))return e=rm(t,vn(e)),new Fd(vn(e.g),e.h);if(30<t.g.length){if($r(t)||$r(e))throw Error("slowDivide_ only works with positive integers.");for(var n=jT,r=e;0>=r.X(t);)n=mB(n),r=mB(r);var i=Ju(n,1),s=Ju(r,1);for(r=Ju(r,2),n=Ju(n,2);!Cs(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ju(r,1),n=Ju(n,1)}return e=tm(t,i.R(e)),new Fd(i,e)}for(i=Yu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Ui(n)).R(e);$r(o)||0<o.X(t);)o=(s=Ui(n-=r)).R(e);Cs(s)&&(s=jT),i=i.add(s),t=tm(t,o)}return new Fd(i,t)}function mB(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new We(n,t.h)}function Ju(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new We(i,t.h)}(L=We.prototype).ea=function(){if($r(this))return-vn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:BT+r)*e,e*=BT}return t},L.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Cs(this))return"0";if($r(this))return"-"+vn(this).toString(t);for(var e=Ui(Math.pow(t,6)),n=this,r="";;){var i=rm(n,e).g,s=((0<(n=tm(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Cs(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},L.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},L.X=function(t){return $r(t=tm(this,t))?-1:Cs(t)?0:1},L.abs=function(){return $r(this)?vn(this):this},L.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new We(n,-2147483648&n[n.length-1]?-1:0)},L.R=function(t){if(Cs(this)||Cs(t))return Yu;if($r(this))return $r(t)?vn(this).R(vn(t)):vn(vn(this).R(t));if($r(t))return vn(this.R(vn(t)));if(0>this.X(gB)&&0>t.X(gB))return Ui(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,nm(n,2*r+2*i),n[2*r+2*i+1]+=s*u,nm(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,nm(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,nm(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new We(n,0)},L.gb=function(t){return rm(this,t).h},L.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new We(n,this.h&t.h)},L.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new We(n,this.h|t.h)},L.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new We(n,this.h^t.h)},em.prototype.createWebChannel=em.prototype.g,Tr.prototype.send=Tr.prototype.u,Tr.prototype.open=Tr.prototype.m,Tr.prototype.close=Tr.prototype.close,jg.NO_ERROR=0,jg.TIMEOUT=8,jg.HTTP_ERROR=6,TU.COMPLETE="complete",AU.EventType=Cd,Cd.OPEN="a",Cd.CLOSE="b",Cd.ERROR="c",Cd.MESSAGE="d",un.prototype.listen=un.prototype.O,Tt.prototype.listenOnce=Tt.prototype.P,Tt.prototype.getLastError=Tt.prototype.Sa,Tt.prototype.getLastErrorCode=Tt.prototype.Ia,Tt.prototype.getStatus=Tt.prototype.da,Tt.prototype.getResponseJson=Tt.prototype.Wa,Tt.prototype.getResponseText=Tt.prototype.ja,Tt.prototype.send=Tt.prototype.ha,Tt.prototype.setWithCredentials=Tt.prototype.Oa,li.prototype.digest=li.prototype.l,li.prototype.reset=li.prototype.reset,li.prototype.update=li.prototype.j,We.prototype.add=We.prototype.add,We.prototype.multiply=We.prototype.R,We.prototype.modulo=We.prototype.gb,We.prototype.compare=We.prototype.X,We.prototype.toNumber=We.prototype.ea,We.prototype.toString=We.prototype.toString,We.prototype.getBits=We.prototype.D,We.fromNumber=Ui,We.fromString=function pB(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return vn(pB(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ui(Math.pow(e,8)),r=Yu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Ui(Math.pow(e,s)),r=r.R(s).add(Ui(o))):r=(r=r.R(n)).add(Ui(o))}return r};var Bue=ci.createWebChannelTransport=function(){return new em},jue=ci.getStatEventTarget=function(){return Bg()},$T=ci.ErrorCode=jg,$ue=ci.EventType=TU,Hue=ci.Event=aa,yB=ci.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Gue=ci.FetchXmlHttpFactory=Rd,im=ci.WebChannel=AU,zue=ci.XhrIo=Tt,que=ci.Md5=li,Xu=ci.Integer=We;const _B="@firebase/firestore";class cn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let Zu="9.23.0";const no=new Lu("@firebase/firestore");function HT(){return no.logLevel}function A(t,...e){if(no.logLevel<=Re.DEBUG){const n=e.map(GT);no.debug(`Firestore (${Zu}): ${t}`,...n)}}function Pt(t,...e){if(no.logLevel<=Re.ERROR){const n=e.map(GT);no.error(`Firestore (${Zu}): ${t}`,...n)}}function di(t,...e){if(no.logLevel<=Re.WARN){const n=e.map(GT);no.warn(`Firestore (${Zu}): ${t}`,...n)}}function GT(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function B(t="Unexpected state"){const e=`FIRESTORE (${Zu}) INTERNAL ASSERTION FAILED: `+t;throw Pt(e),new Error(e)}function G(t,e){t||B()}function P(t,e){return t}const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class vB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class Kue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Que{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Jt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Jt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Jt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(G("string"==typeof r.accessToken),new vB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return G(null===e||"string"==typeof e),new cn(e)}}class Yue{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Jue{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Yue(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xue{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,A("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(G("string"==typeof n.token),this.T=n.token,new wB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Zue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class EB{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Zue(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function ec(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new vt(0,0))}static max(){return new q(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ld{constructor(e,n,r){void 0===n?n=0:n>e.length&&B(),void 0===r?r=e.length-n:r>e.length-n&&B(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Ld.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ld?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ae extends Ld{construct(e,n,r){return new Ae(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const ece=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Ld{construct(e,n,r){return new Ft(e,n,r)}static isValidIdentifier(e){return ece.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}class O{constructor(e){this.path=e}static fromPath(e){return new O(Ae.fromString(e))}static fromName(e){return new O(Ae.fromString(e).popFirst(5))}static empty(){return new O(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ae.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new O(new Ae(e.slice()))}}function CB(t){return new Sr(t.readTime,t.key,-1)}class Sr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Sr(q.min(),O.empty(),-1)}static max(){return new Sr(q.max(),O.empty(),-1)}}function qT(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=O.comparator(t.documentKey,e.documentKey),0!==n?n:ae(t.largestBatchId,e.largestBatchId))}const bB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ro(t){return WT.apply(this,arguments)}function WT(){return WT=m(function*(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==bB)throw t;A("LocalStore","Unexpectedly lost primary lease")}),WT.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&B(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function io(t){return"IndexedDbTransactionError"===t.name}let Ar=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Bd(t){return null==t}function jd(t){return 0===t&&1/t==-1/0}function OB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function so(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ot{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cm(this.root,e,this.comparator,!1)}getReverseIterator(){return new cm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cm(this.root,e,this.comparator,!0)}}class cm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??wn.RED,this.left=i??wn.EMPTY,this.right=s??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new wn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return wn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw B();const e=this.left.check();if(e!==this.right.check())throw B();return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1,wn.EMPTY=new class{constructor(){this.size=0}get key(){throw B()}get value(){throw B()}get color(){throw B()}get left(){throw B()}get right(){throw B()}copy(t,e,n,r,i){return this}insert(t,e,n){return new wn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ct{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FB(this.data.getIterator())}getIteratorFrom(e){return new FB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class FB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class lr{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new lr([])}unionWith(e){let n=new ct(Ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new lr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ec(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class LB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new LB("Invalid base64 string: "+i):i}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const Tce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(t){if(G(!!t),"string"==typeof t){let e=0;const n=Tce.exec(t);if(G(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function bs(t){return"string"==typeof t?Xt.fromBase64String(t):Xt.fromUint8Array(t)}function lm(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function dm(t){const e=t.mapValue.fields.__previous_value__;return lm(e)?dm(e):e}function $d(t){const e=oo(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}class Sce{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class fa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fa&&e.projectId===this.projectId&&e.database===this.database}}const ao={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function uo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lm(t)?4:jB(t)?9007199254740991:10:B()}function ji(t,e){if(t===e)return!0;const n=uo(t);if(n!==uo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $d(t).isEqual($d(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=oo(r.timestampValue),o=oo(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,bs(t.bytesValue).isEqual(bs(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return St(r.geoPointValue.latitude)===St(i.geoPointValue.latitude)&&St(r.geoPointValue.longitude)===St(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return St(r.integerValue)===St(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=St(r.doubleValue),o=St(i.doubleValue);return s===o?jd(s)===jd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ec(t.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(OB(s)!==OB(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!ji(s[a],o[a])))return!1;return!0}(t,e);default:return B()}var i}function Hd(t,e){return void 0!==(t.values||[]).find(n=>ji(n,e))}function co(t,e){if(t===e)return 0;const n=uo(t),r=uo(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=St(i.integerValue||i.doubleValue),a=St(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return VB(t.timestampValue,e.timestampValue);case 4:return VB($d(t),$d(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(i,s){const o=bs(i),a=bs(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=ae(o[u],a[u]);if(0!==c)return c}return ae(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ae(St(i.latitude),St(s.latitude));return 0!==o?o:ae(St(i.longitude),St(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=co(o[u],a[u]);if(c)return c}return ae(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ao.mapValue&&s===ao.mapValue)return 0;if(i===ao.mapValue)return 1;if(s===ao.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=ae(a[l],c[l]);if(0!==d)return d;const h=co(o[a[l]],u[c[l]]);if(0!==h)return h}return ae(a.length,c.length)}(t.mapValue,e.mapValue);default:throw B()}}function VB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ae(t,e);const n=oo(t),r=oo(e),i=ae(n.seconds,r.seconds);return 0!==i?i:ae(n.nanos,r.nanos)}function nc(t){return YT(t)}function YT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=oo(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?bs(t.bytesValue).toBase64():"referenceValue"in t?O.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=YT(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${YT(r.fields[a])}`;return s+"}"}(t.mapValue):B();var e}function pa(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function JT(t){return!!t&&"integerValue"in t}function Gd(t){return!!t&&"arrayValue"in t}function UB(t){return!!t&&"nullValue"in t}function BB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pm(t){return!!t&&"mapValue"in t}function zd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return so(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zd(n)}setAll(e){let n=Ft.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=zd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());pm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){so(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new En(zd(this.value))}}function GB(t){const e=[];return so(t.fields,(n,r)=>{const i=new Ft([n]);if(pm(r)){const s=GB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new lr(e)}class lt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new lt(e,0,q.min(),q.min(),q.min(),En.empty(),0)}static newFoundDocument(e,n,r,i){return new lt(e,1,n,q.min(),r,i,0)}static newNoDocument(e,n){return new lt(e,2,n,q.min(),q.min(),En.empty(),0)}static newUnknownDocument(e,n){return new lt(e,3,n,q.min(),q.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lo{constructor(e,n){this.position=e,this.inclusive=n}}function zB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?O.comparator(O.fromName(o.referenceValue),n.key):co(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function qB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ji(t.position[n],e.position[n]))return!1;return!0}class rc{constructor(e,n="asc"){this.field=e,this.dir=n}}function xce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class WB{}class Ce extends WB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Rce(e,n,r):"array-contains"===n?new Oce(e,r):"in"===n?new ZB(e,r):"not-in"===n?new Pce(e,r):"array-contains-any"===n?new Fce(e,r):new Ce(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new kce(e,r):new Nce(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(co(n,this.value)):null!==n&&uo(this.value)===uo(n)&&this.matchesComparison(co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return B()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ke extends WB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ke(e,n)}matches(e){return ic(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ic(t){return"and"===t.op}function ZT(t){return function KB(t){for(const e of t.filters)if(e instanceof Ke)return!1;return!0}(t)&&ic(t)}function e0(t){if(t instanceof Ce)return t.field.canonicalString()+t.op.toString()+nc(t.value);if(ZT(t))return t.filters.map(e=>e0(e)).join(",");{const e=t.filters.map(n=>e0(n)).join(",");return`${t.op}(${e})`}}function QB(t,e){return t instanceof Ce?(n=t,(r=e)instanceof Ce&&n.op===r.op&&n.field.isEqual(r.field)&&ji(n.value,r.value)):t instanceof Ke?function(n,r){return r instanceof Ke&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&QB(s,r.filters[o]),!0)}(t,e):void B();var n,r}function JB(t){return t instanceof Ce?function(e){return`${e.field.canonicalString()} ${e.op} ${nc(e.value)}`}(t):t instanceof Ke?function(e){return e.op.toString()+" {"+e.getFilters().map(JB).join(" ,")+"}"}(t):"Filter"}class Rce extends Ce{constructor(e,n,r){super(e,n,r),this.key=O.fromName(r.referenceValue)}matches(e){const n=O.comparator(e.key,this.key);return this.matchesComparison(n)}}class kce extends Ce{constructor(e,n){super(e,"in",n),this.keys=XB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Nce extends Ce{constructor(e,n){super(e,"not-in",n),this.keys=XB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>O.fromName(r.referenceValue))}class Oce extends Ce{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gd(n)&&Hd(n.arrayValue,this.value)}}class ZB extends Ce{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Hd(this.value.arrayValue,n)}}class Pce extends Ce{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Hd(this.value.arrayValue,n)}}class Fce extends Ce{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hd(this.value.arrayValue,r))}}class Lce{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function t0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Lce(t,e,n,r,i,s,o)}function ga(t){const e=P(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>e0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Bd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nc(r)).join(",")),e.dt=n}return e.dt}function qd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qB(t.startAt,e.startAt)&&qB(t.endAt,e.endAt)}function gm(t){return O.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ts{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function sc(t){return new Ts(t)}function rj(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function n0(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ym(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function r0(t){return null!==t.collectionGroup}function ma(t){const e=P(t);if(null===e.wt){e.wt=[];const n=ym(e),r=n0(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new rc(n)),e.wt.push(new rc(Ft.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new rc(Ft.keyField(),s))}}}return e.wt}function Kn(t){const e=P(t);if(!e._t)if("F"===e.limitType)e._t=t0(e.path,e.collectionGroup,ma(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ma(e))n.push(new rc(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new lo(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new lo(e.startAt.position,e.startAt.inclusive):null;e._t=t0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function s0(t,e){e.getFirstInequalityField(),ym(t);const n=t.filters.concat([e]);return new Ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _m(t,e,n){return new Ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wd(t,e){return qd(Kn(t),Kn(e))&&t.limitType===e.limitType}function ij(t){return`${ga(Kn(t))}|lt:${t.limitType}`}function o0(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>JB(r)).join(", ")}]`),Bd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nc(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nc(r)).join(",")),`Target(${n})`}(Kn(t))}; limitType=${t.limitType})`}function Kd(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):O.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ma(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=zB(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ma(n),r)||n.endAt&&!function(i,s,o){const a=zB(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ma(n),r)));var n,r}function oj(t){return(e,n)=>{let r=!1;for(const i of ma(t)){const s=Vce(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Vce(t,e,n){const r=t.field.isKeyField()?O.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?co(a,u):B()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return B()}}class Ss{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){so(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return PB(this.inner)}size(){return this.innerSize}}const Uce=new ot(O.comparator);function dr(){return Uce}const aj=new ot(O.comparator);function Qd(...t){let e=aj;for(const n of t)e=e.insert(n.key,n);return e}function uj(t){let e=aj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $i(){return Yd()}function cj(){return Yd()}function Yd(){return new Ss(t=>t.toString(),(t,e)=>t.isEqual(e))}const Bce=new ot(O.comparator),jce=new ct(O.comparator);function me(...t){let e=jce;for(const n of t)e=e.add(n);return e}const $ce=new ct(ae);function lj(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jd(e)?"-0":e}}function dj(t){return{integerValue:""+t}}function hj(t,e){return function SB(t){return"number"==typeof t&&Number.isInteger(t)&&!jd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?dj(e):lj(t,e)}class vm{constructor(){this._=void 0}}function Hce(t,e,n){return t instanceof oc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&lm(i)&&(i=dm(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ya?pj(t,e):t instanceof _a?gj(t,e):function(r,i){const s=fj(r,i),o=mj(s)+mj(r.gt);return JT(s)&&JT(r.gt)?dj(o):lj(r.serializer,o)}(t,e)}function Gce(t,e,n){return t instanceof ya?pj(t,e):t instanceof _a?gj(t,e):n}function fj(t,e){return t instanceof ac?JT(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class oc extends vm{}class ya extends vm{constructor(e){super(),this.elements=e}}function pj(t,e){const n=yj(e);for(const r of t.elements)n.some(i=>ji(i,r))||n.push(r);return{arrayValue:{values:n}}}class _a extends vm{constructor(e){super(),this.elements=e}}function gj(t,e){let n=yj(e);for(const r of t.elements)n=n.filter(i=>!ji(i,r));return{arrayValue:{values:n}}}class ac extends vm{constructor(e,n){super(),this.serializer=e,this.gt=n}}function mj(t){return St(t.integerValue||t.doubleValue)}function yj(t){return Gd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class qce{constructor(e,n){this.version=e,this.transformResults=n}}class ft{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ft}static exists(e){return new ft(void 0,e)}static updateTime(e){return new ft(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wm(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Em{}function _j(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new cc(t.key,ft.none()):new uc(t.key,t.data,ft.none());{const n=t.data,r=En.empty();let i=new ct(Ft.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new As(t.key,r,new lr(i.toArray()),ft.none())}}function Wce(t,e,n){t instanceof uc?function(r,i,s){const o=r.value.clone(),a=Ej(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof As?function(r,i,s){if(!wm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Ej(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(wj(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Xd(t,e,n,r){return t instanceof uc?function(i,s,o,a){if(!wm(i.precondition,s))return o;const u=i.value.clone(),c=Ij(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof As?function(i,s,o,a){if(!wm(i.precondition,s))return o;const u=Ij(i.fieldTransforms,a,s),c=s.data;return c.setAll(wj(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,wm(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Kce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=fj(r.transform,i||null);null!=s&&(null===n&&(n=En.empty()),n.set(r.field,s))}return n||null}function vj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&ec(n,r,(i,s)=>function zce(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof ya&&r instanceof ya||n instanceof _a&&r instanceof _a?ec(n.elements,r.elements,ji):n instanceof ac&&r instanceof ac?ji(n.gt,r.gt):n instanceof oc&&r instanceof oc);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class uc extends Em{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class As extends Em{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function wj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ej(t,e,n){const r=new Map;G(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Gce(o,a,n[i]))}return r}function Ij(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Hce(s,o,e))}return r}class cc extends Em{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u0 extends Em{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class c0{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Wce(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cj();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=_j(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&ec(this.mutations,e.mutations,(n,r)=>vj(n,r))&&ec(this.baseMutations,e.baseMutations,(n,r)=>vj(n,r))}}class l0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){G(e.mutations.length===r.length);let i=Bce;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new l0(e,n,r,i)}}class d0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yce{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ht,Me;function Cj(t){if(void 0===t)return Pt("GRPC error has no .code"),D.UNKNOWN;switch(t){case Ht.OK:return D.OK;case Ht.CANCELLED:return D.CANCELLED;case Ht.UNKNOWN:return D.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return D.INTERNAL;case Ht.UNAVAILABLE:return D.UNAVAILABLE;case Ht.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Ht.NOT_FOUND:return D.NOT_FOUND;case Ht.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Ht.ABORTED:return D.ABORTED;case Ht.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Ht.DATA_LOSS:return D.DATA_LOSS;default:return B()}}(Me=Ht||(Ht={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";class h0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Im}static getOrCreateInstance(){return null===Im&&(Im=new h0),Im}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Im=null;const Jce=new Xu([4294967295,4294967295],0);function Tj(t){const e=function bj(){return new TextEncoder}().encode(t),n=new que;return n.update(e),new Uint8Array(n.digest())}function Sj(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xu([n,r],0),new Xu([i,s],0)]}class f0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zd(`Invalid padding: ${n}`);if(r<0)throw new Zd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Zd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Zd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Xu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Xu.fromNumber(r)));return 1===i.compare(Jce)&&(i=new Xu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=Tj(e),[r,i]=Sj(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new f0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=Tj(e),[r,i]=Sj(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Zd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class eh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,th.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new eh(q.min(),i,new ot(ae),dr(),me())}}class th{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new th(r,n,me(),me(),me())}}class Dm{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class Aj{constructor(e,n){this.targetId=e,this.Vt=n}}class Mj{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xj{constructor(){this.St=0,this.Dt=kj(),this.Ct=Xt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=me(),n=me(),r=me();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:B()}}),new th(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=kj()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Xce{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=dr(),this.zt=Rj(),this.Wt=new ot(ae)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:B()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(gm(o))if(0===i){const a=new O(o.path);this.Yt(r,a,lt.newNoDocument(a,q.min()))}else G(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=h0.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,y,I;const _={localCacheCount:l,existenceFilterCount:d.count},S=d.unchangedNames;return S&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=S?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=S?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(I=null===(y=S?.bits)||void 0===y?void 0:y.padding)&&void 0!==I?I:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=bs(s).toUint8Array()}catch(l){if(l instanceof LB)return di("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new f0(u,o,a)}catch(l){return di(l instanceof Zd?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&gm(a.target)){const u=new O(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,lt.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=me();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new eh(e,n,this.Wt,this.jt,r);return this.jt=dr(),this.zt=Rj(),this.Wt=new ot(ae),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new xj,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new ct(ae),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||A("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new xj),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Rj(){return new ot(O.comparator)}function kj(){return new ot(O.comparator)}const Zce={asc:"ASCENDING",desc:"DESCENDING"},ele={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tle={and:"AND",or:"OR"};class nle{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function p0(t,e){return t.useProto3Json||Bd(e)?e:{value:e}}function lc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rle(t,e){return lc(t,e.toTimestamp())}function Lt(t){return G(!!t),q.fromTimestamp(function(e){const n=oo(e);return new vt(n.seconds,n.nanos)}(t))}function g0(t,e){return(n=t,new Ae(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Oj(t){const e=Ae.fromString(t);return G(Hj(e)),e}function nh(t,e){return g0(t.databaseId,e.path)}function Hi(t,e){const n=Oj(e);if(n.get(1)!==t.databaseId.projectId)throw new b(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new O(Fj(n))}function m0(t,e){return g0(t.databaseId,e)}function rh(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Fj(t){return G(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Lj(t,e,n){return{name:nh(t,e),fields:n.value.mapValue.fields}}function Uj(t,e){return{documents:[m0(t,e.path)]}}function _0(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=m0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=m0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return $j(Ke.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:ho((l=c).field),direction:ule(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=p0(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function Bj(t){let e=function Pj(t){const e=Oj(t);return 4===e.length?Ae.emptyPath():Fj(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){G(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=jj(l);return d instanceof Ke&&ZT(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new rc(dc((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Bd(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new lo((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new lo(l.values||[],!l.before)}(n.endAt)),function nj(t,e,n,r,i,s,o,a){return new Ts(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function jj(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=dc(e.unaryFilter.field);return Ce.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=dc(e.unaryFilter.field);return Ce.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=dc(e.unaryFilter.field);return Ce.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=dc(e.unaryFilter.field);return Ce.create(s,"!=",{nullValue:"NULL_VALUE"});default:return B()}}(t):void 0!==t.fieldFilter?function(e){return Ce.create(dc(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return B()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return Ke.create(e.compositeFilter.filters.map(n=>jj(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return B()}}(e.compositeFilter.op))}(t):B()}function ule(t){return Zce[t]}function cle(t){return ele[t]}function lle(t){return tle[t]}function ho(t){return{fieldPath:t.canonicalString()}}function dc(t){return Ft.fromServerFormat(t.fieldPath)}function $j(t){return t instanceof Ce?function(e){if("=="===e.op){if(BB(e.value))return{unaryFilter:{field:ho(e.field),op:"IS_NAN"}};if(UB(e.value))return{unaryFilter:{field:ho(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(BB(e.value))return{unaryFilter:{field:ho(e.field),op:"IS_NOT_NAN"}};if(UB(e.value))return{unaryFilter:{field:ho(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(e.field),op:cle(e.op),value:e.value}}}(t):t instanceof Ke?function(e){const n=e.getFilters().map(r=>$j(r));return 1===n.length?n[0]:{compositeFilter:{op:lle(e.op),filters:n}}}(t):B()}function dle(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Hj(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ms{constructor(e,n,r,i,s=q.min(),o=q.min(),a=Xt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Gj{constructor(e){this.fe=e}}function v0(t){const e=Bj({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?_m(e,e.limit,"L"):e}class Ia{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(St(e.integerValue));else if("doubleValue"in e){const r=St(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),jd(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(bs(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?jB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):B()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),O.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Ia.Ve=new Ia;class wle{constructor(){this.rn=new b0}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(Sr.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class b0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ct(Ae.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(Ae.comparator)).toArray()}}new Uint8Array(0);class Pn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(41943040,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);class Ca{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ca(0)}static Mn(){return new Ca(-1)}}class Tle{constructor(){this.changes=new Ss(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,lt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Mle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class m${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Xd(r.mutation,i,lr.empty(),vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const i=$i();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Qd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=$i();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=dr();const o=Yd(),a=Yd();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof As)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Xd(l.mutation,c,l.mutation.getFieldMask(),vt.now())):o.set(c.key,lr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Mle(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Yd();let i=new ot((o,a)=>o-a),s=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||lr.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=cj();l.forEach(h=>{if(!s.has(h)){const f=_j(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return O.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):r0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve($i());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,me())).next(l=>({batchId:a,changes:uj(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new O(n)).next(r=>{let i=Qd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Qd();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new Ts(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,lt.newInvalidDocument(c)))});let o=Qd();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Xd(c.mutation,u,lr.empty(),vt.now()),Kd(n,u)&&(o=o.insert(a,u))}),o})}}class xle{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Lt(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:v0(r.bundledQuery),readTime:Lt(r.readTime)}),w.resolve();var r}}class Rle{constructor(){this.overlays=new ot(O.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$i();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=$i(),s=n.length+1,o=new O(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ot((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=$i(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=$i(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new d0(n,r));let s=this.ls.get(n);void 0===s&&(s=me(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class T0{constructor(){this.fs=new ct(dn.ds),this.ws=new ct(dn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new dn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new dn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new O(new Ae([])),r=new dn(n,e),i=new dn(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new O(new Ae([])),r=new dn(n,e),i=new dn(n,e+1);let s=me();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new dn(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class dn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return O.comparator(e.key,n.key)||ae(e.As,n.As)}static _s(e,n){return ae(e.As,n.As)||O.comparator(e.key,n.key)}}class kle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new ct(dn.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new c0(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new dn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dn(n,0),i=new dn(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(ae);return n.forEach(i=>{const s=new dn(i,0),o=new dn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;O.isDocumentKey(s)||(s=s.child(""));const o=new dn(new O(s),0);let a=new ct(ae);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){G(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const s=new dn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new dn(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Nle{constructor(e){this.Ds=e,this.docs=new ot(O.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():lt.newInvalidDocument(n))}getEntries(e,n){let r=dr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():lt.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=dr();const o=n.path,a=new O(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||qT(CB(l),r)<=0||(i.has(l.key)||Kd(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){B()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ole(this)}getSize(e){return w.resolve(this.size)}}class Ole extends Tle{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Ple{constructor(e){this.persistence=e,this.xs=new Ss(n=>ga(n),qd),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Ns=0,this.ks=new T0,this.targetCount=0,this.Ms=Ca.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Ca(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class S0{constructor(e,n){this.$s={},this.overlays={},this.Os=new Ar(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Ple(this),this.indexManager=new wle,this.remoteDocumentCache=new Nle(r=>this.referenceDelegate.Ls(r)),this.serializer=new Gj(n),this.qs=new xle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Rle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new kle(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){A("MemoryPersistence","Starting transaction:",e);const i=new Fle(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Fle extends rce{constructor(e){super(),this.currentSequenceNumber=e}}class km{constructor(e){this.persistence=e,this.Qs=new T0,this.js=null}static zs(e){return new km(e)}get Ws(){if(this.js)return this.js;throw B()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=O.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,q.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class R0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=me(),i=me();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new R0(e,n.fromCache,r,i)}}class _${constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(rj(n))return w.resolve(null);let r=Kn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=_m(n,null,"F"),r=Kn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=me(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,_m(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return rj(n)||i.isEqual(q.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(HT()<=Re.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),o0(n)),this.Wi(e,o,n,function DB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=q.fromTimestamp(1e9===r?new vt(n+1,0):new vt(n,r));return new Sr(i,O.empty(),e)}(i,-1)))})}ji(e,n){let r=new ct(oj(e));return n.forEach((i,s)=>{Kd(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return HT()<=Re.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",o0(n)),this.Ui.getDocumentsMatchingQuery(e,n,Sr.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Vle{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new ot(ae),this.Yi=new Ss(s=>ga(s),qd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m$(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function w$(t,e){return k0.apply(this,arguments)}function k0(){return k0=m(function*(t,e){const n=P(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=me();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),k0.apply(this,arguments)}function E$(t){const e=P(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function jle(t,e){const n=P(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gc(t,e,n){return N0.apply(this,arguments)}function N0(){return N0=m(function*(t,e,n){const r=P(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!io(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),N0.apply(this,arguments)}function Pm(t,e,n){const r=P(t);let i=q.min(),s=me();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=P(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,Kn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:q.min(),n?s:me())).next(a=>(function b$(t,e,n){let r=t.Xi.get(e)||q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function sj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class V0{constructor(){this.activeTargetIds=function a0(){return $ce}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A${constructor(){this.Hr=new V0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new V0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gle{Yr(e){}shutdown(){}}class M${constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Vm=null;function B0(){return null===Vm?Vm=268435456+Math.round(2147483648*Math.random()):Vm++,"0x"+Vm.toString(16)}const zle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qle{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Fn="WebChannelConnection";class Wle extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=B0(),a=this.To(e,n);A("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(A("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw di("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${zle[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=B0();return new Promise((o,a)=>{const u=new zue;u.setWithCredentials(!0),u.listenOnce($ue.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case $T.NO_ERROR:const l=u.getResponseJson();A(Fn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case $T.TIMEOUT:A(Fn,`RPC '${e}' ${s} timed out`),a(new b(D.DEADLINE_EXCEEDED,"Request time out"));break;case $T.HTTP_ERROR:const d=u.getStatus();if(A(Fn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(y)>=0?y:D.UNKNOWN}(f.status);a(new b(p,f.message))}else a(new b(D.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new b(D.UNAVAILABLE,"Connection failed."));break;default:B()}}finally{A(Fn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);A(Fn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=B0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Bue(),a=jue(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Gue({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");A(Fn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new qle({ro:y=>{f?A(Fn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(A(Fn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),A(Fn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),g=(y,I,_)=>{y.listen(I,S=>{try{_(S)}catch(U){setTimeout(()=>{throw U},0)}})};return g(d,im.EventType.OPEN,()=>{f||A(Fn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,im.EventType.CLOSE,()=>{f||(f=!0,A(Fn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,im.EventType.ERROR,y=>{f||(f=!0,di(Fn,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new b(D.UNAVAILABLE,"The operation could not be completed")))}),g(d,im.EventType.MESSAGE,y=>{var I;if(!f){const _=y.data[0];G(!!_);const U=_.error||(null===(I=_[0])||void 0===I?void 0:I.error);if(U){A(Fn,`RPC '${e}' stream ${i} received error:`,U);const j=U.status;let ue=function(fi){const Io=Ht[fi];if(void 0!==Io)return Cj(Io)}(j),At=U.message;void 0===ue&&(ue=D.INTERNAL,At="Unknown error status: "+j+" with message "+U.message),f=!0,p.wo(new b(ue,At)),d.close()}else A(Fn,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),g(a,Hue.STAT_EVENT,y=>{y.stat===yB.PROXY?A(Fn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===yB.NOPROXY&&A(Fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Um(){return typeof document<"u"?document:null}function fh(t){return new nle(t,!0)}class j0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class R${constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new j0(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Pt(n.toString()),Pt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===D.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new b(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kle extends R${constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function sle(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:B(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(G(void 0===c||"string"==typeof c),Xt.fromBase64String(c||"")):(G(void 0===c||c instanceof Uint8Array),Xt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?D.UNKNOWN:Cj(u.code);return new b(c,u.message||"")}(o);n=new Mj(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Hi(t,r.document.name),s=Lt(r.document.updateTime),o=r.document.createTime?Lt(r.document.createTime):q.min(),a=new En({mapValue:{fields:r.document.fields}}),u=lt.newFoundDocument(i,s,o,a);n=new Dm(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Hi(t,r.document),s=r.readTime?Lt(r.readTime):q.min(),o=lt.newNoDocument(i,s);n=new Dm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Hi(t,r.document);n=new Dm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return B();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Yce(i,s);n=new Aj(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?q.min():s.readTime?Lt(s.readTime):q.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=rh(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=gm(a)?{documents:Uj(i,a)}:{query:_0(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Nj(i,s.resumeToken);const u=p0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(q.min())>0){o.readTime=lc(i,s.snapshotVersion.toTimestamp());const u=p0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function ale(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return B()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=rh(this.serializer),n.removeTarget=e,this.Wo(n)}}class Qle extends R${constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(G(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function ole(t,e){return t&&t.length>0?(G(void 0!==e),t.map(n=>function(r,i){let s=Lt(r.updateTime?r.updateTime:i);return s.isEqual(q.min())&&(s=Lt(i)),new qce(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Lt(e.commitTime);return this.listener.cu(r,n)}return G(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=rh(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function ih(t,e){let n;if(e instanceof uc)n={update:Lj(t,e.key,e.value)};else if(e instanceof cc)n={delete:nh(t,e.key)};else if(e instanceof As)n={update:Lj(t,e.key,e.data),updateMask:dle(e.fieldMask)};else{if(!(e instanceof u0))return B();n={verify:nh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof oc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ya)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof _a)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ac)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw B()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:rle(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:B()),n;var i}(this.serializer,r))};this.Wo(n)}}class Yle extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new b(D.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(D.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(D.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Xle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Pt(n),this.mu=!1):A("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Zle{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(m(function*(){var u;mo(o)&&(A("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(c){const l=P(c);l.vu.add(4),yield mc(l),l.bu.set("Unknown"),l.vu.delete(4),yield ph(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new Xle(r,i)}}function ph(t){return H0.apply(this,arguments)}function H0(){return H0=m(function*(t){if(mo(t))for(const e of t.Ru)yield e(!0)}),H0.apply(this,arguments)}function mc(t){return G0.apply(this,arguments)}function G0(){return G0=m(function*(t){for(const e of t.Ru)yield e(!1)}),G0.apply(this,arguments)}function Bm(t,e){const n=P(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),W0(n)?q0(n):_c(n).Ko()&&z0(n,e))}function gh(t,e){const n=P(t),r=_c(n);n.Au.delete(e),r.Ko()&&k$(n,e),0===n.Au.size&&(r.Ko()?r.jo():mo(n)&&n.bu.set("Unknown"))}function z0(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(q.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_c(t).su(e)}function k$(t,e){t.Vu.qt(e),_c(t).iu(e)}function q0(t){t.Vu=new Xce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),_c(t).start(),t.bu.gu()}function W0(t){return mo(t)&&!_c(t).Uo()&&t.Au.size>0}function mo(t){return 0===P(t).vu.size}function N$(t){t.Vu=void 0}function ede(t){return K0.apply(this,arguments)}function K0(){return K0=m(function*(t){t.Au.forEach((e,n)=>{z0(t,e)})}),K0.apply(this,arguments)}function tde(t,e){return Q0.apply(this,arguments)}function Q0(){return Q0=m(function*(t,e){N$(t),W0(t)?(t.bu.Iu(e),q0(t)):t.bu.set("Unknown")}),Q0.apply(this,arguments)}function nde(t,e,n){return Y0.apply(this,arguments)}function Y0(){return Y0=m(function*(t,e,n){if(t.bu.set("Online"),e instanceof Mj&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield jm(t,r)}else if(e instanceof Dm?t.Vu.Ht(e):e instanceof Aj?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(q.min()))try{const r=yield E$(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Xt.EMPTY_BYTE_STRING,c.snapshotVersion)),k$(i,a);const l=new Ms(c.target,a,u,c.sequenceNumber);z0(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield jm(t,r)}var r}),Y0.apply(this,arguments)}function jm(t,e,n){return J0.apply(this,arguments)}function J0(){return J0=m(function*(t,e,n){if(!io(e))throw e;t.vu.add(1),yield mc(t),t.bu.set("Offline"),n||(n=()=>E$(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){A("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield ph(t)}))}),J0.apply(this,arguments)}function O$(t,e){return e().catch(n=>jm(t,n,e))}function yc(t){return X0.apply(this,arguments)}function X0(){return X0=m(function*(t){const e=P(t),n=yo(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;rde(e);)try{const i=yield jle(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,ide(e,i)}catch(i){yield jm(e,i)}P$(e)&&F$(e)}),X0.apply(this,arguments)}function rde(t){return mo(t)&&t.Eu.length<10}function ide(t,e){t.Eu.push(e);const n=yo(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function P$(t){return mo(t)&&!yo(t).Uo()&&t.Eu.length>0}function F$(t){yo(t).start()}function sde(t){return Z0.apply(this,arguments)}function Z0(){return Z0=m(function*(t){yo(t).hu()}),Z0.apply(this,arguments)}function ode(t){return eS.apply(this,arguments)}function eS(){return eS=m(function*(t){const e=yo(t);for(const n of t.Eu)e.uu(n.mutations)}),eS.apply(this,arguments)}function ade(t,e,n){return tS.apply(this,arguments)}function tS(){return tS=m(function*(t,e,n){const r=t.Eu.shift(),i=l0.from(r,e,n);yield O$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield yc(t)}),tS.apply(this,arguments)}function ude(t,e){return nS.apply(this,arguments)}function nS(){return nS=m(function*(t,e){var n;e&&yo(t).ou&&(yield(n=m(function*(r,i){if(function Dj(t){switch(t){default:return B();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}(s=i.code)&&s!==D.ABORTED){const o=r.Eu.shift();yo(r).Qo(),yield O$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield yc(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),P$(t)&&F$(t)}),nS.apply(this,arguments)}function L$(t,e){return rS.apply(this,arguments)}function rS(){return rS=m(function*(t,e){const n=P(t);n.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const r=mo(n);n.vu.add(3),yield mc(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield ph(n)}),rS.apply(this,arguments)}function sS(){return sS=m(function*(t,e){const n=P(t);e?(n.vu.delete(2),yield ph(n)):e||(n.vu.add(2),yield mc(n),n.bu.set("Unknown"))}),sS.apply(this,arguments)}function _c(t){return t.Su||(t.Su=function(e,n,r){const i=P(e);return i.fu(),new Kle(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:ede.bind(null,t),ao:tde.bind(null,t),nu:nde.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Su.Qo(),W0(t)?q0(t):t.bu.set("Unknown")):(yield t.Su.stop(),N$(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function yo(t){return t.Du||(t.Du=function(e,n,r){const i=P(e);return i.fu(),new Qle(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:sde.bind(null,t),ao:ude.bind(null,t),au:ode.bind(null,t),cu:ade.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Du.Qo(),yield yc(t)):(yield t.Du.stop(),t.Eu.length>0&&(A("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class oS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new oS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vc(t,e){if(Pt("AsyncQueue",`${e}: ${t}`),io(t))return new b(D.UNAVAILABLE,`${e}: ${t}`);throw t}class wc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||O.comparator(n.key,r.key):(n,r)=>O.comparator(n.key,r.key),this.keyedMap=Qd(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new wc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new wc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class V${constructor(){this.Cu=new ot(O.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):B():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ec{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ec(e,n,wc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class cde{constructor(){this.Nu=void 0,this.listeners=[]}}class lde{constructor(){this.queries=new Ss(e=>ij(e),Wd),this.onlineState="Unknown",this.ku=new Set}}function aS(t,e){return uS.apply(this,arguments)}function uS(){return uS=m(function*(t,e){const n=P(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new cde),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=vc(o,`Initialization of query '${o0(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&dS(n)}),uS.apply(this,arguments)}function cS(t,e){return lS.apply(this,arguments)}function lS(){return lS=m(function*(t,e){const n=P(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),lS.apply(this,arguments)}function dde(t,e){const n=P(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&dS(n)}function hde(t,e,n){const r=P(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function dS(t){t.ku.forEach(e=>{e.next()})}class hS{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ec(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class j${constructor(e){this.key=e}}class $${constructor(e){this.key=e}}class H${constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=me(),this.mutatedKeys=me(),this.tc=oj(e),this.ec=new wc(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new V$,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Kd(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Ec(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new V$,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=me(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new $$(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new j$(r))}),n}hc(e){this.Yu=e.ir,this.Zu=me();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ec.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class gde{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mde{constructor(e){this.key=e,this.fc=!1}}class yde{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ss(a=>ij(a),Wd),this._c=new Map,this.mc=new Set,this.gc=new ot(O.comparator),this.yc=new Map,this.Ic=new T0,this.Tc={},this.Ec=new Map,this.Ac=Ca.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function _de(t,e){return fS.apply(this,arguments)}function fS(){return fS=m(function*(t,e){const n=function FS(t){const e=P(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=G$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ede.bind(null,e),e.dc.nu=dde.bind(null,e.eventManager),e.dc.Pc=hde.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function pc(t,e){const n=P(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Ms(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,Kn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function pS(t,e,n,r,i){return gS.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Bm(n.remoteStore,o)}return i}),fS.apply(this,arguments)}function gS(){return gS=m(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=m(function*(g,y,I,_){let S=y.view.sc(I);S.zi&&(S=yield Pm(g.localStore,y.query,!1).then(({documents:ue})=>y.view.sc(ue,S)));const U=_&&_.targetChanges.get(y.targetId),j=y.view.applyChanges(S,g.isPrimaryClient,U);return bS(g,y.targetId,j.cc),j.snapshot}),function(g,y,I,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Pm(t.localStore,e,!0),o=new H$(e,s.ir),a=o.sc(s.documents),u=th.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);bS(t,n,c.cc);const l=new gde(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),gS.apply(this,arguments)}function vde(t,e){return mS.apply(this,arguments)}function mS(){return mS=m(function*(t,e){const n=P(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Wd(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield gc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),gh(n.remoteStore,r.targetId),Ic(n,r.targetId)}).catch(ro))):(Ic(n,r.targetId),yield gc(n.localStore,r.targetId,!0))}),mS.apply(this,arguments)}function yS(){return yS=m(function*(t,e,n){const r=function LS(t){const e=P(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ide.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dde.bind(null,e),e}(t);try{const i=yield function(s,o){const a=P(s),u=vt.now(),c=o.reduce((h,f)=>h.add(f.key),me());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=dr(),p=me();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((y,I)=>{I.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const y=[];for(const I of o){const _=Kce(I,l.get(I.key).overlayedDocument);null!=_&&y.push(new As(I.key,_,GB(_.value.mapValue),ft.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:uj(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new ot(ae)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield xs(r,i.changes),yield yc(r.remoteStore)}catch(i){const s=vc(i,"Failed to persist write");n.reject(s)}}),yS.apply(this,arguments)}function G$(t,e){return _S.apply(this,arguments)}function _S(){return _S=m(function*(t,e){const n=P(t);try{const r=yield function Ble(t,e){const n=P(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Xt.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=dr(),c=me();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function I$(t,e,n){let r=me(),i=me();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=dr();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(q.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(q.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(G(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?G(o.fc):i.removedDocuments.size>0&&(G(o.fc),o.fc=!1))}),yield xs(n,r,e)}catch(r){yield ro(r)}}),_S.apply(this,arguments)}function z$(t,e,n){const r=P(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=P(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&dS(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ede(t,e,n){return vS.apply(this,arguments)}function vS(){return vS=m(function*(t,e,n){const r=P(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new ot(O.comparator);o=o.insert(s,lt.newNoDocument(s,q.min()));const a=me().add(s),u=new eh(q.min(),new Map,new ot(ae),o,a);yield G$(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),TS(r)}else yield gc(r.localStore,e,!1).then(()=>Ic(r,e,n)).catch(ro)}),vS.apply(this,arguments)}function Ide(t,e){return wS.apply(this,arguments)}function wS(){return wS=m(function*(t,e){const n=P(t),r=e.batch.batchId;try{const i=yield function Ule(t,e){const n=P(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);G(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=me();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);CS(n,r,null),DS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield xs(n,i)}catch(i){yield ro(i)}}),wS.apply(this,arguments)}function Dde(t,e,n){return ES.apply(this,arguments)}function ES(){return ES=m(function*(t,e,n){const r=P(t);try{const i=yield function(s,o){const a=P(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(G(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);CS(r,e,n),DS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield xs(r,i)}catch(i){yield ro(i)}}),ES.apply(this,arguments)}function DS(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function CS(t,e,n){const r=P(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Ic(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||q$(t,r)})}function q$(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(gh(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),TS(t))}function bS(t,e,n){for(const r of n)r instanceof j$?(t.Ic.addReference(r.key,e),bde(t,r)):r instanceof $$?(A("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||q$(t,r.key)):B()}function bde(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(A("SyncEngine","New document in limbo: "+n),t.mc.add(r),TS(t))}function TS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new O(Ae.fromString(e)),r=t.Ac.next();t.yc.set(r,new mde(n)),t.gc=t.gc.insert(n,r),Bm(t.remoteStore,new Ms(Kn(sc(n.path)),r,"TargetPurposeLimboResolution",Ar.ct))}}function xs(t,e,n){return SS.apply(this,arguments)}function SS(){return SS=m(function*(t,e,n){const r=P(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=R0.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=m(function*(u,c){const l=P(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!io(d))throw d;A("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),SS.apply(this,arguments)}function Tde(t,e){return AS.apply(this,arguments)}function AS(){return AS=m(function*(t,e){const n=P(t);if(!n.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=yield w$(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new b(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xs(n,r.er)}var i}),AS.apply(this,arguments)}function Sde(t,e){const n=P(t),r=n.yc.get(e);if(r&&r.fc)return me().add(r.key);{let i=me();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class $m{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=fh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function v$(t,e,n,r){return new Vle(t,e,n,r)}(this.persistence,new _$,e.initialUser,this.serializer)}createPersistence(e){return new S0(km.zs,this.serializer)}createSharedClientState(e){return new A$}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Dc{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>z$(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Tde.bind(null,r.syncEngine),yield function iS(t,e){return sS.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new lde}createDatastore(e){const n=fh(e.databaseInfo.databaseId),r=new Wle(e.databaseInfo);return new Yle(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>z$(this.syncEngine,a,0),o=M$.D()?new M$:new Gle,new Zle(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new yde(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=m(function*(n){const r=P(n);A("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield mc(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class Hm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Pt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Bde{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cn.UNAUTHENTICATED,this.clientId=EB.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){A("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(A("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Jt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=vc(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Gm(t,e){return VS.apply(this,arguments)}function VS(){return VS=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield w$(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),VS.apply(this,arguments)}function US(t,e){return BS.apply(this,arguments)}function BS(){return BS=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function jS(t){return $S.apply(this,arguments)}(t);A("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>L$(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>L$(e.remoteStore,s)),t._onlineComponents=e}),BS.apply(this,arguments)}function $S(){return $S=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){A("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Gm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function X$(t){return"FirebaseError"===t.name?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;di("Error using user provided cache. Falling back to memory cache: "+n),yield Gm(t,new $m)}}else A("FirestoreClient","Using default OfflineComponentProvider"),yield Gm(t,new $m);return t._offlineComponents}),$S.apply(this,arguments)}function zm(t){return HS.apply(this,arguments)}function HS(){return HS=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(A("FirestoreClient","Using user provided OnlineComponentProvider"),yield US(t,t._uninitializedComponentsProvider._online)):(A("FirestoreClient","Using default OnlineComponentProvider"),yield US(t,new Dc))),t._onlineComponents}),HS.apply(this,arguments)}function Cc(t){return zS.apply(this,arguments)}function zS(){return zS=m(function*(t){const e=yield zm(t),n=e.eventManager;return n.onListen=_de.bind(null,e.syncEngine),n.onUnlisten=vde.bind(null,e.syncEngine),n}),zS.apply(this,arguments)}function iH(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const sH=new Map;function qS(t,e,n){if(!n)throw new b(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oH(t){if(!O.isDocumentKey(t))throw new b(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aH(t){if(O.isDocumentKey(t))throw new b(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":B()}function be(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wm(t);throw new b(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class cH{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Qde(t,e,n,r){if(!0===e&&!0===r)throw new b(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=iH(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cH(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Wue;switch(n.type){case"firstParty":return new Jue(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=sH.get(e);n&&(A("ComponentProvider","Removing Datastore"),sH.delete(e),n.terminate())}(this),Promise.resolve()}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}}class In{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new In(this.firestore,e,this._query)}}class Gi extends In{constructor(e,n,r){super(e,n,sc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new O(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function Jde(t,e,...n){if(t=xn(t),qS("collection","path",e),t instanceof mh){const r=Ae.fromString(e,...n);return aH(r),new Gi(t,null,r)}{if(!(t instanceof Vt||t instanceof Gi))throw new b(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ae.fromString(e,...n));return aH(r),new Gi(t.firestore,null,r)}}function lH(t,e,...n){if(t=xn(t),1===arguments.length&&(e=EB.A()),qS("doc","path",e),t instanceof mh){const r=Ae.fromString(e,...n);return oH(r),new Vt(t,null,new O(r))}{if(!(t instanceof Vt||t instanceof Gi))throw new b(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ae.fromString(e,...n));return oH(r),new Vt(t.firestore,t instanceof Gi?t.converter:null,new O(r))}}class Xde{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new j0(this,"async_queue_retry"),this.Xc=()=>{const n=Um();n&&A("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Um();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Um();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Jt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!io(n))throw n;A("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Pt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=oS.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&B()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function WS(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class dt extends mh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Xde,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||hH(this),this._firestoreClient.terminate()}}function ehe(t,e){const r="string"==typeof t?t:e||"(default)",i=tg("object"==typeof t?t:hL(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Yp())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function Yde(t,e,n,r={}){var i;const s=(t=be(t,mh))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&di("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=cn.MOCK_USER;else{a=function jZ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Kp(JSON.stringify({alg:"none",type:"JWT"})),Kp(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new b(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new cn(c)}t._authCredentials=new Kue(new vB(a,u))}}(i,...s)}return i}function Gt(t){return t._firestoreClient||hH(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hH(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Sce(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,iH(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Bde(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ta(Xt.fromBase64String(e))}catch(n){throw new b(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ta(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class KS{constructor(e){this._methodName=e}}class QS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}const nhe=/^__.*__$/;class rhe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new As(e,this.data,this.fieldMask,n,this.fieldTransforms):new uc(e,this.data,n,this.fieldTransforms)}}class gH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new As(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function mH(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B()}}class Km{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Km(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ym(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(mH(this.ca)&&nhe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ihe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fh(e)}ya(e,n,r,i=!1){return new Km({ca:e,methodName:n,ga:r,path:Ft.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tc(t){const e=t._freezeSettings(),n=fh(t._databaseId);return new ihe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YS(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);XS("Data must be an object, but it was:",o,r);const a=EH(r,o);let u,c;if(s.merge)u=new lr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=vh(e,d,n);if(!o.contains(h))throw new b(D.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);DH(l,h)||l.push(h)}u=new lr(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new rhe(new En(a),u,c)}class _h extends KS{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _h}}function Sa(t,e){if(IH(t=xn(t)))return XS("Unsupported field value:",e,t),EH(t,e);if(t instanceof KS)return function(n,r){if(!mH(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Sa(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=xn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return hj(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=vt.fromDate(n);return{timestampValue:lc(r.serializer,i)}}if(n instanceof vt){const i=new vt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:lc(r.serializer,i)}}if(n instanceof QS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ta)return{bytesValue:Nj(r.serializer,n._byteString)};if(n instanceof Vt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:g0(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Wm(n)}`)}(t,e)}function EH(t,e){const n={};return PB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):so(t,(r,i)=>{const s=Sa(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function IH(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof QS||t instanceof Ta||t instanceof Vt||t instanceof KS)}function XS(t,e,n){if(!IH(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Wm(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function vh(t,e,n){if((e=xn(e))instanceof bc)return e._internalPath;if("string"==typeof e)return Qm(t,e);throw Ym("Field path arguments must be of type string or ",t,!1,void 0,n)}const uhe=new RegExp("[~\\*/\\[\\]]");function Qm(t,e,n){if(e.search(uhe)>=0)throw Ym(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bc(...e.split("."))._internalPath}catch{throw Ym(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ym(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(D.INVALID_ARGUMENT,a+t+u)}function DH(t,e){return t.some(n=>n.isEqual(e))}class ZS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new che(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class che extends ZS{data(){return super.data()}}function Jm(t,e){return"string"==typeof e?Qm(t,e):e instanceof bc?e._internalPath:e._delegate._internalPath}function CH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eA{}class bH extends eA{}function lhe(t,e,...n){let r=[];e instanceof eA&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Sc).length,o=i.filter(a=>a instanceof wh).length;if(s>1||s>0&&o>0)throw new b(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class wh extends bH{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new wh(e,n,r)}_apply(e){const n=this._parse(e);return MH(e._query,n),new In(e.firestore,e.converter,s0(e._query,n))}_parse(e){const n=Tc(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new b(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){AH(l,c);const h=[];for(const f of l)h.push(SH(a,i,f));d={arrayValue:{values:h}}}else d=SH(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||AH(l,c),d=function wH(t,e,n,r=!1){return Sa(n,t.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return Ce.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Sc extends eA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sc(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Ke.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)MH(s,a),s=s0(s,a)}(e._query,n),new In(e.firestore,e.converter,s0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class tA extends bH{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new tA(e,n)}_apply(e){const n=function(r,i,s){if(null!==r.startAt)throw new b(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new b(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new rc(i,s);return function(a,u){if(null===n0(a)){const c=ym(a);null!==c&&xH(0,c,u.field)}}(r,o),o}(e._query,this._field,this._direction);return new In(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Ts(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function dhe(t,e="asc"){const n=e,r=Jm("orderBy",t);return tA._create(r,n)}function SH(t,e,n){if("string"==typeof(n=xn(n))){if(""===n)throw new b(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!r0(e)&&-1!==n.indexOf("/"))throw new b(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ae.fromString(n));if(!O.isDocumentKey(r))throw new b(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pa(t,new O(r))}if(n instanceof Vt)return pa(t,n._key);throw new b(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wm(n)}.`)}function AH(t,e){if(!Array.isArray(t)||0===t.length)throw new b(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MH(t,e){if(e.isInequality()){const r=ym(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new b(D.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=n0(t);null!==s&&xH(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new b(D.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function xH(t,e,n){if(!n.isEqual(e))throw new b(D.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class hhe{convertValue(e,n="none"){switch(uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw B()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return so(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new QS(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dm(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($d(e));default:return null}}convertTimestamp(e){const n=oo(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ae.fromString(e);G(Hj(r));const i=new fa(r.get(1),r.get(3)),s=new O(r.popFirst(5));return i.isEqual(n)||Pt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Aa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ac extends ZS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ty(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ty extends Ac{data(e={}){return super.data(e)}}class Mc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Aa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ty(this._firestore,this._userDataWriter,r.key,r,new Aa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new ty(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Aa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new ty(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Aa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:phe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function phe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return B()}}class _o extends hhe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ta(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function ghe(t){t=be(t,In);const e=be(t.firestore,dt),n=Gt(e),r=new _o(e);return CH(t._query),function rH(t,e,n={}){const r=new Jt;return t.asyncQueue.enqueueAndForget(m(function*(){return function(i,s,o,a,u){const c=new Hm({next:d=>{s.enqueueAndForget(()=>cS(i,l)),d.fromCache&&"server"===a.source?u.reject(new b(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new hS(o,c,{includeMetadataChanges:!0,Ku:!0});return aS(i,l)}(yield Cc(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new Mc(e,r,t,i))}function mhe(t,e,n,...r){t=be(t,Vt);const i=be(t.firestore,dt),s=Tc(i);let o;return o="string"==typeof(e=xn(e))||e instanceof bc?function vH(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[vh(e,r,n)],u=[i];if(s.length%2!=0)throw new b(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(vh(e,s[h])),u.push(s[h+1]);const c=[],l=En.empty();for(let h=a.length-1;h>=0;--h)if(!DH(c,a[h])){const f=a[h];let p=u[h];p=xn(p);const g=o.da(f);if(p instanceof _h)c.push(f);else{const y=Sa(p,g);null!=y&&(c.push(f),l.set(f,y))}}const d=new lr(c);return new gH(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function _H(t,e,n,r){const i=t.ya(1,e,n);XS("Data must be an object, but it was:",i,r);const s=[],o=En.empty();so(r,(u,c)=>{const l=Qm(e,u,n);c=xn(c);const d=i.da(l);if(c instanceof _h)s.push(l);else{const h=Sa(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new lr(s);return new gH(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),Eh(i,[o.toMutation(t._key,ft.exists(!0))])}function yhe(t){return Eh(be(t.firestore,dt),[new cc(t._key,ft.none())])}function _he(t,e){const n=be(t.firestore,dt),r=lH(t),i=function nA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Eh(n,[YS(Tc(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ft.exists(!1))]).then(()=>r)}function Eh(t,e){return function(n,r){const i=new Jt;return n.asyncQueue.enqueueAndForget(m(function*(){return function wde(t,e,n){return yS.apply(this,arguments)}(yield function GS(t){return zm(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Gt(t),e)}!function(t,e=!0){Zu=Zl,zn(new Rn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new dt(new Que(n.getProvider("auth-internal")),new Xue(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fa(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ot(_B,"3.13.0",t),Ot(_B,"3.13.0","esm2017")}();var Rhe={includeMetadataChanges:!1};function iA(t,e){return void 0===e&&(e=Rhe),new Z(function(n){var r=function vhe(t,...e){var n,r,i;t=xn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||WS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(WS(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Vt)c=be(t.firestore,dt),l=sc(t._key.path),u={next:d=>{e[o]&&e[o](function rA(t,e,n){const r=n.docs.get(e._key),i=new _o(t);return new Ac(t,i,e._key,r,new Aa(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=be(t,In);c=be(d.firestore,dt),l=d._query;const h=new _o(c);u={next:f=>{e[o]&&e[o](new Mc(c,h,d,f))},error:e[o+1],complete:e[o+2]},CH(t._query)}return function(d,h,f,p){const g=new Hm(p),y=new hS(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return aS(yield Cc(d),y)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(m(function*(){return cS(yield Cc(d),y)}))}}(Gt(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Vhe(t,e){return void 0===e&&(e={}),function Lhe(t){return iA(t,{includeMetadataChanges:!0}).pipe(X(function(e){return e.docs}))}(t).pipe(X(function(n){return n.map(function(r){return function NH(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class ry{constructor(e){return e}}const LH="firestore",aA=new x("angularfire2.firestore-instances");function jhe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ry(r)}}const $he={provide:class Uhe{constructor(){return TD(LH)}},deps:[[new rr,aA]]},Hhe={provide:ry,useFactory:function Bhe(t,e){const n=function bD(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(LH,t,e);return n&&new ry(n)},deps:[[new rr,aA],ju]};let Ghe=(()=>{class t{constructor(){Ot("angularfire",yD.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Un({type:t}),t.\u0275inj=Dn({providers:[Hhe,$he]}),t})();function zhe(t,...e){return{ngModule:Ghe,providers:[{provide:aA,useFactory:jhe(t),multi:!0,deps:[et,Ir,AV,MV,[new rr,N2],[new rr,tU],...e]}]}}const qhe=ui(Vhe,!0),Whe=ui(_he,!0),VH=ui(Jde,!0),Khe=ui(yhe,!0),UH=ui(lH,!0),Qhe=ui(ghe,!0),Yhe=ui(ehe,!0),Jhe=ui(dhe,!0),Xhe=ui(lhe,!0),Zhe=ui(mhe,!0);let iy=(()=>{class t{constructor(n){this.fs=n}getTask(){try{let n=VH(this.fs,"tasks");const r=Xhe(n,Jhe("Progress"));this.sortedData$=qhe(r,{idField:"Id"})}catch(n){console.log(n)}return this.sortedData$}addTask(n){var r=this;return m(function*(){try{let i=VH(r.fs,"tasks");const s=yield Qhe(i);return n.Sl=s.size+1,(yield Whe(i,n)).id}catch(i){return console.log(i),null}return null})()}updateTask(n,r){console.log(n);let i=UH(this.fs,"tasks/"+n);Zhe(i,r)}deleteTask(n){let r=UH(this.fs,"tasks/"+n);Khe(r)}}return t.\u0275fac=function(n){return new(n||t)(F(ry))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class ife extends Error{constructor(e,n){super(function sfe(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function zH(t,e){const n=!e?.manualCleanup;n&&!e?.injector&&function ek(t){if(!dM()&&!function m4(){return Pa}())throw new M(-203,!1)}();const r=n?e?.injector?.get(jf)??k(jf):null;let i;i=function LM(t,e){const n=new Q4(t,e?.equal??OM);return $y(n,n.signal.bind(n),{set:n.set.bind(n),update:n.update.bind(n),mutate:n.mutate.bind(n),asReadonly:n.asReadonly.bind(n)})}(e?.requireSync?{kind:0}:{kind:1,value:e?.initialValue});const s=t.subscribe({next:o=>i.set({kind:1,value:o}),error:o=>i.set({kind:2,error:o})});return r?.onDestroy(s.unsubscribe.bind(s)),PM(()=>{const o=i();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new ife(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}const Ih={},qH="@ngrx/store/init";let Ma=(()=>{class t extends ve{constructor(){super({type:qH})}next(n){if("function"==typeof n)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const yfe=[Ma],pA=new x("@ngrx/store Internal Root Guard"),WH=new x("@ngrx/store Internal Initial State"),gA=new x("@ngrx/store Initial State"),KH=new x("@ngrx/store Reducer Factory"),QH=new x("@ngrx/store Internal Reducer Factory Provider"),YH=new x("@ngrx/store Initial Reducers"),mA=new x("@ngrx/store Internal Initial Reducers"),JH=new x("@ngrx/store Store Features"),XH=new x("@ngrx/store Internal Store Reducers"),yA=new x("@ngrx/store Internal Feature Reducers"),ZH=new x("@ngrx/store Internal Feature Configs"),_A=new x("@ngrx/store Internal Store Features"),eG=new x("@ngrx/store Internal Feature Reducers Token"),vA=new x("@ngrx/store Feature Reducers"),tG=new x("@ngrx/store User Provided Meta Reducers"),uy=new x("@ngrx/store Meta Reducers"),nG=new x("@ngrx/store Internal Resolved Meta Reducers"),rG=new x("@ngrx/store User Runtime Checks Config"),iG=new x("@ngrx/store Internal User Runtime Checks Config"),Dh=new x("@ngrx/store Internal Runtime Checks"),Ch=new x("@ngrx/store Check if Action types are unique");function EA(t,e={}){const n=Object.keys(t),r={};for(let s=0;s<n.length;s++){const o=n[s];"function"==typeof t[o]&&(r[o]=t[o])}const i=Object.keys(r);return function(o,a){o=void 0===o?e:o;let u=!1;const c={};for(let l=0;l<i.length;l++){const d=i[l],f=o[d],p=(0,r[d])(f,a);c[d]=p,u=u||p!==f}return u?c:o}}function oG(...t){return function(e){if(0===t.length)return e;const n=t[t.length-1];return t.slice(0,-1).reduceRight((i,s)=>s(i),n(e))}}function aG(t,e){return Array.isArray(e)&&e.length>0&&(t=oG.apply(null,[...e,t])),(n,r)=>{const i=t(n);return(s,o)=>i(s=void 0===s?r:s,o)}}new x("@ngrx/store Root Store Provider"),new x("@ngrx/store Feature State Provider");class cy extends Z{}class uG extends Ma{}let bh=(()=>{class t extends ve{get currentReducers(){return this.reducers}constructor(n,r,i,s){super(s(i,r)),this.dispatcher=n,this.initialState=r,this.reducers=i,this.reducerFactory=s}addFeature(n){this.addFeatures([n])}addFeatures(n){const r=n.reduce((i,{reducers:s,reducerFactory:o,metaReducers:a,initialState:u,key:c})=>{const l="function"==typeof s?function vfe(t){const e=Array.isArray(t)&&t.length>0?oG(...t):n=>n;return(n,r)=>(n=e(n),(i,s)=>n(i=void 0===i?r:i,s))}(a)(s,u):aG(o,a)(s,u);return i[c]=l,i},{});this.addReducers(r)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(r=>r.key))}addReducer(n,r){this.addReducers({[n]:r})}addReducers(n){this.reducers={...this.reducers,...n},this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(r=>{this.reducers=function _fe(t,e){return Object.keys(t).filter(n=>n!==e).reduce((n,r)=>Object.assign(n,{[r]:t[r]}),{})}(this.reducers,r)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:n})}ngOnDestroy(){this.complete()}}return t.\u0275fac=function(n){return new(n||t)(F(uG),F(gA),F(YH),F(KH))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const Efe=[bh,{provide:cy,useExisting:bh},{provide:uG,useExisting:Ma}];let ly=(()=>{class t extends Ye{ngOnDestroy(){this.complete()}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=rn(t)))(r||t)}}(),t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const Ife=[ly];class cG extends Z{}let lG=(()=>{class t extends ve{constructor(n,r,i,s){super(s);const a=n.pipe(Lc(TV)).pipe(function efe(...t){const e=Sy(t);return pe((n,r)=>{const i=t.length,s=new Array(i);let o=t.map(()=>!1),a=!1;for(let u=0;u<i;u++)gr(t[u]).subscribe(we(r,c=>{s[u]=c,!a&&!o[u]&&(o[u]=!0,(a=o.every(Y))&&(o=null))},zt));n.subscribe(we(r,u=>{if(a){const c=[u,...s];r.next(e?e(...c):c)}}))})}(r)),c=a.pipe(KP(Dfe,{state:s}));this.stateSubscription=c.subscribe(({state:l,action:d})=>{this.next(l),i.next(d)}),this.state=zH(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return t.INIT=qH,t.\u0275fac=function(n){return new(n||t)(F(Ma),F(cy),F(ly),F(gA))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();function Dfe(t={state:void 0},[e,n]){const{state:r}=t;return{state:n(r,e),action:e}}const Cfe=[lG,{provide:cG,useExisting:lG}];let Rc=(()=>{class t extends Z{constructor(n,r,i){super(),this.actionsObserver=r,this.reducerManager=i,this.source=n,this.state=n.state}select(n,...r){return Tfe.call(null,n,...r)(this)}selectSignal(n,r){return PM(()=>n(this.state()),{equal:r?.equal||((i,s)=>i===s)})}lift(n){const r=new t(this,this.actionsObserver,this.reducerManager);return r.operator=n,r}dispatch(n){this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,r){this.reducerManager.addReducer(n,r)}removeReducer(n){this.reducerManager.removeReducer(n)}}return t.\u0275fac=function(n){return new(n||t)(F(cG),F(Ma),F(bh))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const bfe=[Rc];function Tfe(t,e,...n){return function(i){let s;if("string"==typeof t){const o=[e,...n].filter(Boolean);s=i.pipe(function tfe(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return X(n=>{let r=n;for(let i=0;i<e;i++){const s=r?.[t[i]];if(!(typeof s<"u"))return;r=s}return r})}(t,...o))}else{if("function"!=typeof t)throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);s=i.pipe(X(o=>t(o,e)))}return s.pipe(oM())}}const IA="https://ngrx.io/guide/store/configuration/runtime-checks";function dG(t){return void 0===t}function hG(t){return null===t}function fG(t){return Array.isArray(t)}function pG(t){return"object"==typeof t&&null!==t}function DA(t){return"function"==typeof t}function CA(t,e){return t===e}function bA(t,e=CA,n=CA){let s,r=null,i=null;return{memoized:function c(){if(void 0!==s)return s.result;if(!r)return i=t.apply(null,arguments),r=arguments,i;if(!function Ofe(t,e,n){for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!0;return!1}(arguments,r,e))return i;const l=t.apply(null,arguments);return r=arguments,n(i,l)?i:(i=l,l)},reset:function o(){r=null,i=null},setResult:function a(l=void 0){s={result:l}},clearResult:function u(){s=void 0}}}function kc(...t){return function Ffe(t,e={stateFn:Pfe}){return function(...n){let r=n;if(Array.isArray(r[0])){const[l,...d]=r;r=[...l,...d]}else 1===r.length&&function Vfe(t){return!!t&&"object"==typeof t&&Object.values(t).every(e=>"function"==typeof e)}(r[0])&&(r=function Ufe(t){const e=Object.values(t),n=Object.keys(t);return[...e,(...i)=>n.reduce((s,o,a)=>({...s,[o]:i[a]}),{})]}(r[0]));const i=r.slice(0,r.length-1),s=r[r.length-1],o=i.filter(l=>l.release&&"function"==typeof l.release),a=t(function(...l){return s.apply(null,l)}),u=bA(function(l,d){return e.stateFn.apply(null,[l,i,d,a])});return Object.assign(u.memoized,{release:function c(){u.reset(),a.reset(),o.forEach(l=>l.release())},projector:a.memoized,setResult:u.setResult,clearResult:u.clearResult})}}(bA)(...t)}function Pfe(t,e,n,r){if(void 0===n){const s=e.map(o=>o(t));return r.memoized.apply(null,s)}const i=e.map(s=>s(t,n));return r.memoized.apply(null,[...i,n])}function $fe(t){return t instanceof x?k(t):t}function Hfe(t,e){return e.map((n,r)=>{if(t[r]instanceof x){const i=k(t[r]);return{key:n.key,reducerFactory:i.reducerFactory?i.reducerFactory:EA,metaReducers:i.metaReducers?i.metaReducers:[],initialState:i.initialState}}return n})}function Gfe(t){return t.map(e=>e instanceof x?k(e):e)}function TA(t){return"function"==typeof t?t():t}function zfe(t,e){return t.concat(e)}function qfe(){if(k(Rc,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function SA(t){Object.freeze(t);const e=DA(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&function kfe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n)&&(!e||"caller"!==n&&"callee"!==n&&"arguments"!==n)){const r=t[n];(pG(r)||DA(r))&&!Object.isFrozen(r)&&SA(r)}}),t}function AA(t,e=[]){return(dG(t)||hG(t))&&0===e.length?{path:["root"],value:t}:Object.keys(t).reduce((r,i)=>{if(r)return r;const s=t[i];return function Rfe(t){return DA(t)&&t.hasOwnProperty("\u0275cmp")}(s)?r:!(dG(s)||hG(s)||function Mfe(t){return"number"==typeof t}(s)||function Afe(t){return"boolean"==typeof t}(s)||function Sfe(t){return"string"==typeof t}(s)||fG(s))&&(function gG(t){if(!function xfe(t){return pG(t)&&!fG(t)}(t))return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}(s)?AA(s,[...e,i]):{path:[...e,i],value:s})},!1)}function yG(t,e){if(!1===t)return;const n=t.path.join("."),r=new Error(`Detected unserializable ${e} at "${n}". ${IA}#strict${e}serializability`);throw r.value=t.value,r.unserializablePath=n,r}function Yfe(t){return{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Jfe({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?function Kfe(t,e){return function(n,r){e.action(r)&&yG(AA(r),"action");const i=t(n,r);return e.state()&&yG(AA(i),"state"),i}}(n,{action:r=>t&&!MA(r),state:()=>e}):n}function Xfe({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?function Wfe(t,e){return function(n,r){const i=e.action(r)?SA(r):r,s=t(n,i);return e.state()?SA(s):s}}(n,{action:r=>t&&!MA(r),state:()=>e}):n}function MA(t){return t.type.startsWith("@ngrx")}function Zfe({strictActionWithinNgZone:t}){return e=>t?function Qfe(t,e){return function(n,r){if(e.action(r)&&!et.isInAngularZone())throw new Error(`Action '${r.type}' running outside NgZone. ${IA}#strictactionwithinngzone`);return t(n,r)}}(e,{action:n=>t&&!MA(n)}):e}function epe(t){return[{provide:iG,useValue:t},{provide:rG,useFactory:tpe,deps:[iG]},{provide:Dh,deps:[rG],useFactory:Yfe},{provide:uy,multi:!0,deps:[Dh],useFactory:Xfe},{provide:uy,multi:!0,deps:[Dh],useFactory:Jfe},{provide:uy,multi:!0,deps:[Dh],useFactory:Zfe}]}function _G(){return[{provide:Ch,multi:!0,deps:[Dh],useFactory:npe}]}function tpe(t){return t}function npe(t){if(!t.strictActionTypeUniqueness)return;const e=Object.entries(Ih).filter(([,n])=>n>1).map(([n])=>n);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(n=>`"${n}"`).join(", ")}. ${IA}#strictactiontypeuniqueness`)}function vG(t={},e={}){return[{provide:pA,useFactory:qfe},{provide:WH,useValue:e.initialState},{provide:gA,useFactory:TA,deps:[WH]},{provide:mA,useValue:t},{provide:XH,useExisting:t instanceof x?t:mA},{provide:YH,deps:[mA,[new l_(XH)]],useFactory:$fe},{provide:tG,useValue:e.metaReducers?e.metaReducers:[]},{provide:nG,deps:[uy,tG],useFactory:zfe},{provide:QH,useValue:e.reducerFactory?e.reducerFactory:EA},{provide:KH,deps:[QH,nG],useFactory:aG},yfe,Efe,Ife,Cfe,bfe,epe(e.runtimeChecks),_G()]}function wG(t,e,n={}){return[{provide:ZH,multi:!0,useValue:t instanceof Object?{}:n},{provide:JH,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:n instanceof x||!n.reducerFactory?EA:n.reducerFactory,metaReducers:n instanceof x||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof x||!n.initialState?void 0:n.initialState}},{provide:_A,deps:[ZH,JH],useFactory:Hfe},{provide:yA,multi:!0,useValue:t instanceof Object?t.reducer:e},{provide:eG,multi:!0,useExisting:e instanceof x?e:yA},{provide:vA,multi:!0,deps:[yA,[new l_(eG)]],useFactory:Gfe},_G()]}let EG=(()=>{class t{constructor(n,r,i,s,o,a){}}return t.\u0275fac=function(n){return new(n||t)(F(Ma),F(cy),F(ly),F(Rc),F(pA,8),F(Ch,8))},t.\u0275mod=Un({type:t}),t.\u0275inj=Dn({}),t})(),ape=(()=>{class t{constructor(n,r,i,s,o){this.features=n,this.featureReducers=r,this.reducerManager=i;const a=n.map((u,c)=>{const d=r.shift()[c];return{...u,reducers:d,initialState:TA(u.initialState)}});i.addFeatures(a)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return t.\u0275fac=function(n){return new(n||t)(F(_A),F(vA),F(bh),F(EG),F(Ch,8))},t.\u0275mod=Un({type:t}),t.\u0275inj=Dn({}),t})(),upe=(()=>{class t{static forRoot(n,r){return{ngModule:EG,providers:[...vG(n,r)]}}static forFeature(n,r,i={}){return{ngModule:ape,providers:[...wG(n,r,i)]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Un({type:t}),t.\u0275inj=Dn({}),t})();const IG="task list request",DG="task list success",bG="task update",TG="task delete";class cpe{constructor(){this.type=IG}}class lpe{constructor(e){this.payload=e,this.type=DG}}class dpe{constructor(e){this.payload=e,this.type=bG}}class hpe{constructor(e){this.payload=e,this.type=TG}}let Th=(()=>{class t{constructor(){this.logs=[]}log(n){this.logs.push(n),this.logs.push("\n \n ############################# \n \n"),console.log("Pushed : ",n)}getLogs(){return console.log(this.logs),this.logs}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const fpe={loaded:!1,loading:!1,tasks:[],timeStamp:(new Date).toISOString(),log:[]},vpe={tasks:function ppe(t=fpe,e){switch(Ir.create({providers:[{provide:Th,useClass:Th}]}).get(Th),e.type){case IG:{const i=(new Date).toISOString(),s=t.log.concat(`Task List Request Action: ${i} \n\n#########\n\n`);return{...t,loading:!0,timeStamp:i,log:s}}case DG:{const i=(new Date).toISOString(),s=e.payload.data,o=t.log.concat(`Task List Success Action at ${i} data: \n ${JSON.stringify(s)} \n\n#########\n\n`);return{...t,loading:!1,loaded:!0,tasks:s,timeStamp:i,log:o}}case"task create":{const i=(new Date).toISOString(),s=t.tasks.concat(e.payload.data),o=t.log.concat(`Task Create Request Action: At ${i} \n Added task: ${JSON.stringify(e.payload.data)} \n\n#########\n\n`);return{...t,loading:!1,loaded:!0,tasks:s,timeStamp:i,log:o}}case bG:{const i=(new Date).toISOString(),a=t.log.concat(`Update Action: Id: ${e.payload.data.Id}, Changes done ,${JSON.stringify(e.payload.data.data)}, At:,${i} \n\n#########\n\n`);return{...t,loading:!1,loaded:!1,timeStamp:i,log:a}}case TG:{const i=(new Date).toISOString(),s=t.tasks.filter(a=>a.Id!==e.payload.data),o=t.log.concat(`Task Delete Request Action: At ${i} \n Deleted Id : ${e.payload.data}\n\n#########\n\n`);return{...t,...s,timeStamp:i,log:o}}}return t}},dy=t=>t.tasks,wpe=kc(dy,t=>t.loaded),Epe=kc(dy,t=>t.loading),Ipe=kc(dy,t=>t.tasks),Dpe=kc(dy,t=>t.log),Cpe=function(){return{exact:!0}};let bpe=(()=>{class t{constructor(){this.add=!1}toggleAdd(){this.add=!this.add}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=So({type:t,selectors:[["app-home"]],decls:9,vars:5,consts:[[1,"w-full"],[1,"flex","flex-row","text-center","bg-blue-500","text-white","text-2xl"],[1,"text-blue-500","m-2","text-sm","px-2"],[1,"items-center","grow"],["routerLinkActive","selected",1,"rounded-lg","float-right","m-2","text-lg","px-2",3,"ngClass","routerLink","routerLinkActiveOptions","click"]],template:function(n,r){1&n&&(ie(0,"div",0)(1,"h2",1)(2,"button",2),He(3," X "),te(),ie(4,"div",3),He(5,"Task Management System"),te(),ie(6,"button",4),Se("click",function(){return r.toggleAdd()}),He(7),te()(),Zr(8,"router-outlet"),te()),2&n&&(sr(6),or("ngClass",r.add?"bg-red-500":"bg-green-500")("routerLink",r.add?"":"/add")("routerLinkActiveOptions",A1(4,Cpe)),sr(1),El(" ",r.add?"X":"+"," "))},dependencies:[Dw,Up,Wp,jF]}),t})(),SG=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(T(is),T(Er))},t.\u0275dir=re({type:t}),t})(),xa=(()=>{class t extends SG{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=rn(t)))(r||t)}}(),t.\u0275dir=re({type:t,features:[ze]}),t})();const qi=new x("NgValueAccessor"),Ape={provide:qi,useExisting:rt(()=>Sh),multi:!0},xpe=new x("CompositionEventMode");let Sh=(()=>{class t extends SG{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Mpe(){const t=zs()?zs().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(T(is),T(Er),T(xpe,8))},t.\u0275dir=re({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Se("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ht([Ape]),ze]}),t})();const Ln=new x("NgValidators"),wo=new x("NgAsyncValidators");function kG(t){return function vo(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function hy(t){return null}function VG(t){return null!=t}function UG(t){return vl(t)?tn(t):t}function BG(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function jG(t,e){return e.map(n=>n(t))}function $G(t){return t.map(e=>function kpe(t){return!t.validate}(e)?e:n=>e.validate(n))}function xA(t){return null!=t?function HG(t){if(!t)return null;const e=t.filter(VG);return 0==e.length?null:function(n){return BG(jG(n,e))}}($G(t)):null}function RA(t){return null!=t?function GG(t){if(!t)return null;const e=t.filter(VG);return 0==e.length?null:function(n){return function Tpe(...t){const e=Sy(t),{args:n,keys:r}=jP(t),i=new Z(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;gr(n[l]).subscribe(we(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?HP(r,a):a),s.complete())}))}});return e?i.pipe($P(e)):i}(jG(n,e).map(UG)).pipe(X(BG))}}($G(t)):null}function zG(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function kA(t){return t?Array.isArray(t)?t:[t]:[]}function fy(t,e){return Array.isArray(t)?t.includes(e):t===e}function KG(t,e){const n=kA(e);return kA(t).forEach(i=>{fy(n,i)||n.push(i)}),n}function QG(t,e){return kA(e).filter(n=>!fy(t,n))}class YG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=RA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Qn extends YG{get formDirective(){return null}get path(){return null}}class Eo extends YG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class JG{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let NA=(()=>{class t extends JG{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(T(Eo,2))},t.\u0275dir=re({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&ep("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ze]}),t})(),XG=(()=>{class t extends JG{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(T(Qn,10))},t.\u0275dir=re({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&ep("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ze]}),t})();const Ah="VALID",gy="INVALID",Nc="PENDING",Mh="DISABLED";function FA(t){return(my(t)?t.validators:t)||null}function LA(t,e){return(my(e)?e.asyncValidators:t)||null}function my(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class nz{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ah}get invalid(){return this.status===gy}get pending(){return this.status==Nc}get disabled(){return this.status===Mh}get enabled(){return this.status!==Mh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(KG(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(KG(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(QG(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(QG(e,this._rawAsyncValidators))}hasValidator(e){return fy(this._rawValidators,e)}hasAsyncValidator(e){return fy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Nc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Mh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ah,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ah||this.status===Nc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mh:Ah}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Nc,this._hasOwnPendingAsyncValidator=!0;const n=UG(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Dt,this.statusChanges=new Dt}_calculateStatus(){return this._allControlsDisabled()?Mh:this.errors?gy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nc)?Nc:this._anyControlsHaveStatus(gy)?gy:Ah}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){my(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Fpe(t){return Array.isArray(t)?xA(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Lpe(t){return Array.isArray(t)?RA(t):t||null}(this._rawAsyncValidators)}}class VA extends nz{constructor(e,n,r){super(FA(n),LA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function tz(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new M(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function ez(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new M(1e3,"");if(!r[n])throw new M(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Oc=new x("CallSetDisabledState",{providedIn:"root",factory:()=>yy}),yy="always";function _y(t,e){return[...e.path,t]}function xh(t,e,n=yy){UA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Bpe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&rz(t,e)})}(t,e),function $pe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function jpe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&rz(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Upe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function wy(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function UA(t,e){const n=function qG(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(zG(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function WG(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(zG(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();wy(e._rawValidators,i),wy(e._rawAsyncValidators,i)}function rz(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Wpe={provide:Qn,useExisting:rt(()=>Iy)},Rh=(()=>Promise.resolve())();let Iy=(()=>{class t extends Qn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Dt,this.form=new VA({},xA(n),RA(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Rh.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),xh(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Rh.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Rh.then(()=>{const r=this._findContainer(n.path),i=new VA({});(function iz(t,e){UA(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Rh.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Rh.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function sz(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(T(Ln,10),T(wo,10),T(Oc,8))},t.\u0275dir=re({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&Se("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ht([Wpe]),ze]}),t})();function oz(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function az(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const uz=class extends nz{constructor(e=null,n,r){super(FA(n),LA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),my(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=az(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){oz(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){oz(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){az(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let cz=(()=>{class t extends Qn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return _y(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=rn(t)))(r||t)}}(),t.\u0275dir=re({type:t,features:[ze]}),t})();const Qpe={provide:Qn,useExisting:rt(()=>HA)};let HA=(()=>{class t extends cz{constructor(n,r,i){super(),this.name="",this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){}}return t.\u0275fac=function(n){return new(n||t)(T(Qn,5),T(Ln,10),T(wo,10))},t.\u0275dir=re({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[ht([Qpe]),ze]}),t})();const Ype={provide:Eo,useExisting:rt(()=>Dy)},lz=(()=>Promise.resolve())();let Dy=(()=>{class t extends Eo{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new uz,this._registered=!1,this.name="",this.update=new Dt,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function $A(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Sh?n=s:function zpe(t){return Object.getPrototypeOf(t.constructor)===xa}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function jA(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){xh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){lz.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Tu(r);lz.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?_y(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(T(Qn,9),T(Ln,10),T(wo,10),T(qi,10),T(lp,8),T(Oc,8))},t.\u0275dir=re({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ht([Ype]),ze,Or]}),t})(),hz=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Un({type:t}),t.\u0275inj=Dn({}),t})();const age={provide:qi,useExisting:rt(()=>Cy),multi:!0};function vz(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Cy=(()=>{class t extends xa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=vz(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function uge(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=rn(t)))(r||t)}}(),t.\u0275dir=re({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&Se("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ht([age]),ze]}),t})(),wz=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(vz(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(T(Er),T(is),T(Cy,9))},t.\u0275dir=re({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const cge={provide:qi,useExisting:rt(()=>WA),multi:!0};function Ez(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let WA=(()=>{class t extends xa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function lge(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=rn(t)))(r||t)}}(),t.\u0275dir=re({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&Se("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ht([cge]),ze]}),t})(),Iz=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(Ez(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Ez(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(T(Er),T(is),T(WA,9))},t.\u0275dir=re({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),Ra=(()=>{class t{constructor(){this._validator=hy}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):hy,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=re({type:t,features:[Or]}),t})();const fge={provide:Ln,useExisting:rt(()=>by),multi:!0};let by=(()=>{class t extends Ra{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Tu,this.createValidator=n=>kG}enabled(n){return n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=rn(t)))(r||t)}}(),t.\u0275dir=re({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&Si("required",r._enabled?"":null)},inputs:{required:"required"},features:[ht([fge]),ze]}),t})(),vge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Un({type:t}),t.\u0275inj=Dn({imports:[hz]}),t})(),Ege=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Oc,useValue:n.callSetDisabledState??yy}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Un({type:t}),t.\u0275inj=Dn({imports:[vge]}),t})(),Ige=(()=>{class t{constructor(n){this.service=n,this.Priority="3"}log(n){console.log(n)}onSubmit(n){const r=n.value.formGroupValues;this.addTasks({Title:r.title,DueDt:r.dueDt,Priority:this.Priority,Description:r.description,Progress:"1"})}addTasks(n){try{this.service.addTask(n).then(r=>{null!==r&&alert("Task saved Successfully!")})}catch(r){return console.log(r),!1}}onRadioChange(n){this.Priority=n.target.value}}return t.\u0275fac=function(n){return new(n||t)(T(iy))},t.\u0275cmp=So({type:t,selectors:[["app-input"]],decls:33,vars:0,consts:[["ngNativeValidate","",3,"ngSubmit"],["myForm","ngForm"],["ngModelGroup","formGroupValues"],[1,"flex","flex-col","text-xs","lg:text-base"],[1,"flex","flex-row","text-center","bg-blue-500","text-white","text-2xl"],[1,"items-center","grow"],["type","text","required","","id","title","ngModel","","name","title","placeholder","Title",1,"border","rounded-lg","drop-shadow-lg","m-5","p-2"],["required","","name","description","ngModel","","placeholder","Description",1,"border","rounded-lg","drop-shadow-lg","m-5","p-2"],["description",""],[1,"lg:flex","lg:flex-row","lg:justify-between","w-full"],[1,"flex","flex-row","border","mx-5","my-2","px-2","justify-between","align-middle","rounded-lg","shadow-lg"],["for","dueDt",1,"p-1","align-middle","m-2"],["required","","ngModel","","type","date","name","dueDt","id","dueDt",1,"w-fit","align-middle","p-1","m-2"],["dueDt",""],[1,"flex","flex-row","border","mx-5","my-2","px-2","justify-between","rounded-lg","shadow-lg"],[1,"p-4"],[1,"flex","items-center","p-2"],["type","radio","name","priority","value","1","id","list-radio-high",1,"peer","hidden",3,"change"],["for","list-radio-high",1,"block","cursor-pointer","select-none","rounded-xl","p-2","text-center","peer-checked:bg-red-600","font-bold","peer-checked:text-white"],["type","radio","name","priority","value","2","id","list-radio-medium",1,"peer","hidden",3,"change"],["for","list-radio-medium",1,"block","cursor-pointer","select-none","rounded-xl","p-2","text-center","peer-checked:bg-yellow-600","font-bold","peer-checked:text-white"],["checked","","type","radio","value","3","name","priority","id","list-radio-low",1,"peer","hidden",3,"change"],["for","list-radio-low",1,"block","cursor-pointer","select-none","rounded-xl","p-2","text-center","peer-checked:bg-green-600","font-bold","peer-checked:text-white"],["type","submit",1,"border","rounded-lg","drop-shadow-lg","m-5","p-2","bg-blue-600","text-white","font-bold"]],template:function(n,r){if(1&n){const i=Xf();ie(0,"form",0,1),Se("ngSubmit",function(){Ls(i);const o=function Wk(t){return function $a(t,e){return t[e]}(function yq(){return ne.lFrame.contextLView}(),Ie+t)}(1);return Vs(r.onSubmit(o))}),Yf(2,2),ie(3,"div",3)(4,"h2",4)(5,"div",5),He(6,"Add Task"),te()(),Zr(7,"input",6)(8,"textarea",7,8),ie(10,"div",9)(11,"div",10)(12,"label",11),He(13,"Due Date : "),te(),Zr(14,"input",12,13),te(),ie(16,"div",14)(17,"div",15),He(18,"Priority :"),te(),ie(19,"div",16)(20,"input",17),Se("change",function(o){return r.onRadioChange(o)}),te(),ie(21,"label",18),He(22," High"),te()(),ie(23,"div",16)(24,"input",19),Se("change",function(o){return r.onRadioChange(o)}),te(),ie(25,"label",20),He(26,"Medium"),te()(),ie(27,"div",16)(28,"input",21),Se("change",function(o){return r.onRadioChange(o)}),te(),ie(29,"label",22),He(30,"Low"),te()()()(),ie(31,"button",23),He(32,"Save"),te()(),Jf(),te()}},dependencies:[Sh,NA,XG,by,Dy,HA,Iy]}),t})();var kz=hr(217),Dge=hr(316);function Cge(t,e){if(1&t&&Zr(0,"div",13),2&t){const n=as();or("ngClass","1"===n.task.Priority?"bg-red-600":"2"===n.task.Priority?"bg-yellow-500":"bg-green-600")}}function bge(t,e){if(1&t){const n=Xf();ie(0,"div",21)(1,"div",22)(2,"input",23),Se("change",function(i){return Ls(n),Vs(as(2).onRadioChange(i))}),te(),ie(3,"label",24),He(4,"High"),te()(),ie(5,"div",22)(6,"input",25),Se("change",function(i){return Ls(n),Vs(as(2).onRadioChange(i))}),te(),ie(7,"label",26),He(8,"Medium"),te()(),ie(9,"div",22)(10,"input",27),Se("change",function(i){return Ls(n),Vs(as(2).onRadioChange(i))}),te(),ie(11,"label",28),He(12,"Low"),te()(),Zr(13,"br"),te()}}function Tge(t,e){if(1&t){const n=Xf();ie(0,"div",14)(1,"label",15),He(2,"Description:"),te(),ie(3,"textarea",16),Se("ngModelChange",function(i){return Ls(n),Vs(as().modelChangeDescription(i))}),te(),ie(4,"div",17),_l(5,bge,14,0,"div",18),ie(6,"div",19),Se("click",function(){return Ls(n),Vs(as().toggleEdit())}),He(7),te(),ie(8,"div",20),Se("click",function(){return Ls(n),Vs(as().deleteT())}),He(9,"Delete"),te()()()}if(2&t){const n=as();sr(3),or("disabled",!n.edit)("ngModel",n.task.Description),sr(2),or("ngIf",n.edit),sr(2),El(" ",n.edit?"Save":"Edit"," ")}}let Sge=(()=>{class t{constructor(n,r){this.service=n,this.store=r,this.updatedTask={},this.visible=!1,this.edit=!1}toggleCollapse(){this.visible=!this.visible,this.edit=!1}toggleEdit(){this.edit&&this.save(),this.edit=!this.edit}onRadioChange(n){this.updatedTask.Priority=n.target.value}modelChangeTitle(n){this.updatedTask.Title=n}modelChangeDescription(n){this.updatedTask.Description=n}modelChangeDueDt(n){this.updatedTask.DueDt=n}modelChangeProgress(n){this.updatedTask.Progress=n}modelChangePriority(n){this.updatedTask.Priority=n}save(){console.log(this.updatedTask),this.service.updateTask(this.task.Id,this.updatedTask),this.store.dispatch(new dpe({data:{Id:this.task.Id,data:this.updatedTask}}))}deleteT(){this.service.deleteTask(this.task.Id),this.store.dispatch(new hpe({data:this.task.Id}))}}return t.\u0275fac=function(n){return new(n||t)(T(iy),T(Rc))},t.\u0275cmp=So({type:t,selectors:[["app-task-item"]],inputs:{task:"task"},decls:18,vars:10,consts:[[1,"m-0.5","max-md:px-1","max-md:mx-0","shadow-lg","p-2","rounded-xl","max-md:text-[10px]","border-slate-500","border-2",3,"ngClass"],[1,"flex","flex-row","flex-wrap"],[1,"m-1","p-1","text-center","max-md:px-0","max-md:mx-0","w-[10%]"],["type","text","placeholder","Edit Title",1,"m-1","w-[20%]","text-clip","overflow-hidden","max-md:w-[30%]","border","rounded-lg","shadow","max-md:px-1","p-1",3,"disabled","ngModel","ngModelChange"],[1,"w-[20%]","max-md:w-[8%]","m-1","p-1"],["class","w-4 h-4 m-auto  p-2 max-md:px-1  rounded-[50%]",3,"ngClass",4,"ngIf"],["id","status",1,"w-[20%]","max-md:w-[10%]","text-clip","overflow-hidden","bg-gray-50","border","shadow","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","max-md:px-0","p-1","m-1",3,"disabled","ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],["type","date",1,"p-1","max-md:px-1","rounded-md","shadow","text-clip","overflow-hidden","max-sm:w-1/5","w-[20%]",3,"disabled","ngModel","ngModelChange"],[1,"rounded-lg","bg-blue-500","font-extrabold","px-3","p-1","m-1",3,"click"],["class","w-full",4,"ngIf"],[1,"w-4","h-4","m-auto","p-2","max-md:px-1","rounded-[50%]",3,"ngClass"],[1,"w-full"],["for","description",1,"p-2"],["id","description",1,"rounded-md","w-full","p-2","border-gray-500","shadow-lg",3,"disabled","ngModel","ngModelChange"],[1,"flex","text-white","font-bold","text-center","flex-row","items-end","justify-between"],["class","w-fit my-5 p-5 text-black flex flex-row",4,"ngIf"],[1,"m-auto","my-5","p-5","w-1/5","bg-green-600","rounded-lg","shadow",3,"click"],[1,"m-auto","my-5","p-5","w-1/5","bg-red-600","rounded-lg","shadow",3,"click"],[1,"w-fit","my-5","p-5","text-black","flex","flex-row"],[1,"flex","items-center","p-2"],["type","radio","name","priority","value","1","id","list-radio-high",1,"peer","hidden",3,"change"],["for","list-radio-high",1,"block","cursor-pointer","select-none","rounded-xl","p-2","text-center","peer-checked:bg-red-600","peer-checked:text-white"],["type","radio","name","priority","value","2","id","list-radio-medium",1,"peer","hidden",3,"change"],["for","list-radio-medium",1,"block","cursor-pointer","select-none","rounded-xl","p-2","text-center","peer-checked:bg-yellow-600","peer-checked:text-white"],["type","radio","value","3","name","priority","id","list-radio-low",1,"peer","hidden",3,"change"],["for","list-radio-low",1,"block","cursor-pointer","select-none","rounded-xl","p-2","text-center","peer-checked:bg-green-600","peer-checked:text-white"]],template:function(n,r){1&n&&(ie(0,"div",0)(1,"div",1)(2,"div",2),He(3),te(),ie(4,"input",3),Se("ngModelChange",function(s){return r.modelChangeTitle(s)}),te(),ie(5,"div",4),_l(6,Cge,1,1,"div",5),te(),ie(7,"select",6),Se("ngModelChange",function(s){return r.modelChangeProgress(s)}),ie(8,"option",7),He(9,"Pending"),te(),ie(10,"option",8),He(11,"In Progress"),te(),ie(12,"option",9),He(13,"Completed"),te()(),ie(14,"input",10),Se("ngModelChange",function(s){return r.modelChangeDueDt(s)}),te(),ie(15,"div",11),Se("click",function(){return r.toggleCollapse()}),He(16," ... "),te()(),_l(17,Tge,10,4,"div",12),te()),2&n&&(or("ngClass",r.visible?"bg-slate-300":"bg-transparent"),sr(3),Iv(r.task.Sl),sr(1),or("disabled",!r.edit)("ngModel",r.task.Title),sr(2),or("ngIf",!r.edit),sr(1),or("disabled",!r.edit)("ngModel",r.task.Progress),sr(7),or("disabled",!r.edit)("ngModel",r.task.DueDt),sr(3),or("ngIf",r.visible))},dependencies:[Dw,fP,wz,Iz,Sh,Cy,NA,Dy]}),t})();function Age(t,e){if(1&t&&(ie(0,"ul")(1,"li"),Zr(2,"app-task-item",10),te()()),2&t){const n=e.$implicit;sr(2),or("task",n)}}const Mge=[{path:"",component:bpe,children:[{path:"add",component:Ige},{path:"",component:(()=>{class t{constructor(n,r,i){this.service=n,this.store=r,this.logger=i,this.tasks=[],this.logs=[],this.order=[!0,!0,!0,!0,!0]}fetchData(){const n=this.store.select(Epe),r=this.store.select(wpe),i=this.store.select(Ipe),s=this.store.select(Dpe);Ap([r,n]).subscribe(o=>{console.log(o),!o[0]&&!o[1]&&(this.store.dispatch(new cpe),this.service.getTask().subscribe(a=>{this.store.dispatch(new lpe({data:a}))}))}),i.subscribe(o=>{console.log(o),this.tasks=o}),s.subscribe(o=>{this.logs=o})}exportLog(){console.log(this.logs);const n=new Blob([this.logs.join("")],{type:"text/plain"});(0,kz.saveAs)(n,"log.txt")}exportToCSV(){const n=this.tasks.map(s=>"3"===s.Progress?{...s,Progress:"Completed"}:"2"===s.Progress?{...s,Progress:"In Progress"}:"1"===s.Progress?{...s,Progress:"Pending"}:s),r=Dge.unparse(n),i=new Blob([r],{type:"text/csv"});(0,kz.saveAs)(i,"data.csv")}sortSlNo(){this.tasks=this.order[0]?this.tasks.slice().sort((n,r)=>(n.Sl??0)-(r.Sl??0)):this.tasks.slice().sort((n,r)=>(r.Sl??0)-(n.Sl??0)),this.order[0]=!this.order[0]}sortTitle(){this.tasks=this.order[1]?this.tasks.slice().sort((n,r)=>n.Title.localeCompare(r.Title)):this.tasks.slice().sort((n,r)=>r.Title.localeCompare(n.Title)),this.order[1]=!this.order[1]}sortPriority(){this.tasks=this.order[2]?this.tasks.slice().sort((n,r)=>n.Priority.localeCompare(r.Priority)):this.tasks.slice().sort((n,r)=>r.Priority.localeCompare(n.Priority)),this.order[2]=!this.order[2]}sortDueDate(){this.tasks=this.tasks.sort(this.order[3]?(n,r)=>{const i=new Date(n.DueDt),s=new Date(r.DueDt);return i.getTime()-s.getTime()}:(n,r)=>{const i=new Date(r.DueDt),s=new Date(n.DueDt);return i.getTime()-s.getTime()}),this.order[3]=!this.order[3]}sortStatus(){this.tasks=this.order[4]?this.tasks.slice().sort((n,r)=>n.Progress.localeCompare(r.Progress)):this.tasks.slice().sort((n,r)=>r.Progress.localeCompare(n.Progress)),this.order[4]=!this.order[4]}ngOnInit(){this.fetchData()}}return t.\u0275fac=function(n){return new(n||t)(T(iy),T(Rc),T(Th))},t.\u0275cmp=So({type:t,selectors:[["app-task-list"]],decls:21,vars:1,consts:[[1,"flex","h-[15%]","flex-row","max-md:text-xs","w-full","p-2","m-0.5","shadow","text-center"],[1,"w-[10%]","m-1","p-1",3,"click"],[1,"w-[30%]","m-1","p-1",3,"click"],[1,"w-[20%]","m-1","p-1",3,"click"],[1,"w-[12%]","m-1","p-1"],["src","../../../assets/sort.png","alt","Sort","srcset","",1,"w-[4vh]","m-auto"],[1,"w-full","flex","flex-row"],[1,"w-[20%]","text-center","bg-blue-400","rounded","shadow-lg","m-auto","p-2",3,"click"],[4,"ngFor","ngForOf"],[1,"w-full","fixed","bottom-0","max-md:p-2","max-md:text-xs","p-4","text-lg","text-black","bg-slate-400","text-center"],[3,"task"]],template:function(n,r){1&n&&(ie(0,"div",0)(1,"div",1),Se("click",function(){return r.sortSlNo()}),He(2,"Sl No."),te(),ie(3,"div",2),Se("click",function(){return r.sortTitle()}),He(4,"Title"),te(),ie(5,"div",3),Se("click",function(){return r.sortPriority()}),He(6,"Priority"),te(),ie(7,"div",3),Se("click",function(){return r.sortStatus()}),He(8,"Status"),te(),ie(9,"div",3),Se("click",function(){return r.sortDueDate()}),He(10,"Due Date"),te(),ie(11,"div",4),Zr(12,"img",5),te()(),ie(13,"div",6)(14,"div",7),Se("click",function(){return r.exportToCSV()}),He(15," Export csv "),te(),ie(16,"div",7),Se("click",function(){return r.exportLog()}),He(17," Export log file "),te()(),_l(18,Age,3,1,"ul",8),ie(19,"div",9),He(20," rsunirban@gmail.com "),te()),2&n&&(sr(18),or("ngForOf",r.tasks))},dependencies:[dP,Sge]}),t})()}]}];let xge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Un({type:t}),t.\u0275inj=Dn({imports:[QF.forRoot(Mge),QF]}),t})();const Rge={apiKey:"AIzaSyDQyp-e9fUXf5bcE0ApenHYu4dn3ocmXHE",authDomain:"task-management-system-sr.firebaseapp.com",projectId:"task-management-system-sr",storageBucket:"task-management-system-sr.appspot.com",messagingSenderId:"591575752605",appId:"1:591575752605:web:619e372a4c6809fb929974",measurementId:"G-EMXVN8Q2W3"};let kge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Un({type:t,bootstrap:[SZ]}),t.\u0275inj=Dn({providers:[iy,Th],imports:[qY,Ege,Die(()=>Cie(Rge)),zhe(()=>Yhe()),upe.forRoot(vpe),xge]}),t})();GY().bootstrapModule(kge).catch(t=>console.error(t))},217:function(Rs,ka){var hr,Hr;void 0!==(Hr="function"==typeof(hr=function(){"use strict";function ke(ye,_e,zt){var Ne=new XMLHttpRequest;Ne.open("GET",ye),Ne.responseType="blob",Ne.onload=function(){Q(Ne.response,_e,zt)},Ne.onerror=function(){console.error("could not download file")},Ne.send()}function wt(ye){var _e=new XMLHttpRequest;_e.open("HEAD",ye,!1);try{_e.send()}catch{}return 200<=_e.status&&299>=_e.status}function Gr(ye){try{ye.dispatchEvent(new MouseEvent("click"))}catch{var _e=document.createEvent("MouseEvents");_e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),ye.dispatchEvent(_e)}}var Zt="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,Do=Zt.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),Q=Zt.saveAs||("object"!=typeof window||window!==Zt?function(){}:"download"in HTMLAnchorElement.prototype&&!Do?function(ye,_e,zt){var Ne=Zt.URL||Zt.webkitURL,Mt=document.createElement("a");Mt.download=_e=_e||ye.name||"download",Mt.rel="noopener","string"==typeof ye?(Mt.href=ye,Mt.origin===location.origin?Gr(Mt):wt(Mt.href)?ke(ye,_e,zt):Gr(Mt,Mt.target="_blank")):(Mt.href=Ne.createObjectURL(ye),setTimeout(function(){Ne.revokeObjectURL(Mt.href)},4e4),setTimeout(function(){Gr(Mt)},0))}:"msSaveOrOpenBlob"in navigator?function(ye,_e,zt){if(_e=_e||ye.name||"download","string"!=typeof ye)navigator.msSaveOrOpenBlob(function Wi(ye,_e){return typeof _e>"u"?_e={autoBom:!1}:"object"!=typeof _e&&(console.warn("Deprecated: Expected third argument to be a object"),_e={autoBom:!_e}),_e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(ye.type)?new Blob(["\ufeff",ye],{type:ye.type}):ye}(ye,zt),_e);else if(wt(ye))ke(ye,_e,zt);else{var Ne=document.createElement("a");Ne.href=ye,Ne.target="_blank",setTimeout(function(){Gr(Ne)})}}:function(ye,_e,zt,Ne){if((Ne=Ne||open("","_blank"))&&(Ne.document.title=Ne.document.body.innerText="downloading..."),"string"==typeof ye)return ke(ye,_e,zt);var Mt="application/octet-stream"===ye.type,ks=/constructor/i.test(Zt.HTMLElement)||Zt.safari,Ki=/CriOS\/[\d]+/.test(navigator.userAgent);if((Ki||Mt&&ks||Do)&&typeof FileReader<"u"){var hn=new FileReader;hn.onloadend=function(){var Mr=hn.result;Mr=Ki?Mr:Mr.replace(/^data:[^;]*;/,"data:attachment/file;"),Ne?Ne.location.href=Mr:location=Mr,Ne=null},hn.readAsDataURL(ye)}else{var zr=Zt.URL||Zt.webkitURL,Co=zr.createObjectURL(ye);Ne?Ne.location=Co:location.href=Co,Ne=null,setTimeout(function(){zr.revokeObjectURL(Co)},4e4)}});Zt.saveAs=Q.saveAs=Q,Rs.exports=Q})?hr.apply(ka,[]):hr)&&(Rs.exports=Hr)},316:function(Rs,ka){var hr,Hr;hr=function Wi(){"use strict";var ke=typeof self<"u"?self:typeof window<"u"?window:void 0!==ke?ke:{},wt=!ke.document&&!!ke.postMessage,Gr=ke.IS_PAPA_WORKER||!1,Zt={},Do=0,Q={parse:function(E,v){var R=(v=v||{}).dynamicTyping||!1;if(Oe(R)&&(v.dynamicTypingFunction=R,R={}),v.dynamicTyping=R,v.transform=!!Oe(v.transform)&&v.transform,v.worker&&Q.WORKERS_SUPPORTED){var $=function(){if(!Q.WORKERS_SUPPORTED)return!1;var Ut,Z,Y=(Ut=ke.URL||ke.webkitURL||null,Z=Wi.toString(),Q.BLOB_URL||(Q.BLOB_URL=Ut.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Z,")();"],{type:"text/javascript"})))),De=new ke.Worker(Y);return De.onmessage=Co,De.id=Do++,Zt[De.id]=De}();return $.userStep=v.step,$.userChunk=v.chunk,$.userComplete=v.complete,$.userError=v.error,v.step=Oe(v.step),v.chunk=Oe(v.chunk),v.complete=Oe(v.complete),v.error=Oe(v.error),delete v.worker,void $.postMessage({input:E,config:v,workerId:$.id})}var Y,z=null;return"string"==typeof E?(E=65279===(Y=E).charCodeAt(0)?Y.slice(1):Y,z=v.download?new zt(v):new Mt(v)):!0===E.readable&&Oe(E.read)&&Oe(E.on)?z=new ks(v):(ke.File&&E instanceof File||E instanceof Object)&&(z=new Ne(v)),z.stream(E)},unparse:function(E,v){var R=!1,$=!0,z=",",Y="\r\n",De='"',Ut=De+De,Z=!1,W=null,pt=!1;!function(){if("object"==typeof v){if("string"!=typeof v.delimiter||Q.BAD_DELIMITERS.filter(function(H){return-1!==v.delimiter.indexOf(H)}).length||(z=v.delimiter),("boolean"==typeof v.quotes||"function"==typeof v.quotes||Array.isArray(v.quotes))&&(R=v.quotes),"boolean"!=typeof v.skipEmptyLines&&"string"!=typeof v.skipEmptyLines||(Z=v.skipEmptyLines),"string"==typeof v.newline&&(Y=v.newline),"string"==typeof v.quoteChar&&(De=v.quoteChar),"boolean"==typeof v.header&&($=v.header),Array.isArray(v.columns)){if(0===v.columns.length)throw new Error("Option columns is empty");W=v.columns}void 0!==v.escapeChar&&(Ut=v.escapeChar+De),("boolean"==typeof v.escapeFormulae||v.escapeFormulae instanceof RegExp)&&(pt=v.escapeFormulae instanceof RegExp?v.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var ee=new RegExp(hn(De),"g");if("string"==typeof E&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return fr(null,E,Z);if("object"==typeof E[0])return fr(W||Object.keys(E[0]),E,Z)}else if("object"==typeof E)return"string"==typeof E.data&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||W),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:"object"==typeof E.data[0]?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||"object"==typeof E.data[0]||(E.data=[E.data])),fr(E.fields||[],E.data||[],Z);throw new Error("Unable to serialize unrecognized input");function fr(H,ve,qt){var pe="";"string"==typeof H&&(H=JSON.parse(H)),"string"==typeof ve&&(ve=JSON.parse(ve));var we=Array.isArray(H)&&0<H.length,Bt=!Array.isArray(ve[0]);if(we&&$){for(var X=0;X<H.length;X++)0<X&&(pe+=z),pe+=Ye(H[X],X);0<ve.length&&(pe+=Y)}for(var J=0;J<ve.length;J++){var Fe=we?H.length:ve[J].length,Je=!1,gt=we?0===Object.keys(ve[J]).length:0===ve[J].length;if(qt&&!we&&(Je="greedy"===qt?""===ve[J].join("").trim():1===ve[J].length&&0===ve[J][0].length),"greedy"===qt&&we){for(var Qe=[],en=0;en<Fe;en++)Qe.push(ve[J][Bt?H[en]:en]);Je=""===Qe.join("").trim()}if(!Je){for(var nt=0;nt<Fe;nt++)0<nt&&!gt&&(pe+=z),pe+=Ye(ve[J][we&&Bt?H[nt]:nt],nt);J<ve.length-1&&(!qt||0<Fe&&!gt)&&(pe+=Y)}}return pe}function Ye(H,ve){if(null==H)return"";if(H.constructor===Date)return JSON.stringify(H).slice(1,25);var qt=!1;pt&&"string"==typeof H&&pt.test(H)&&(H="'"+H,qt=!0);var pe=H.toString().replace(ee,Ut);return(qt=qt||!0===R||"function"==typeof R&&R(H,ve)||Array.isArray(R)&&R[ve]||function(we,Bt){for(var X=0;X<Bt.length;X++)if(-1<we.indexOf(Bt[X]))return!0;return!1}(pe,Q.BAD_DELIMITERS)||-1<pe.indexOf(z)||" "===pe.charAt(0)||" "===pe.charAt(pe.length-1))?De+pe+De:pe}}};if(Q.RECORD_SEP=String.fromCharCode(30),Q.UNIT_SEP=String.fromCharCode(31),Q.BYTE_ORDER_MARK="\ufeff",Q.BAD_DELIMITERS=["\r","\n",'"',Q.BYTE_ORDER_MARK],Q.WORKERS_SUPPORTED=!wt&&!!ke.Worker,Q.NODE_STREAM_INPUT=1,Q.LocalChunkSize=10485760,Q.RemoteChunkSize=5242880,Q.DefaultDelimiter=",",Q.Parser=zr,Q.ParserHandle=Ki,Q.NetworkStreamer=zt,Q.FileStreamer=Ne,Q.StringStreamer=Mt,Q.ReadableStreamStreamer=ks,ke.jQuery){var ye=ke.jQuery;ye.fn.parse=function(E){var v=E.config||{},R=[];return this.each(function(Y){if("INPUT"!==ye(this).prop("tagName").toUpperCase()||"file"!==ye(this).attr("type").toLowerCase()||!ke.FileReader||!this.files||0===this.files.length)return!0;for(var De=0;De<this.files.length;De++)R.push({file:this.files[De],inputElem:this,instanceConfig:ye.extend({},v)})}),$(),this;function $(){if(0!==R.length){var De,Ut,Z,W=R[0];if(Oe(E.before)){var pt=E.before(W.file,W.inputElem);if("object"==typeof pt){if("abort"===pt.action)return"AbortError",De=W.file,Ut=W.inputElem,Z=pt.reason,void(Oe(E.error)&&E.error({name:"AbortError"},De,Ut,Z));if("skip"===pt.action)return void z();"object"==typeof pt.config&&(W.instanceConfig=ye.extend(W.instanceConfig,pt.config))}else if("skip"===pt)return void z()}var ee=W.instanceConfig.complete;W.instanceConfig.complete=function(fr){Oe(ee)&&ee(fr,W.file,W.inputElem),z()},Q.parse(W.file,W.instanceConfig)}else Oe(E.complete)&&E.complete()}function z(){R.splice(0,1),$()}}}function _e(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(v){var R=bo(v);R.chunkSize=parseInt(R.chunkSize),v.step||v.chunk||(R.chunkSize=null),this._handle=new Ki(R),(this._handle.streamer=this)._config=R}.call(this,E),this.parseChunk=function(v,R){if(this.isFirstChunk&&Oe(this._config.beforeFirstChunk)){var $=this._config.beforeFirstChunk(v);void 0!==$&&(v=$)}this.isFirstChunk=!1,this._halted=!1;var z=this._partialLine+v;this._partialLine="";var Y=this._handle.parse(z,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var De=Y.meta.cursor;this._finished||(this._partialLine=z.substring(De-this._baseIndex),this._baseIndex=De),Y&&Y.data&&(this._rowCount+=Y.data.length);var Ut=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(Gr)ke.postMessage({results:Y,workerId:Q.WORKER_ID,finished:Ut});else if(Oe(this._config.chunk)&&!R){if(this._config.chunk(Y,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);Y=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Y.data),this._completeResults.errors=this._completeResults.errors.concat(Y.errors),this._completeResults.meta=Y.meta),this._completed||!Ut||!Oe(this._config.complete)||Y&&Y.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Ut||Y&&Y.meta.paused||this._nextChunk(),Y}this._halted=!0},this._sendError=function(v){Oe(this._config.error)?this._config.error(v):Gr&&this._config.error&&ke.postMessage({workerId:Q.WORKER_ID,error:v,finished:!1})}}function zt(E){var v;(E=E||{}).chunkSize||(E.chunkSize=Q.RemoteChunkSize),_e.call(this,E),this._nextChunk=wt?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(R){this._input=R,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(v=new XMLHttpRequest,this._config.withCredentials&&(v.withCredentials=this._config.withCredentials),wt||(v.onload=pi(this._chunkLoaded,this),v.onerror=pi(this._chunkError,this)),v.open(this._config.downloadRequestBody?"POST":"GET",this._input,!wt),this._config.downloadRequestHeaders){var R=this._config.downloadRequestHeaders;for(var $ in R)v.setRequestHeader($,R[$])}this._config.chunkSize&&v.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{v.send(this._config.downloadRequestBody)}catch(Y){this._chunkError(Y.message)}wt&&0===v.status&&this._chunkError()}},this._chunkLoaded=function(){var $;4===v.readyState&&(v.status<200||400<=v.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:v.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===($=v.getResponseHeader("Content-Range"))?-1:parseInt($.substring($.lastIndexOf("/")+1))),this.parseChunk(v.responseText)))},this._chunkError=function(R){this._sendError(new Error(v.statusText||R))}}function Ne(E){var v,R;(E=E||{}).chunkSize||(E.chunkSize=Q.LocalChunkSize),_e.call(this,E);var $=typeof FileReader<"u";this.stream=function(z){this._input=z,R=z.slice||z.webkitSlice||z.mozSlice,$?((v=new FileReader).onload=pi(this._chunkLoaded,this),v.onerror=pi(this._chunkError,this)):v=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var z=this._input;if(this._config.chunkSize){var Y=Math.min(this._start+this._config.chunkSize,this._input.size);z=R.call(z,this._start,Y)}var De=v.readAsText(z,this._config.encoding);$||this._chunkLoaded({target:{result:De}})},this._chunkLoaded=function(z){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(z.target.result)},this._chunkError=function(){this._sendError(v.error)}}function Mt(E){var v;_e.call(this,E=E||{}),this.stream=function(R){return v=R,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var R,$=this._config.chunkSize;return $?(R=v.substring(0,$),v=v.substring($)):(R=v,v=""),this._finished=!v,this.parseChunk(R)}}}function ks(E){_e.call(this,E=E||{});var v=[],R=!0,$=!1;this.pause=function(){_e.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){_e.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(z){this._input=z,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){$&&1===v.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),v.length?this.parseChunk(v.shift()):R=!0},this._streamData=pi(function(z){try{v.push("string"==typeof z?z:z.toString(this._config.encoding)),R&&(R=!1,this._checkIsFinished(),this.parseChunk(v.shift()))}catch(Y){this._streamError(Y)}},this),this._streamError=pi(function(z){this._streamCleanUp(),this._sendError(z)},this),this._streamEnd=pi(function(){this._streamCleanUp(),$=!0,this._streamData("")},this),this._streamCleanUp=pi(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Ki(E){var v,R,$,z=Math.pow(2,53),Y=-z,De=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Ut=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Z=this,W=0,pt=0,ee=!1,fr=!1,Ye=[],H={data:[],errors:[],meta:{}};if(Oe(E.step)){var ve=E.step;E.step=function(J){if(H=J,we())pe();else{if(pe(),0===H.data.length)return;W+=J.data.length,E.preview&&W>E.preview?R.abort():(H.data=H.data[0],ve(H,Z))}}}function qt(J){return"greedy"===E.skipEmptyLines?""===J.join("").trim():1===J.length&&0===J[0].length}function pe(){return H&&$&&(X("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+Q.DefaultDelimiter+"'"),$=!1),E.skipEmptyLines&&(H.data=H.data.filter(function(J){return!qt(J)})),we()&&function(){if(H)if(Array.isArray(H.data[0])){for(var Fe=0;we()&&Fe<H.data.length;Fe++)H.data[Fe].forEach(J);H.data.splice(0,1)}else H.data.forEach(J);function J(Je,gt){Oe(E.transformHeader)&&(Je=E.transformHeader(Je,gt)),Ye.push(Je)}}(),function(){if(!H||!E.header&&!E.dynamicTyping&&!E.transform)return H;function J(Je,gt){var Qe,en=E.header?{}:[];for(Qe=0;Qe<Je.length;Qe++){var Et=Qe,nt=Je[Qe];E.header&&(Et=Qe>=Ye.length?"__parsed_extra":Ye[Qe]),E.transform&&(nt=E.transform(nt,Et)),nt=Bt(Et,nt),"__parsed_extra"===Et?(en[Et]=en[Et]||[],en[Et].push(nt)):en[Et]=nt}return E.header&&(Qe>Ye.length?X("FieldMismatch","TooManyFields","Too many fields: expected "+Ye.length+" fields but parsed "+Qe,pt+gt):Qe<Ye.length&&X("FieldMismatch","TooFewFields","Too few fields: expected "+Ye.length+" fields but parsed "+Qe,pt+gt)),en}var Fe=1;return!H.data.length||Array.isArray(H.data[0])?(H.data=H.data.map(J),Fe=H.data.length):H.data=J(H.data,0),E.header&&H.meta&&(H.meta.fields=Ye),pt+=Fe,H}()}function we(){return E.header&&0===Ye.length}function Bt(J,Fe){return Je=J,E.dynamicTypingFunction&&void 0===E.dynamicTyping[Je]&&(E.dynamicTyping[Je]=E.dynamicTypingFunction(Je)),!0===(E.dynamicTyping[Je]||E.dynamicTyping)?"true"===Fe||"TRUE"===Fe||"false"!==Fe&&"FALSE"!==Fe&&(function(gt){if(De.test(gt)){var Qe=parseFloat(gt);if(Y<Qe&&Qe<z)return!0}return!1}(Fe)?parseFloat(Fe):Ut.test(Fe)?new Date(Fe):""===Fe?null:Fe):Fe;var Je}function X(J,Fe,Je,gt){var Qe={type:J,code:Fe,message:Je};void 0!==gt&&(Qe.row=gt),H.errors.push(Qe)}this.parse=function(J,Fe,Je){if(E.newline||(E.newline=function(Et,nt){Et=Et.substring(0,1048576);var xr=new RegExp(hn(nt)+"([^]*?)"+hn(nt),"gm"),pr=(Et=Et.replace(xr,"")).split("\r"),Rr=Et.split("\n");if(1===pr.length||1<Rr.length&&Rr[0].length<pr[0].length)return"\n";for(var Yn=0,Xe=0;Xe<pr.length;Xe++)"\n"===pr[Xe][0]&&Yn++;return Yn>=pr.length/2?"\r\n":"\r"}(J,E.quoteChar||'"')),$=!1,E.delimiter)Oe(E.delimiter)&&(E.delimiter=E.delimiter(J),H.meta.delimiter=E.delimiter);else{var Qe=function(Et,nt,xr,pr,Rr){var kr,Yn,Xe,It;Rr=Rr||[",","\t","|",";",Q.RECORD_SEP,Q.UNIT_SEP];for(var qr=0;qr<Rr.length;qr++){var je=Rr[qr],Ns=0,Wr=0,Qi=0;Xe=void 0;for(var fn=new zr({comments:pr,delimiter:je,newline:nt,preview:10}).parse(Et),Kr=0;Kr<fn.data.length;Kr++)if(xr&&qt(fn.data[Kr]))Qi++;else{var gi=fn.data[Kr].length;Wr+=gi,void 0!==Xe?0<gi&&(Ns+=Math.abs(gi-Xe),Xe=gi):Xe=gi}0<fn.data.length&&(Wr/=fn.data.length-Qi),(void 0===Yn||Ns<=Yn)&&(void 0===It||It<Wr)&&1.99<Wr&&(Yn=Ns,kr=je,It=Wr)}return{successful:!!(E.delimiter=kr),bestDelimiter:kr}}(J,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess);Qe.successful?E.delimiter=Qe.bestDelimiter:($=!0,E.delimiter=Q.DefaultDelimiter),H.meta.delimiter=E.delimiter}var en=bo(E);return E.preview&&E.header&&en.preview++,v=J,R=new zr(en),H=R.parse(v,Fe,Je),pe(),ee?{meta:{paused:!0}}:H||{meta:{paused:!1}}},this.paused=function(){return ee},this.pause=function(){ee=!0,R.abort(),v=Oe(E.chunk)?"":v.substring(R.getCharIndex())},this.resume=function(){Z.streamer._halted?(ee=!1,Z.streamer.parseChunk(v,!0)):setTimeout(Z.resume,3)},this.aborted=function(){return fr},this.abort=function(){fr=!0,R.abort(),H.meta.aborted=!0,Oe(E.complete)&&E.complete(H),v=""}}function hn(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function zr(E){var v,R=(E=E||{}).delimiter,$=E.newline,z=E.comments,Y=E.step,De=E.preview,Ut=E.fastMode,Z=v=null==E.quoteChar?'"':E.quoteChar;if(void 0!==E.escapeChar&&(Z=E.escapeChar),("string"!=typeof R||-1<Q.BAD_DELIMITERS.indexOf(R))&&(R=","),z===R)throw new Error("Comment character same as delimiter");!0===z?z="#":("string"!=typeof z||-1<Q.BAD_DELIMITERS.indexOf(z))&&(z=!1),"\n"!==$&&"\r"!==$&&"\r\n"!==$&&($="\n");var W=0,pt=!1;this.parse=function(ee,fr,Ye){if("string"!=typeof ee)throw new Error("Input must be a string");var H=ee.length,ve=R.length,qt=$.length,pe=z.length,we=Oe(Y),Bt=[],X=[],J=[],Fe=W=0;if(!ee)return Vn();if(E.header&&!fr){var Je=ee.split($)[0].split(R),gt=[],Qe={},en=!1;for(var Et in Je){var nt=Je[Et];Oe(E.transformHeader)&&(nt=E.transformHeader(nt,Et));var xr=nt,pr=Qe[nt]||0;for(0<pr&&(en=!0,xr=nt+"_"+pr),Qe[nt]=pr+1;gt.includes(xr);)xr=xr+"_"+pr;gt.push(xr)}if(en){var Rr=ee.split($);Rr[0]=gt.join(R),ee=Rr.join($)}}if(Ut||!1!==Ut&&-1===ee.indexOf(v)){for(var kr=ee.split($),Yn=0;Yn<kr.length;Yn++){if(W+=(J=kr[Yn]).length,Yn!==kr.length-1)W+=$.length;else if(Ye)return Vn();if(!z||J.substring(0,pe)!==z){if(we){if(Bt=[],Qi(J.split(R)),Na(),pt)return Vn()}else Qi(J.split(R));if(De&&De<=Yn)return Bt=Bt.slice(0,De),Vn(!0)}}return Vn()}for(var Xe=ee.indexOf(R,W),It=ee.indexOf($,W),qr=new RegExp(hn(Z)+hn(v),"g"),je=ee.indexOf(v,W);;)if(ee[W]!==v)if(z&&0===J.length&&ee.substring(W,W+pe)===z){if(-1===It)return Vn();It=ee.indexOf($,W=It+qt),Xe=ee.indexOf(R,W)}else if(-1!==Xe&&(Xe<It||-1===It))J.push(ee.substring(W,Xe)),Xe=ee.indexOf(R,W=Xe+ve);else{if(-1===It)break;if(J.push(ee.substring(W,It)),gi(It+qt),we&&(Na(),pt))return Vn();if(De&&Bt.length>=De)return Vn(!0)}else for(je=W,W++;;){if(-1===(je=ee.indexOf(v,je+1)))return Ye||X.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Bt.length,index:W}),Kr();if(je===H-1)return Kr(ee.substring(W,je).replace(qr,v));if(v!==Z||ee[je+1]!==Z){if(v===Z||0===je||ee[je-1]!==Z){-1!==Xe&&Xe<je+1&&(Xe=ee.indexOf(R,je+1)),-1!==It&&It<je+1&&(It=ee.indexOf($,je+1));var Ns=fn(-1===It?Xe:Math.min(Xe,It));if(ee.substr(je+1+Ns,ve)===R){J.push(ee.substring(W,je).replace(qr,v)),ee[W=je+1+Ns+ve]!==v&&(je=ee.indexOf(v,W)),Xe=ee.indexOf(R,W),It=ee.indexOf($,W);break}var Wr=fn(It);if(ee.substring(je+1+Wr,je+1+Wr+qt)===$){if(J.push(ee.substring(W,je).replace(qr,v)),gi(je+1+Wr+qt),Xe=ee.indexOf(R,W),je=ee.indexOf(v,W),we&&(Na(),pt))return Vn();if(De&&Bt.length>=De)return Vn(!0);break}X.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Bt.length,index:W}),je++}}else je++}return Kr();function Qi(Jn){Bt.push(Jn),Fe=W}function fn(Jn){var Nh=0;if(-1!==Jn){var Pc=ee.substring(je+1,Jn);Pc&&""===Pc.trim()&&(Nh=Pc.length)}return Nh}function Kr(Jn){return Ye||(void 0===Jn&&(Jn=ee.substring(W)),J.push(Jn),W=H,Qi(J),we&&Na()),Vn()}function gi(Jn){W=Jn,Qi(J),J=[],It=ee.indexOf($,W)}function Vn(Jn){return{data:Bt,errors:X,meta:{delimiter:R,linebreak:$,aborted:pt,truncated:!!Jn,cursor:Fe+(fr||0)}}}function Na(){Y(Vn()),Bt=[],X=[]}},this.abort=function(){pt=!0},this.getCharIndex=function(){return W}}function Co(E){var v=E.data,R=Zt[v.workerId],$=!1;if(v.error)R.userError(v.error,v.file);else if(v.results&&v.results.data){var z={abort:function(){$=!0,Mr(v.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:kh,resume:kh};if(Oe(R.userStep)){for(var Y=0;Y<v.results.data.length&&(R.userStep({data:v.results.data[Y],errors:v.results.errors,meta:v.results.meta},z),!$);Y++);delete v.results}else Oe(R.userChunk)&&(R.userChunk(v.results,z,v.file),delete v.results)}v.finished&&!$&&Mr(v.workerId,v.results)}function Mr(E,v){var R=Zt[E];Oe(R.userComplete)&&R.userComplete(v),R.terminate(),delete Zt[E]}function kh(){throw new Error("Not implemented.")}function bo(E){if("object"!=typeof E||null===E)return E;var v=Array.isArray(E)?[]:{};for(var R in E)v[R]=bo(E[R]);return v}function pi(E,v){return function(){E.apply(v,arguments)}}function Oe(E){return"function"==typeof E}return Gr&&(ke.onmessage=function(E){var v=E.data;if(void 0===Q.WORKER_ID&&v&&(Q.WORKER_ID=v.workerId),"string"==typeof v.input)ke.postMessage({workerId:Q.WORKER_ID,results:Q.parse(v.input,v.config),finished:!0});else if(ke.File&&v.input instanceof File||v.input instanceof Object){var R=Q.parse(v.input,v.config);R&&ke.postMessage({workerId:Q.WORKER_ID,results:R,finished:!0})}}),(zt.prototype=Object.create(_e.prototype)).constructor=zt,(Ne.prototype=Object.create(_e.prototype)).constructor=Ne,(Mt.prototype=Object.create(Mt.prototype)).constructor=Mt,(ks.prototype=Object.create(_e.prototype)).constructor=ks,Q},void 0!==(Hr=hr.apply(ka,[]))&&(Rs.exports=Hr)}},Rs=>{Rs(Rs.s=66)}]);